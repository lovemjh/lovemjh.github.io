<!DOCTYPE html>
<html lang="zh-CN"><head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <meta name="description" content="Spring-1 - https://lovemjh.github.io/posts/java-frame/20220526003427/">
    
    <meta name="msvalidate.01" content="B46311949B856F2A7015F366FB3CE878" />
    <title>Spring-1</title>
    <link rel="icon" type="image/png" href="/favicon.ico">
    
    <link rel="stylesheet" href="https://lovemjh.github.io/style.min.824365c118b34524ce845ac2a294220354719cca11af5b27a81b04c173bbba57.css">
    
    <script type="text/javascript" src="/main.js" defer></script>
    
</head>
<body class="active-animate cool">
        <div id="header"><div class="container-header">
    <div id="vars" class="container-vars" style="display: none;">
	{
		"hasFoldAllCodeBlocks": false,
		"svgColor": "#6c757d",
		"en": false,
		"dark": false
	}
</div>
    <h1 class="title">
        
            Spring-1
            
        
    </h1>

    <div class="container-breadcrumb-nav">
    
    <div class="breadcrumb-nav-bar">
        <div><a href="/"><svg t="1656411084410" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2954" width="16" height="16"><path d="M947.5 390.6l-377-290c-34.5-26.5-82.6-26.5-117.1 0l-377 290c-14 10.8-16.6 30.9-5.9 44.9 10.8 14 30.9 16.6 44.9 5.9l28.5-21.9V768c0 88.2 71.8 160 160 160h80c35.3 0 64-28.7 64-64V640c0-17.6 14.4-32 32-32h64c17.6 0 32 14.4 32 32v224c0 35.3 28.7 64 64 64h80c88.2 0 160-71.8 160-160V419.4l28.5 21.9c5.8 4.5 12.7 6.6 19.5 6.6 9.6 0 19.1-4.3 25.4-12.5 10.8-13.9 8.2-34-5.8-44.8zM816 768c0 52.9-43.1 96-96 96h-80V640c0-52.9-43.1-96-96-96h-64c-52.9 0-96 43.1-96 96v224h-80c-52.9 0-96-43.1-96-96V370.2l284.5-218.8c11.5-8.8 27.5-8.8 39 0L816 370.2V768z" fill=#6c757d p-id="2955"></path></svg></a></div>
        <div><a href="/nav"><svg t="1656411531924" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5827" width="16" height="16"><path d="M849.59197473 125.23018519L139.22930586 391.72854662a23.35052669 23.35052669 0 0 0-14.95414244 21.65490745c-0.12257519 9.70384955 5.61801843 18.46795771 14.40255493 22.04306141l318.42928099 129.25528056 119.51057092 320.39047893c3.06437293 8.23295069 10.35758221 13.89182751 18.7335381 14.87242563l2.7170774 0.14300521a22.79893918 22.79893918 0 0 0 21.20546682-15.36272638l259.51158924-729.54564933a23.8612558 23.8612558 0 0 0-5.31158128-24.55584682 22.3290685 22.3290685 0 0 0-23.9021142-5.43415649zM793.65694081 211.64552314l-196.63064161 552.75171747-91.91077952-246.37564122-253.62799211-102.96295445 542.16941324-203.4131218z" p-id="5828" fill=#6c757d></path></svg></a></div>
        <div><a href="/search"><svg t="1656411627509" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1730" width="14" height="14"><path d="M469.333333 85.333333c211.968 0 384 172.032 384 384s-172.032 384-384 384-384-172.032-384-384 172.032-384 384-384z m0 682.666667c164.992 0 298.666667-133.674667 298.666667-298.666667 0-165.034667-133.674667-298.666667-298.666667-298.666666-165.034667 0-298.666667 133.632-298.666666 298.666666 0 164.992 133.632 298.666667 298.666666 298.666667z m362.026667 3.029333l120.704 120.661334-60.373333 60.373333-120.661334-120.704 60.330667-60.330667z" p-id="1731" fill=#6c757d></path></svg></a></div>
        <div><a href="/posts"><svg t="1656411724198" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5655" width="12" height="12"><path d="M811.705761 1024H212.294239c-93.1199 0-174.823046-87.570975-174.823046-187.387854V162.322018C37.471193 69.776145 112.604921 0 212.294239 0H596.190595l7.015883 5.93161c111.74388 95.479788 185.857116 170.741078 279.614824 266.093304 29.65805 30.040735 61.165743 62.122454 96.436499 97.393211l7.271006 7.334787v459.859234c-0.063781 99.816879-81.703145 187.387854-174.823046 187.387854zM212.294239 49.94033c-72.391155 0-124.882716 47.261538-124.882716 112.381688v674.290128c0 71.94469 59.507443 137.383743 124.882716 137.383743h599.411522c65.311492 0 124.882716-65.439053 124.882716-137.383743V397.417876c-32.528184-32.464404-61.73977-62.250016-89.356836-90.377328-90.951355-92.418312-163.278729-165.957521-269.601245-257.163999H212.294239z" fill=#6c757d p-id="5656"></path><path d="M936.588477 449.526752h-212.326129c-99.753099 0-187.324073-81.703145-187.324073-174.823046V49.94033a25.002055 25.002055 0 0 1 49.94033 0v224.763376c0 65.311492 65.502834 124.882716 137.383743 124.882716h212.326129a25.002055 25.002055 0 1 1 0 49.94033z" fill=#6c757d p-id="5657"></path></svg></a></div>
        <div><a href="/archive"><svg t="1656411795742" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7334" width="12" height="12"><path d="M884.224 522.24H504.32V141.824c0-16.896-13.824-30.72-30.72-30.72-120.32 0-233.472 47.616-317.952 134.144S26.112 445.952 29.184 566.784c2.56 114.688 49.152 222.72 131.072 304.128 81.92 81.408 189.952 128 304.64 130.56h10.24c117.76 0 227.84-45.568 312.32-128.512 86.528-85.504 133.632-199.68 132.608-321.024-0.512-2.048-1.536-29.696-35.84-29.696z m-140.288 307.712c-74.752 73.728-173.056 112.64-277.504 110.592-205.824-4.608-370.688-169.472-375.296-374.784-3.072-104.448 35.84-202.752 108.544-277.504 65.536-67.072 151.552-107.52 243.712-114.688v378.88c0 16.896 13.824 30.72 30.72 30.72 129.024 0 311.296 0 382.976 0.512-6.144 93.184-46.08 179.712-113.152 246.272z" fill=#6c757d p-id="7335"></path><path d="M603.136 11.264c-8.192-0.512-15.872 3.072-22.016 8.704-5.632 5.632-9.216 13.824-9.216 22.016v378.88c0 16.896 13.824 30.72 30.72 30.72h378.88c16.896 0 30.72-13.824 30.72-30.72 0-223.744-183.808-407.552-409.088-409.6z m30.208 378.88V74.24c167.424 16.384 301.056 150.016 315.904 315.904h-315.904z" fill=#6c757d p-id="7336"></path></svg></a></div>
        <div id="light-dark" style="cursor: pointer;"><a><svg t="1656411842215" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5086" width="12" height="12"><path d="M1007.492874 384.513055c-8.795694-34.58307-21.189627-67.666874-36.682043-99.05151-2.698679-5.397358-10.894667-3.498287-10.894666 2.598728v0.299853c0 32.484098-6.896624 63.868734-19.890263 92.554691-10.694764 23.488501-25.487523 45.077933-43.978471 64.068635-41.779547 42.679107-99.05151 66.967217-158.722299 67.26707-61.869712 0.299853-119.941284-24.188159-162.920244-68.966238-40.280281-41.979449-62.56937-98.251902-62.269516-156.323473 0.399804-59.270984 23.588452-114.94373 65.567901-156.823229 19.59041-19.59041 42.179351-35.082826 66.667364-46.077443C672.956643 71.166451 704.041426 64.469729 736.125719 64.469729h1.299364c6.097015 0 8.096037-8.096037 2.598728-10.794715C708.739126 37.982696 675.655322 25.488812 641.172203 16.493216 599.492607 5.598549 555.714038-0.098662 510.536154 0.001289 222.37722 0.700947-7.41029 237.38508 0.185992 525.444064c7.096526 271.667008 225.889418 490.559851 497.456474 497.856279 287.559228 7.796183 524.14341-220.891864 525.842579-508.551044 0.299853-44.977981-5.297407-88.656599-15.992171-130.236244z m-83.15929 301.552378c-22.588942 53.27392-54.873137 101.250434-95.953027 142.330323-41.179841 41.179841-89.056403 73.464036-142.330324 95.953027-55.172991 23.288599-113.744317 35.182777-174.314666 35.182777s-119.141675-11.794226-174.314666-35.182777c-53.27392-22.588942-101.250434-54.873137-142.330323-95.953027-41.179841-41.179841-73.464036-89.056403-95.953027-142.330323C75.749001 630.892442 63.954774 572.221164 63.954774 511.750767s11.794226-119.141675 35.182777-174.314666c22.588942-53.27392 54.873137-101.250434 95.953027-142.330323 41.179841-41.179841 89.056403-73.464036 142.330323-95.953027C392.593892 75.7642 451.26517 63.969974 511.735567 63.969974c13.99315 0 27.886348 0.599706 41.679596 1.89907C489.246577 118.643209 448.266638 198.704016 448.266638 288.360126c0 159.022152 128.836929 287.859081 287.859081 287.859081 89.156354 0 168.817357-40.580134 221.691473-104.149015 1.099462 13.09359 1.699168 26.387082 1.699168 39.680575 0 60.470397-11.794226 119.141675-35.182776 174.314666z" p-id="5087" fill=#6c757d></path></svg></a></div>
        
    </div>

    
</div>

            <div id="toc">📜</div>
        
    
    
</div>
</div>
        <div id="content">












<div class="container-main 
     container-page 
">

    <div class="desc">
        
        <span>
            
            <svg t="1656736000388" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7409" width="12" height="12"><path d="M524.885333 338.986667L200.362667 663.466667c-17.28 15.274667-27.989333 36.693333-29.696 56.234666v133.76l130.730666 0.085334c22.784-1.621333 43.989333-12.245333 61.013334-31.701334l322.688-322.645333-160.213334-160.213333z m60.373334-60.330667l160.170666 160.213333 102.144-102.144a19.712 19.712 0 0 0 0-27.861333L715.093333 176.426667a19.456 19.456 0 0 0-27.605333 0L585.258667 278.613333zM701.312 85.333333c27.946667 0 54.741333 11.136 74.282667 30.848l132.309333 132.309334a105.045333 105.045333 0 0 1 0 148.565333L424.874667 879.957333c-29.824 34.346667-72.106667 55.466667-120.448 58.794667H85.333333v-42.666667l0.128-179.84c3.626667-44.970667 24.576-86.826667 56.448-114.944l485.12-485.034666A104.789333 104.789333 0 0 1 701.269333 85.333333z" p-id="7410" fill="#adb5bd"></path></svg>
            2022-05-25&nbsp;
        </span>
        <span>
            
            <svg t="1656737270708" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="23838" width="11" height="11"><path d="M824.264 95.36c0-23.859 25.043-44.16 48.902-44.16s49.714 20.301 49.714 44.16v190.08c0 23.859-19.054 52.868-42.913 52.868h-190.08c-23.859 0-46.696-25.96-46.696-49.819s22.55-46.249 46.409-46.249h82.025C702.344 175.534 610.22 155.853 512 155.853c-206.775 0-360.398 149.372-360.398 356.147 0 206.775 153.623 358.23 360.398 358.23 206.775 0 357.467-151.455 357.467-358.23 0-23.859 23.634-50.706 53.413-50.706 29.78 0 49.92 26.847 49.92 50.706 0 254.493-206.307 460.8-460.8 460.8-254.493 0-460.8-206.307-460.8-460.8C51.2 257.507 257.507 51.2 512 51.2c122.4 0 226.684 33.296 312.264 117.369 0.358 0.351 0.358-24.052 0-73.209z" p-id="23839" fill="#adb5bd"></path></svg>
            2022-05-25&nbsp;&nbsp;&nbsp;
        </span>
        <span>
            
            <svg t="1656737548689" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="33866" width="12" height="12"><path d="M832.038608 64.662657H192.030028C121.255125 64.662657 63.940169 121.98845 63.940169 192.694717v446.793671C63.940169 710.205493 121.255125 767.643272 192.030028 767.643272h133.353183a63.940169 63.940169 0 0 1 55.219742 31.576328l76.099638 129.83828c12.358154 21.093031 33.790754 31.626903 55.216129 31.626903s42.832688-10.544709 55.198067-31.619678l76.222461-129.870792a63.940169 63.940169 0 0 1 55.212517-31.551041h133.54103c70.576219 0 127.732228-57.289669 127.732227-127.800865V192.391272C959.825022 121.85479 902.643727 64.662657 832.038608 64.662657zM895.884854 639.842407A63.85347 63.85347 0 0 1 832.092795 703.703103h-133.54103a127.753903 127.753903 0 0 0-110.349172 63.09847l-76.222461 129.856342a0.274545 0.274545 0 0 1 0-0.050574h-0.032512s-0.021675 0.061411-0.032512 0.061412l-76.1466-129.85273A127.804477 127.804477 0 0 0 325.383211 703.703103H192.030028A64.207489 64.207489 0 0 1 127.880338 639.488388V192.694717A64.102729 64.102729 0 0 1 192.030028 128.602826h640.00858A63.799284 63.799284 0 0 1 895.884854 192.391272v447.451135z" fill="#adb5bd" p-id="33867"></path><path d="M608.154093 288.092004A31.970084 31.970084 0 0 0 576.184009 320.062089v160.078006l-134.650049-179.278119A31.970084 31.970084 0 0 0 384.002258 320.062089v255.760676a31.970084 31.970084 0 0 0 63.940169 0v-159.958796l134.650048 179.274507a31.970084 31.970084 0 0 0 57.531703-19.200113V320.062089a31.970084 31.970084 0 0 0-31.970085-31.970085z" fill="#adb5bd" p-id="33868"></path></svg>
            14207 字</span>&nbsp;
        <span>
            
            <svg t="1656737462334" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="32892" width="12" height="12"><path d="M512 74.666667C270.933333 74.666667 74.666667 270.933333 74.666667 512S270.933333 949.333333 512 949.333333 949.333333 753.066667 949.333333 512 753.066667 74.666667 512 74.666667z m0 810.666666c-204.8 0-373.333333-168.533333-373.333333-373.333333S307.2 138.666667 512 138.666667 885.333333 307.2 885.333333 512 716.8 885.333333 512 885.333333z" p-id="32893" fill="#adb5bd"></path><path d="M695.466667 567.466667l-151.466667-70.4V277.333333c0-17.066667-14.933333-32-32-32s-32 14.933333-32 32v238.933334c0 12.8 6.4 23.466667 19.2 29.866666l170.666667 81.066667c4.266667 2.133333 8.533333 2.133333 12.8 2.133333 12.8 0 23.466667-6.4 29.866666-19.2 6.4-14.933333 0-34.133333-17.066666-42.666666z" p-id="32894" fill="#adb5bd"></path></svg>
            29 分钟</span><div class="container-ctgtag">
	<div class="taxonomy">
		
		<div class="ctg">
			
			
			<a href="/categories/"></a>
			
		</div>
		<div class="tag">
			
			 - 
			
			<a href="/tags/"></a>
			
		</div>
	</div>
</div>
    </div>
    
    <div class="toc">
        
        <div class="page-operation">
            <div><a href="#"><img src="/imgs/icons/arrow-up-circle.svg" alt=""></a></div>
            <div><a href="https://lovemjh.github.io/posts/java-frame/20220430215722/"><img src="/imgs/icons/arrow-left-circle.svg" alt=""></a></div>
            <div><a href="https://lovemjh.github.io/posts/java-frame/20220526005077/"><img src="/imgs/icons/arrow-right-circle.svg" alt=""></a></div>
        </div>
        
        <nav id="TableOfContents">
  <ul>
    <li><a href="#一-spring概述">一 Spring概述</a>
      <ul>
        <li><a href="#一-spring是什么掌握">（一） Spring是什么（掌握）</a></li>
        <li><a href="#二-spring框架发展历程了解">（二） Spring框架发展历程（了解）</a></li>
        <li><a href="#三spring框架的优势掌握">（三）Spring框架的优势(掌握)</a></li>
        <li><a href="#四-spring的体系结构掌握">（四） Spring的体系结构（掌握）</a></li>
      </ul>
    </li>
    <li><a href="#二-程序的耦合和解耦合">二 程序的耦合和解耦合</a>
      <ul>
        <li><a href="#一-什么是程序的耦合">（一） 什么是程序的耦合</a></li>
        <li><a href="#二-解决程序耦合的思路">（二） 解决程序耦合的思路</a>
          <ul>
            <li><a href="#1-编译不依赖运行时才依赖">1 编译不依赖，运行时才依赖</a></li>
            <li><a href="#2-使用工厂模式解耦合">2 使用工厂模式解耦合</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#三-springioc-机制的详解">三 SpringIOC 机制的详解</a>
      <ul>
        <li><a href="#一-ioc概述及作用重要">（一） IOC概述及作用【重要】</a>
          <ul>
            <li><a href="#1-ioc的简介设计思想">1 IOC的简介，设计思想</a></li>
            <li><a href="#2-ioc作用">2 IOC作用</a></li>
          </ul>
        </li>
        <li><a href="#二-springioc入门案例前期准备">（二） SpringIOC入门案例前期准备</a>
          <ul>
            <li><a href="#1-构建maven工程添加spring框架的依赖">1 构建maven工程，添加Spring框架的依赖</a></li>
            <li><a href="#2-创建持久层接口和实现类">2 创建持久层接口和实现类</a></li>
            <li><a href="#3-创建业务层接口和实现类">3 创建业务层接口和实现类</a></li>
            <li><a href="#4-在resources文件夹中创建一个任意名称的xml文件">4 在resources文件夹中创建一个任意名称的xml文件</a></li>
            <li><a href="#5-让spring管理资源在配置文件中配置service和dao">5 让Spring管理资源，在配置文件中配置service和dao</a></li>
            <li><a href="#6-测试ioc-配置是否成功">6 测试IOC 配置是否成功</a></li>
          </ul>
        </li>
        <li><a href="#三spring基于xml的ioc细节">（三）Spring基于XML的IOC细节</a>
          <ul>
            <li><a href="#1-ioc配置文件详解配置标签书写规范配置标签的属性">1 IOC配置文件详解：配置标签书写规范，配置标签的属性</a></li>
            <li><a href="#2-springioc机制源码解析">2 SpringIOC机制源码解析</a></li>
            <li><a href="#21-ioc容器解析--面试题目">2.1 IOC容器解析  （面试题目）</a></li>
            <li><a href="#22-ioc容器底层bean初始化过程了解">2.2 IOC容器底层bean初始化过程（了解）</a></li>
          </ul>
        </li>
        <li><a href="#四-手动实现自己的ioc容器">（四） 手动实现自己的IOC容器</a>
          <ul>
            <li><a href="#1-分析ioc-实现思路">1 分析IOC 实现思路</a></li>
            <li><a href="#2-ioc原理实现-环境搭建构建maven工程引入依赖">2 IOC原理实现-环境搭建：构建maven工程，引入依赖</a></li>
            <li><a href="#3-设计接口和类以及编写配置文件">3 设计接口和类以及编写配置文件</a></li>
            <li><a href="#4-使用xml技术解析配置文件">4 使用xml技术解析配置文件</a></li>
            <li><a href="#5-编写测试文件展示测试结果">5 编写测试文件，展示测试结果</a></li>
          </ul>
        </li>
        <li><a href="#五spring管理bean细节">（五）Spring管理bean细节</a>
          <ul>
            <li><a href="#1-bean实例化介绍">1 bean实例化介绍：</a></li>
            <li><a href="#2-bean实例化方式面试问题">2 bean实例化方式【面试问题】</a>
              <ul>
                <li><a href="#21-构造方法的方式">2.1 构造方法的方式</a></li>
                <li><a href="#211-创建user类">2.1.1 创建User类</a></li>
                <li><a href="#212-配置spring容器管理user-类型对象">2.1.2 配置Spring容器管理user 类型对象</a></li>
                <li><a href="#213-测试容器实例化user对象是否成功">2.1.3 测试容器实例化User对象是否成功</a></li>
                <li><a href="#22-静态工厂方式">2.2 静态工厂方式</a></li>
                <li><a href="#221-创建静态工厂itemfactory">2.2.1 创建静态工厂ItemFactory</a></li>
                <li><a href="#222-配置spring容器管理user类型对象">2.2.2 配置Spring容器管理User类型对象</a></li>
                <li><a href="#223-测试容器实例化user对象是否成功">2.2.3 测试容器实例化User对象是否成功</a></li>
                <li><a href="#23-实例工厂方式">2.3 实例工厂方式</a></li>
                <li><a href="#231-创建实例工厂newitemfactory">2.3.1 创建实例工厂NewItemFactory</a></li>
                <li><a href="#232-配置spring容器管理newitemfactory类型对象">2.3.2 配置Spring容器管理NewItemFactory类型对象</a></li>
                <li><a href="#233-测试容器实例化user对象是否成功">2.3.3 测试容器实例化User对象是否成功</a></li>
              </ul>
            </li>
            <li><a href="#3-bean作用域面试问题">3 bean作用域【面试问题】</a>
              <ul>
                <li><a href="#31-bean作用域介绍">3.1 bean作用域介绍</a></li>
                <li><a href="#32-bean作用域的解析">3.2 bean作用域的解析</a></li>
                <li><a href="#321-当scope的取值为singleton时">3.2.1 当scope的取值为singleton时</a></li>
                <li><a href="#322-当scope的取值为prototype时">3.2.2 当scope的取值为prototype时</a></li>
                <li><a href="#323-当scope的取值为其他值">3.2.3 当Scope的取值为其他值</a></li>
              </ul>
            </li>
            <li><a href="#4-bean的生命周期">4 bean的生命周期</a>
              <ul>
                <li><a href="#41-bean生命周期介绍">4.1 bean生命周期介绍</a></li>
                <li><a href="#42-单例对象的生命周期">4.2 单例对象的生命周期</a></li>
                <li><a href="#421-在userservice中添加方法init和destory">4.2.1 在UserService中添加方法init和destory</a></li>
                <li><a href="#422-在springxml配置文件中配置userservice">4.2.2 在Spring.xml配置文件中配置UserService</a></li>
                <li><a href="#423-测试代码验证单例对象的生命周期">4.2.3 测试代码验证单例对象的生命周期</a></li>
                <li><a href="#43-多例对象的生命周周期">4.3 多例对象的生命周周期</a></li>
                <li><a href="#431-修改spring配置文件scope属性">4.3.1 修改Spring配置文件scope属性</a></li>
                <li><a href="#432-测试代码验证多例对象的生命周期">4.3.2 测试代码验证多例对象的生命周期</a></li>
              </ul>
            </li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#四-spring依赖注入">四 Spring依赖注入【~~~】</a>
      <ul>
        <li>
          <ul>
            <li><a href="#一-依赖注入的介绍什么是依赖注入为什么需要依赖注入">（一） 依赖注入的介绍:什么是依赖注入，为什么需要依赖注入</a></li>
            <li><a href="#二-spring中依赖注入方式">（二） Spring中依赖注入方式</a></li>
            <li><a href="#1-构造函数注入">1 构造函数注入</a>
              <ul>
                <li><a href="#11-构建account类提供所有属性的构造方法">1.1 构建Account类，提供所有属性的构造方法</a></li>
                <li><a href="#12-在springxml文件中配置account类使用构造方法注入依赖数据">1.2 在Spring.xml文件中配置Account类(使用构造方法注入依赖数据)</a></li>
                <li><a href="#13-构造函数注入测试方法">1.3 构造函数注入测试方法</a></li>
              </ul>
            </li>
            <li><a href="#2-setter注入">2 setter注入</a>
              <ul>
                <li><a href="#21-修改account类添加属性的setter方法">2.1 修改Account类，添加属性的setter方法</a></li>
                <li><a href="#22-在springxml文件中配置account类利用setter方法注入依赖数据">2.2 在Spring.xml文件中配置Account类(利用setter方法注入依赖数据)</a></li>
                <li><a href="#23-setter注入测试方法">2.3 setter注入测试方法</a></li>
              </ul>
            </li>
            <li><a href="#3-注入集合数据">3 注入集合数据</a>
              <ul>
                <li><a href="#31-修改account类添加集合属性">3.1 修改Account类，添加集合属性</a></li>
                <li><a href="#32-在springxml文件中配置account类利用setter注入依赖集合数据">3.2 在Spring.xml文件中配置Account类(利用setter注入依赖集合数据)</a></li>
                <li><a href="#33-集合注入测试方法">3.3 集合注入测试方法</a></li>
              </ul>
            </li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#五-spring配置文件模块化">五 Spring配置文件模块化</a>
      <ul>
        <li>
          <ul>
            <li><a href="#一-spring模块化的介绍为什么需要配置文件进行模块操作如何实现配置文件模块化">（一） Spring模块化的介绍：为什么需要配置文件进行模块操作，如何实现配置文件模块化</a></li>
            <li><a href="#二-spring模块化的配置">（二） Spring模块化的配置</a>
              <ul>
                <li><a href="#1-spring模块化配置方式一">1 Spring模块化配置方式一</a></li>
                <li><a href="#2-spring模块化配置方式二">2 Spring模块化配置方式二</a></li>
              </ul>
            </li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#六--模板设计模式解析">六  模板设计模式解析</a>
      <ul>
        <li>
          <ul>
            <li><a href="#一模板设计模式介绍">（一）模板设计模式介绍</a></li>
            <li><a href="#二-模板设计模式的应用场景">（二） 模板设计模式的应用场景</a></li>
            <li><a href="#三-模板设计模式实现">（三） 模板设计模式实现</a>
              <ul>
                <li><a href="#1-需求用模板方法模式实现出国留学手续设计程序">1 需求：用模板方法模式实现出国留学手续设计程序。</a></li>
                <li><a href="#2-程序代码实现">2 程序代码实现</a></li>
                <li><a href="#3-运行结果如下">3 运行结果如下：</a></li>
              </ul>
            </li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#七-spring整合jdbc实现用户的crud">七 Spring整合JDBC实现用户的CRUD</a>
      <ul>
        <li>
          <ul>
            <li><a href="#一-整合思路分析">（一） 整合思路分析</a></li>
            <li><a href="#二构建maven工程添加技术依赖">（二）构建maven工程，添加技术依赖</a></li>
            <li><a href="#三-构建数据库表并编写实体类account">（三） 构建数据库表并编写实体类Account</a></li>
            <li><a href="#四编写持久层代码accountdao以及实现类accountdaoimp">（四）编写持久层代码AccountDao以及实现类AccountDaoImp</a></li>
            <li><a href="#五编写业务层代码accountservice以及实现类accountserviceimpl">（五）编写业务层代码AccountService以及实现类AccountServiceImpl</a></li>
            <li><a href="#六创建并编写配置文件配置容器管理对象">（六）创建并编写配置文件：配置容器管理对象</a></li>
            <li><a href="#七测试代码">（七）测试代码</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>
    </div>

    <div class='content  content '>
        <h1 id="一-spring概述">一 Spring概述</h1>
<h2 id="一-spring是什么掌握">（一） Spring是什么（掌握）</h2>
<pre tabindex="0"><code>话术：
Spring是一个分层的Java SE/EE full-stack（一站式）轻量级开源框架，以 IoC（Inverse Of Control：反转控制，控制翻转， 控制反向）和 AOP（Aspect Oriented Programming：面向切面编程）为内核。
在java三层架构当中分别提供了相应技术：
表现层（web层）      ：SpringMVC 框架，servlet
业务层（service层）  ：Bean管理（IOC容器，在三层都有体现） 声明式事务
持久层（dao层）      ：JdbcTemplate模板对象以及提供了ORM模块整合其他优秀的持久层技术

ps:
工具统一配置： 

文件的忽略~ 

设置文件的编码： utf-8  必须设置

工程统一maven：  maven的版本信息  maven的配置信息  maven 的本地仓库 【必须配置】

配置当前工程的自动编译：  compile当中~

配置自动导报： 

忽略大小写进行代码提示： 
</code></pre><h2 id="二-spring框架发展历程了解">（二） Spring框架发展历程（了解）</h2>
<pre tabindex="0"><code>话术：
oracle： java Mysql oracle websphere 
IBM:     DB2   eclipse 


1997 年，IBM提出了EJB 的思想
1998 年，SUN制定开发标准规范 EJB1.0
1999 年，EJB1.1 发布
2001 年，EJB2.0 发布
2003 年，EJB2.1 发布
2006 年，EJB3.0 发布

Rod Johnson （ Spring 之父）
Expert One-to-One J2EE Design and Development(2002)
阐述了 J2EE 使用EJB 开发设计的优点及解决方案
Expert One-to-One J2EE Development without EJB(2004)
阐述了 J2EE 开发不使用 EJB的解决方式（Spring 雏形）

2017  年 9 月份发布了 Spring 的最新版本 Spring5.0 通用版（GA）
</code></pre><h2 id="三spring框架的优势掌握">（三）Spring框架的优势(掌握)</h2>
<pre tabindex="0"><code>方便解耦，简化开发:Spring 就是一个大工厂，可以管理所有对象的创建和依赖关系维护，交给Spring管理
AOP 编程的支持：可以方便的实现对程序进行权限拦截，日志记录，运行的监控
声明式事务的支持：通过配置方式完成对事务的管理，无需手动编程
方便程序的测试：对Junit支持，可以通过注解方便的对Spring程序进行测试
整合外部优秀技术：Spring内部提供了对各种优秀框架（Hibernate，Mybatis，Quartz等）的直接支持
javaEE技术的封装 ：Spring对javaEE开发当中复杂难用的API（JavaEmail, RMI等）进行封装，降低了这些API的使用难度。
</code></pre><h2 id="四-spring的体系结构掌握">（四） Spring的体系结构（掌握）</h2>
<pre tabindex="0"><code>
  Spring的核心是容器（IOC）：  Beans Core Context SpEL表达式
  中间层技术：AOP Aspects AOP
  web： servler  springmvc 
  data Access： 数据访问层： jdbc  ORM 整合外部的优秀框架 Transaction 事务
  基于Test测试： spring 整合junit junit4.X 
  
  官方网站： 
  https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#spring-core
</code></pre><p><img src="/posts/Java-frame/20220526003427/image-20220526003738125.png"
    
    
    
    loading="lazy"
    
    
></p>
<h1 id="二-程序的耦合和解耦合">二 程序的耦合和解耦合</h1>
<h2 id="一-什么是程序的耦合">（一） 什么是程序的耦合</h2>
<pre tabindex="0"><code>话术：
程序的耦合是程序之间的关联性，也就是多个类的联系是否紧密，多个对象之间的关系是否密切。

耦合度高： 
（1）不利于扩展
（2）不利于程序的维护。

生活中的案例： 
你的房子里面有窗子，那么房子和窗子就有了关联
耦合度是松还是紧就看你的关联是强还是弱，也就是修改的代价，比如你窗子是扣死在墙里的那么你修改窗子就必须修改墙 这就比较紧密了，反应在程序上就是耦合度高，不利于程序的扩展和维护。
但是如果你窗子是按照某种规格的 可以自由拆装的，那么修改的代价就小，耦合度也就低了，反应在程序上就是耦合度低，利于程序的扩展和维护。

我们写程序的目标就是 高内聚 低耦合！
这样修改起来 就不会有太多的联系，不用改一个地方其他的都要修改。
</code></pre><h2 id="二-解决程序耦合的思路">（二） 解决程序耦合的思路</h2>
<h3 id="1-编译不依赖运行时才依赖">1 编译不依赖，运行时才依赖</h3>
<p>当我们讲解jdbc时，是通过反射来注册驱动的，代码如下:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Class<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">forName</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;com.mysql.jdbc.Driver&#34;</span><span style="color:#000;font-weight:bold">);</span><span style="color:#998;font-style:italic">//使用的驱动类是指定了一个字符串
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>底层<span style="color:#a61717;background-color:#e3d2d2">：</span> DriverManager<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">regist</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">new</span> com<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">mysql</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">jdbc</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">Driver</span><span style="color:#000;font-weight:bold">());</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Connection connection <span style="color:#000;font-weight:bold">=</span> DriverManager<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getConnection</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;&#34;</span><span style="color:#000;font-weight:bold">,</span><span style="color:#d14">&#34;&#34;</span><span style="color:#000;font-weight:bold">,</span><span style="color:#d14">&#34;&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span></code></pre></div><p>​        此时的好处式，我们的类中在编译阶段不再需要具体的驱动类，就算删除mysql的驱动jar包，依然可以通过编译。在运行阶段才会依赖驱动包。实际开发当中，我们应该做到编译不依赖，运行时才依赖。</p>
<p>​       上述代码产生的新问题，mysql驱动类的全限定类名作为一个字符串java类中是写死的，一旦发生改变，还需要修改源码。</p>
<p>​        使用配置文件结合反射就可以解决上述问题。</p>
<h3 id="2-使用工厂模式解耦合">2 使用工厂模式解耦合</h3>
<p>​        在实际开发中我们可以把三层的对象都使用配置文件配置起来，当启动服务器应用加载的时候，让一个类中的 方法通过读取配置文件，把这些对象创建出来并<strong>存起来</strong>。在接下来的使用的时候，直接拿过来用就好了。</p>
<p>那么，这个读取配置文件，创建和获取三层对象的类就是工厂。</p>
<p>service 调用dao：</p>
<p>原生：  new xxxDaoImpl();  问题： service实现类当中出现了 new关键字， 出现了dao 层具体的实现类。 不满足java设计原则： 面向接口开发~  总结： 耦合度高~</p>
<p>工厂模式： XXXFactory.getInstance(); 获得接口的实现类： xxxDao接口接收~  解决了： new关键字， 业务层的实现类当中， 不在出现dao层的实现类。  总结： 松耦合~</p>
<h1 id="三-springioc-机制的详解">三 SpringIOC 机制的详解</h1>
<h2 id="一-ioc概述及作用重要">（一） IOC概述及作用【重要】</h2>
<h3 id="1-ioc的简介设计思想">1 IOC的简介，设计思想</h3>
<p>SpringIOC：IOC 是 Inversion of Control 的缩写，多数书籍翻译成“控制反转”，还有些书籍翻译成为“控制反向”或者“控制倒置”。</p>
<p>就是将对象的创建和维护的权利交给spring 框架。</p>
<p>1996 年，Michael Mattson 在一篇有关探讨面向对象框架的文章中，首先提出了 IOC 这个概念。简单来说就是把复杂系统分解成相互合作的对象，这些对象类通过封装以后，内部实现对外部是透明的，从而降低了解决问题的复杂度，而且可以灵活地被重用和扩展。</p>
<p>IOC 理论提出的观点大体是这样的：借助于“第三方”实现具有依赖关系的对象之间的解耦 如下图</p>
<p><img src="/posts/Java-frame/20220526003427/image-20220526004049183.png"
    
    
    
    loading="lazy"
    
    
></p>
<p>大家看到了吧，由于引进了中间位置的“第三方”，也就是IOC容器，使得A、B、C、D这4个对象没有了耦合关系，齿轮之间的传动全部依靠“第三方”了， 全部对象的控制权全部上缴给“第三方”IOC容器，所以，IOC容器成了整个系统的关键核心，它起到了一种类似“粘合剂”的作用，把系统中的所有对象粘合 在一起发挥作用，如果没有这个“粘合剂”，对象与对象之间会彼此失去联系，这就是有人把IOC容器比喻成“粘合剂”的由来。
我们再来做个试验：把上图中间的IOC容器拿掉，然后再来看看这套系统：</p>
<p><img src="/posts/Java-frame/20220526003427/image-20220526004115931.png"
    
    
    
    loading="lazy"
    
    
></p>
<p>我们现在看到的画面，就是我们要实现整个系统所需要完成的全部内容。这时候，A、B、C、D这4个对象之间已经没有了耦合关系，彼此毫无联系，这样的话， 当你在实现A的时候，根本无须再去考虑B、C和D了，对象之间的依赖关系已经降低到了最低程度。所以，如果真能实现IOC容器，对于系统开发而言，这将是 一件多么美好的事情，参与开发的每一成员只要实现自己的类就可以了，跟别人没有任何关系！</p>
<p>总结：</p>
<p>IOC容器就是创建对象， 并且维护对象和对象之间的关联关系。</p>
<h3 id="2-ioc作用">2 IOC作用</h3>
<p>IOC本质上就是一个大工厂，大容器。主要作用就是创建和管理对象的依赖关系，削减计算机程序的耦合（解除我们代码中的依赖关系），提高程序的可扩展性和可维护性。</p>
<h2 id="二-springioc入门案例前期准备">（二） SpringIOC入门案例前期准备</h2>
<h3 id="1-构建maven工程添加spring框架的依赖">1 构建maven工程，添加Spring框架的依赖</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#000080">&lt;properties&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;spring.version&gt;</span>5.2.5.RELEASE<span style="color:#000080">&lt;/spring.version&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;/properties&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">&lt;!--导入spring的context坐标，context依赖core、beans、expression aop--&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;dependencies&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;groupId&gt;</span>org.springframework<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;artifactId&gt;</span>spring-context<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;version&gt;</span>${spring.version}<span style="color:#000080">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;/dependencies&gt;</span>
</span></span></code></pre></div><h3 id="2-创建持久层接口和实现类">2 创建持久层接口和实现类</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">interface</span> <span style="color:#458;font-weight:bold">UserDao</span> <span style="color:#000;font-weight:bold">{</span>    
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">save</span><span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">class</span> <span style="color:#458;font-weight:bold">UserDaoImpl</span> <span style="color:#000;font-weight:bold">implements</span> UserDao <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#3c5d5d;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">save</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;userDao save method running...... &#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h3 id="3-创建业务层接口和实现类">3 创建业务层接口和实现类</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">interface</span> <span style="color:#458;font-weight:bold">UserService</span> <span style="color:#000;font-weight:bold">{</span>    
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">saveService</span><span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">class</span> <span style="color:#458;font-weight:bold">UserServiceImpl</span> <span style="color:#000;font-weight:bold">implements</span> UserService <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#3c5d5d;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">saveService</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;userSerivce save method running......&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h3 id="4-在resources文件夹中创建一个任意名称的xml文件">4 在resources文件夹中创建一个任意名称的xml文件</h3>
<p>xml文件名称： applicationContext.xml ,注意文件名称不是必须。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span><span style="color:#000080">&lt;beans</span> <span style="color:#008080">xmlns=</span><span style="color:#d14">&#34;http://www.springframework.org/schema/beans&#34;</span>       <span style="color:#008080">xmlns:xsi=</span><span style="color:#d14">&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span>       <span style="color:#008080">xsi:schemaLocation=</span><span style="color:#d14">&#34;http://www.springframework.org/schema/beans                                               http://www.springframework.org/schema/beans/spring-beans.xsd&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;/beans&gt;</span>
</span></span></code></pre></div><h3 id="5-让spring管理资源在配置文件中配置service和dao">5 让Spring管理资源，在配置文件中配置service和dao</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;beans</span> <span style="color:#008080">xmlns=</span><span style="color:#d14">&#34;http://www.springframework.org/schema/beans&#34;</span>
</span></span><span style="display:flex;"><span>       <span style="color:#008080">xmlns:xsi=</span><span style="color:#d14">&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span>
</span></span><span style="display:flex;"><span>       <span style="color:#008080">xsi:schemaLocation=</span><span style="color:#d14">&#34;http://www.springframework.org/schema/beans
</span></span></span><span style="display:flex;"><span><span style="color:#d14">       http://www.springframework.org/schema/beans/spring-beans.xsd&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">&lt;!--配置userDaoImpl--&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;bean</span> <span style="color:#008080">id=</span><span style="color:#d14">&#34;userDao&#34;</span> <span style="color:#008080">class=</span><span style="color:#d14">&#34;com.ujiuye.dao.impl.UserDaoImpl&#34;</span><span style="color:#000080">&gt;&lt;/bean&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">&lt;!--配置userServiceImpl--&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;bean</span> <span style="color:#008080">id=</span><span style="color:#d14">&#34;userService&#34;</span> <span style="color:#008080">class=</span><span style="color:#d14">&#34;com.ujiuye.service.UserServiceImpl&#34;</span><span style="color:#000080">&gt;&lt;/bean&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;/beans&gt;</span>
</span></span></code></pre></div><h3 id="6-测试ioc-配置是否成功">6 测试IOC 配置是否成功</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>    <span style="color:#3c5d5d;font-weight:bold">@Test</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">test1</span><span style="color:#000;font-weight:bold">(){</span>
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">//1：获得spring IOC容器对象：
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        ApplicationContext applicationContext <span style="color:#000;font-weight:bold">=</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000;font-weight:bold">new</span> ClassPathXmlApplicationContext<span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;applicationContext.xml&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">//2:从容器当中根据id获得UserDaoImpl 对象,执行userDao对象的save方法
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        UserDao userDao <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">(</span>UserDao<span style="color:#000;font-weight:bold">)</span> applicationContext<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getBean</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;userDao&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        userDao<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">save</span><span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">//3:从容器当中根据id获得UserServiceImpl 对象,执行userService对象的saveService方法
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        UserService userService <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">(</span>UserService<span style="color:#000;font-weight:bold">)</span>applicationContext<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getBean</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;userService&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        userService<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">saveService</span><span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>运行结果：</p>
<p><img src="/posts/Java-frame/20220526003427/image-20220526004217141.png"
    
    
    
    loading="lazy"
    
    
></p>
<h2 id="三spring基于xml的ioc细节">（三）Spring基于XML的IOC细节</h2>
<h3 id="1-ioc配置文件详解配置标签书写规范配置标签的属性">1 IOC配置文件详解：配置标签书写规范，配置标签的属性</h3>
<pre tabindex="0"><code>话术：
bean标签： 用于配置对象交给Spring 来创建。
默认情况下他会调用类中无参数的构造器，如果没有无参数构造器则不能成功创建 
基本属性： 
id      ：  Bean实例对象在Spring容器当中的唯一标识
class   ：  Bean的全限定类名
name    ：  了解，给对象命名操作
</code></pre><h3 id="2-springioc机制源码解析">2 SpringIOC机制源码解析</h3>
<h3 id="21-ioc容器解析--面试题目">2.1 IOC容器解析  （面试题目）</h3>
<p>IOC思想基于IOC容器完成，IOC容器底层就是对象工厂，Spring 中工厂的类结构图如下：</p>
<p><img src="/posts/Java-frame/20220526003427/image-20220526004421794.png"
    
    
    
    loading="lazy"
    
    
></p>
<pre tabindex="0"><code>话术：
1）BeanFactory ：该接口是顶层接口， IOC容器的基本实现，是Spring内部使用的接口，不提供开发人员使用，加载配置文件时，不会创建对象，在获得（使用）对象时才采取创建对象。对象的创建时机，getBean()创建【稍后演示】

2）HierarchicalBeanFactory：这个工厂接口非常简单，实现了Bean工厂的分层。 工厂接口也是继承自BeanFacotory，也是一个二级接口，相对于父接口，它只扩展了一个重要的功能——工厂分层

3）AutowireCapableBeanFactory：该接口有自动装配能力，需要注意的是，ApplicationContext接口并没有实现此接口，因为应用代码很少用到此功能，如果确实需要的话，可以调用ApplicationContext的getAutowireCapableBeanFactory方法，来获取此接口的实例。 

4）ListableBeanFactory：获取bean时,Spring 鼓励使用这个接口定义的api，如查看Bean的个数、获取某一类型Bean的配置名、查看容器中是否包括某一Bean等方法。

5）ApplicationContext： BeanFactory接口的子接口，提供更多强大的功能，一般由开发人员使用.接口提供了bean基础性操作同时，扩展了国际化等功能。ApplicationContext接口在加载配置文件时候就会配置文件当中的对象进行创建，存放在IOC容器当中

6）AnnotationConfigApplicationContext：   
   当使用注解配置容器对象时，需要使用此类来创建 spring 容器。它用来读取注解。

7）ClassPathXmlApplicationContext： 
   它是从类的根路径下加载配置文件 推荐使用这种

8）FileSystemXmlApplicationContext： 【不用~】
   它是从磁盘路径上加载配置文件，配置文件可以在磁盘的任意位置。
</code></pre><p>重点掌握： BeanFactory ApplicationContext</p>
<p>面试题目：  BeanFactory &amp; ApplicationContext 联系和区别：</p>
<p>BeanFactory ： 顶层接口， 接口当中实现了基础性的功能。 提供给框架设计者使用。</p>
<p>​                             加载配置文件的时候， 对象不创建。 getBean();才会创建对象。</p>
<p>ApplicationContext ：是BeanFactory 接口的子接口。 提供了基础性功能之外， 功能进行了扩展，开发者使用。</p>
<p>​                              加载配置文件的时候， 对象就创建成功， 并且存放在IOC 容器当中。</p>
<p>ClassPathXmlApplicationContext： 从类路径下获得资源文件。</p>
<p>AnnotationConfigApplicationContext： 基于主机模式使用的实现类。</p>
<h3 id="22-ioc容器底层bean初始化过程了解">2.2 IOC容器底层bean初始化过程（了解）</h3>
<p><img src="/posts/Java-frame/20220526003427/image-20220526004453724.png"
    
    
    
    loading="lazy"
    
    
></p>
<pre tabindex="0"><code>话术：
1）BeanFactoryPostProcessor
    作用：定义了在bean工厂对象创建后，bean对象创建前执行的动作，用于对工厂进行创建后业务处理
    运行时机： 操作用于对工厂进行处理，仅运行一次

2）BeanPostProcessor
    作用： 定义了所有bean初始化前后进行的统一动作，用于对bean进行创建前业务处理与创建后业务处理
    运行时机：当前操作伴随着每个bean的创建过程，每次创建bean均运行该操作

3）InitializingBean 【了解】
    作用：定义了每个bean的初始化前进行的动作，属于非统一性动作，用于对bean进行创建前业务处理。类似于         init-method。
    运行时机：当前操作伴随着任意一个bean的创建过程，保障其个性化业务处理
</code></pre><h2 id="四-手动实现自己的ioc容器">（四） 手动实现自己的IOC容器</h2>
<h3 id="1-分析ioc-实现思路">1 分析IOC 实现思路</h3>
<pre tabindex="0"><code>讲解思路：
 1、创建工厂对象，加载Spring核心配置文件
 2、使用xml解析技术，获得bean标签当中id属性以及class属性对应的值
 3、底层使用反射技术，创建对象
 4、准备临时容器，存放创建的对象
 5、提供getBean方法，对外提供对象
 6、测试自定义的工厂对象
</code></pre><p><img src="/posts/Java-frame/20220526003427/image-20220526004516450.png"
    
    
    
    loading="lazy"
    
    
></p>
<h3 id="2-ioc原理实现-环境搭建构建maven工程引入依赖">2 IOC原理实现-环境搭建：构建maven工程，引入依赖</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#000080">&lt;properties&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;spring.version&gt;</span>5.2.5.RELEASE<span style="color:#000080">&lt;/spring.version&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;/properties&gt;</span>
</span></span><span style="display:flex;"><span>   
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;dependencies&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">&lt;!--导入spring的context坐标--&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;groupId&gt;</span>org.springframework<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;artifactId&gt;</span>spring-context<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;version&gt;</span>${spring.version}<span style="color:#000080">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">&lt;!--导入junit单元测试--&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;groupId&gt;</span>junit<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;artifactId&gt;</span>junit<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;version&gt;</span>4.12<span style="color:#000080">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;scope&gt;</span>test<span style="color:#000080">&lt;/scope&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;/dependencies&gt;</span>
</span></span><span style="display:flex;"><span>    
</span></span></code></pre></div><h3 id="3-设计接口和类以及编写配置文件">3 设计接口和类以及编写配置文件</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#998;font-style:italic">//设定UserDao接口
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">interface</span> <span style="color:#458;font-weight:bold">UserDao</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">save</span><span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">//设定UserDao接口实现类
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">class</span> <span style="color:#458;font-weight:bold">UserDaoImpl</span> <span style="color:#000;font-weight:bold">implements</span> UserDao <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#3c5d5d;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">save</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;userDao save method running...... &#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#998;font-style:italic">&lt;!--配置userDaoImpl--&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;bean</span> <span style="color:#008080">id=</span><span style="color:#d14">&#34;userDao&#34;</span> <span style="color:#008080">class=</span><span style="color:#d14">&#34;com.ujiuye.dao.impl.UserDaoImpl&#34;</span><span style="color:#000080">&gt;&lt;/bean&gt;</span>
</span></span></code></pre></div><h3 id="4-使用xml技术解析配置文件">4 使用xml技术解析配置文件</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">&lt;!--引入dom4J 是xml解析。 --&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;groupId&gt;</span>dom4j<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;artifactId&gt;</span>dom4j<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;version&gt;</span>1.6.1<span style="color:#000080">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;/dependency&gt;</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#998;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * 创建自己的工厂类
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">class</span> <span style="color:#458;font-weight:bold">MyBeanFactory</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//创建一个map集合，模拟IOC容器
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">private</span> <span style="color:#000;font-weight:bold">static</span> Map<span style="color:#000;font-weight:bold">&lt;</span>String<span style="color:#000;font-weight:bold">,</span>Object<span style="color:#000;font-weight:bold">&gt;</span> map <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> HashMap<span style="color:#000;font-weight:bold">&lt;&gt;();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">static</span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">try</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#998;font-style:italic">//使用dom4J 解析xml文件：
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            <span style="color:#998;font-style:italic">//第一步：获得一个解析器：
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            SAXReader reader <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> SAXReader<span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>            <span style="color:#998;font-style:italic">//第二： 读取外部的配置文件：
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            String path <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;src/main/resources/applicationContext.xml&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#998;font-style:italic">//第三: 读取了整个文档对象
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            Document document <span style="color:#000;font-weight:bold">=</span> reader<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">read</span><span style="color:#000;font-weight:bold">(</span>path<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#998;font-style:italic">//第四： 获得根节点：
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            Element rootElement <span style="color:#000;font-weight:bold">=</span> document<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getRootElement</span><span style="color:#000;font-weight:bold">();</span><span style="color:#998;font-style:italic">//beans
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            <span style="color:#998;font-style:italic">//第五： 获得根节点下的所有的bean 标签对应的节点：
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            List<span style="color:#000;font-weight:bold">&lt;</span>Element<span style="color:#000;font-weight:bold">&gt;</span> bean <span style="color:#000;font-weight:bold">=</span> rootElement<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">elements</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;bean&#34;</span><span style="color:#000;font-weight:bold">);</span><span style="color:#998;font-style:italic">// bean
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            <span style="color:#000;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span>Element element <span style="color:#000;font-weight:bold">:</span> bean<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>                <span style="color:#998;font-style:italic">//获得id属性对应的值：
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>                String id1 <span style="color:#000;font-weight:bold">=</span> element<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">attributeValue</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;id&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>                <span style="color:#998;font-style:italic">//获得class属性对应的值：【全限定类名】
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>                String aClass <span style="color:#000;font-weight:bold">=</span> element<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">attributeValue</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;class&#34;</span><span style="color:#000;font-weight:bold">);</span><span style="color:#998;font-style:italic">//获得class对应的值： 全限定类名。
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>                <span style="color:#998;font-style:italic">//通过反射创建对象：
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>                Class  clz <span style="color:#000;font-weight:bold">=</span> Class<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">forName</span><span style="color:#000;font-weight:bold">(</span>aClass<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>                Object object <span style="color:#000;font-weight:bold">=</span> clz<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">newInstance</span><span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>                <span style="color:#998;font-style:italic">//存容器 id做key，创建出来的对象value
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>                map<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">put</span><span style="color:#000;font-weight:bold">(</span>id1<span style="color:#000;font-weight:bold">,</span>object<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">}</span> <span style="color:#000;font-weight:bold">catch</span> <span style="color:#000;font-weight:bold">(</span>Exception e<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>            e<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">printStackTrace</span><span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">     * 根据id从容器当中获得对象
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">     * @param id id的名称
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">     * @return 返回Object类型对象
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> Object <span style="color:#900;font-weight:bold">getBean</span><span style="color:#000;font-weight:bold">(</span>String id<span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>        Object o <span style="color:#000;font-weight:bold">=</span> map<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">get</span><span style="color:#000;font-weight:bold">(</span>id<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> o<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>总结<span style="color:#a61717;background-color:#e3d2d2">：</span> IOC容器自定义时候<span style="color:#a61717;background-color:#e3d2d2">；</span> 
</span></span><span style="display:flex;"><span>xml解析技术<span style="color:#a61717;background-color:#e3d2d2">：</span> 
</span></span><span style="display:flex;"><span>反射技术
</span></span><span style="display:flex;"><span>工厂模式
</span></span></code></pre></div><h3 id="5-编写测试文件展示测试结果">5 编写测试文件，展示测试结果</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@Test</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">testMyFactory</span><span style="color:#000;font-weight:bold">(){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//1：创建工厂对象
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    MyBeanFactory factory <span style="color:#000;font-weight:bold">=</span><span style="color:#000;font-weight:bold">new</span> MyBeanFactory<span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//2：从容器当中根据id获得对象
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    UserDao userDao <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">(</span>UserDao<span style="color:#000;font-weight:bold">)</span> factory<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getBean</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;userDao&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span>userDao<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    userDao<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">save</span><span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>运行结果：</p>
<p><img src="/posts/Java-frame/20220526003427/image-20220526004542037.png"
    
    
    
    loading="lazy"
    
    
></p>
<h2 id="五spring管理bean细节">（五）Spring管理bean细节</h2>
<h3 id="1-bean实例化介绍">1 bean实例化介绍：</h3>
<p>bean 对象创建~</p>
<h3 id="2-bean实例化方式面试问题">2 bean实例化方式【面试问题】</h3>
<h4 id="21-构造方法的方式">2.1 构造方法的方式</h4>
<p>它会根据默认无参构造函数来创建类对象。如果 bean 中没有默认无参构造函数，将会创建失败</p>
<h4 id="211-创建user类">2.1.1 创建User类</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">class</span> <span style="color:#458;font-weight:bold">User</span> <span style="color:#000;font-weight:bold">implements</span> Serializable <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#900;font-weight:bold">User</span><span style="color:#000;font-weight:bold">(){</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;user created...&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h4 id="212-配置spring容器管理user-类型对象">2.1.2 配置Spring容器管理user 类型对象</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#998;font-style:italic">&lt;!--配置user对象--&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;bean</span> <span style="color:#008080">id=</span><span style="color:#d14">&#34;user&#34;</span> <span style="color:#008080">class=</span><span style="color:#d14">&#34;com.ujiuye.pojo.User&#34;</span><span style="color:#000080">&gt;&lt;/bean&gt;</span>
</span></span></code></pre></div><h4 id="213-测试容器实例化user对象是否成功">2.1.3 测试容器实例化User对象是否成功</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>    <span style="color:#3c5d5d;font-weight:bold">@Test</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">testUser</span><span style="color:#000;font-weight:bold">(){</span>
</span></span><span style="display:flex;"><span>        ApplicationContext context <span style="color:#000;font-weight:bold">=</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000;font-weight:bold">new</span> ClassPathXmlApplicationContext<span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;applicationContext.xml&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        User user <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">(</span>User<span style="color:#000;font-weight:bold">)</span> context<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getBean</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;user&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span>user<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h4 id="22-静态工厂方式">2.2 静态工厂方式</h4>
<h4 id="221-创建静态工厂itemfactory">2.2.1 创建静态工厂ItemFactory</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">class</span> <span style="color:#458;font-weight:bold">ItemFactory</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//静态方法返回实例bean
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> User <span style="color:#900;font-weight:bold">createUser</span><span style="color:#000;font-weight:bold">(){</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;static method running create bean ......&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">new</span> User<span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h4 id="222-配置spring容器管理user类型对象">2.2.2 配置Spring容器管理User类型对象</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#998;font-style:italic">&lt;!--静态工厂实例化对象:
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">   工厂方法的返回值存放在IOC容器当中
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">--&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;bean</span> <span style="color:#008080">id=</span><span style="color:#d14">&#34;user&#34;</span> <span style="color:#008080">class=</span><span style="color:#d14">&#34;com.ujiuye.factory.ItemFactory&#34;</span> <span style="color:#008080">factory-method=</span><span style="color:#d14">&#34;createUser&#34;</span><span style="color:#000080">&gt;&lt;/bean&gt;</span>
</span></span></code></pre></div><h4 id="223-测试容器实例化user对象是否成功">2.2.3 测试容器实例化User对象是否成功</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>    <span style="color:#3c5d5d;font-weight:bold">@Test</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">testItemFactory</span><span style="color:#000;font-weight:bold">(){</span>
</span></span><span style="display:flex;"><span>        ApplicationContext context <span style="color:#000;font-weight:bold">=</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000;font-weight:bold">new</span> ClassPathXmlApplicationContext<span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;applicationContext.xml&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        User user <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">(</span>User<span style="color:#000;font-weight:bold">)</span> context<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getBean</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;user&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span>user<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h4 id="23-实例工厂方式">2.3 实例工厂方式</h4>
<h4 id="231-创建实例工厂newitemfactory">2.3.1 创建实例工厂NewItemFactory</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">class</span> <span style="color:#458;font-weight:bold">NewItemFactory</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//工厂的非静态方法返回bean实例
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">public</span> User <span style="color:#900;font-weight:bold">createUser</span><span style="color:#000;font-weight:bold">(){</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;Dynamic method running create bean ......&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">new</span> User<span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h4 id="232-配置spring容器管理newitemfactory类型对象">2.3.2 配置Spring容器管理NewItemFactory类型对象</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#998;font-style:italic">&lt;!--实例工厂：
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">   步骤一； 创建对象
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">   步骤二： 通过对象调用方法，方法的返回值存在IOC容器当中。 
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">--&gt;</span>
</span></span><span style="display:flex;"><span> <span style="color:#000080">&lt;bean</span> <span style="color:#008080">id=</span><span style="color:#d14">&#34;itemFactory&#34;</span> <span style="color:#008080">class=</span><span style="color:#d14">&#34;com.ujiuye.factory.NewItemFactory&#34;</span><span style="color:#000080">&gt;&lt;/bean&gt;</span>
</span></span><span style="display:flex;"><span> <span style="color:#000080">&lt;bean</span> <span style="color:#008080">id=</span><span style="color:#d14">&#34;user&#34;</span> <span style="color:#008080">factory-bean=</span><span style="color:#d14">&#34;itemFactory&#34;</span> <span style="color:#008080">factory-method=</span><span style="color:#d14">&#34;createUser&#34;</span><span style="color:#000080">&gt;&lt;/bean&gt;</span>
</span></span></code></pre></div><h4 id="233-测试容器实例化user对象是否成功">2.3.3 测试容器实例化User对象是否成功</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>    <span style="color:#3c5d5d;font-weight:bold">@Test</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">testNewItemFactory</span><span style="color:#000;font-weight:bold">(){</span>
</span></span><span style="display:flex;"><span>        ApplicationContext context <span style="color:#000;font-weight:bold">=</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000;font-weight:bold">new</span> ClassPathXmlApplicationContext<span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;applicationContext.xml&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        User user <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">(</span>User<span style="color:#000;font-weight:bold">)</span> context<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getBean</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;user&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span>user<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h3 id="3-bean作用域面试问题">3 bean作用域【面试问题】</h3>
<h4 id="31-bean作用域介绍">3.1 bean作用域介绍</h4>
<pre tabindex="0"><code>web的四大域：
pageContext request session application ：
jsp九大内置对象： 
~ 


话术：
所谓Bean的作用域其实就是指Spring给我们创建出的对象的存活范围，在配置文件中通过bean的scope属性指定
&lt;bean id=&#34;&#34; class=&#34;&#34; scope=&#34;&#34;&gt;
scope:指对象的作用范围，取值如下： 
</code></pre><table>
<thead>
<tr>
<th>取值范围</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>singleton</td>
<td style="text-align:left">默认值，单例的</td>
</tr>
<tr>
<td>prototype</td>
<td style="text-align:left">多例的</td>
</tr>
<tr>
<td>request</td>
<td style="text-align:left">WEB   项目中，Spring   创建一个   Bean   的对象，将对象存入到   request   域中</td>
</tr>
<tr>
<td>session</td>
<td style="text-align:left">WEB   项目中，Spring   创建一个   Bean   的对象，将对象存入到   session   域中</td>
</tr>
<tr>
<td>global   session</td>
<td style="text-align:left">WEB   项目中，应用在   Portlet   环境，如果没有   Portlet  环境那么globalSession   相当于   session</td>
</tr>
</tbody>
</table>
<h4 id="32-bean作用域的解析">3.2 bean作用域的解析</h4>
<h4 id="321-当scope的取值为singleton时">3.2.1 当scope的取值为singleton时</h4>
<p>​      Bean的实例化个数：1个</p>
<p>​      Bean的实例化时机：当Spring核心文件被加载时，实例化配置的Bean实例</p>
<h4 id="322-当scope的取值为prototype时">3.2.2 当scope的取值为prototype时</h4>
<p>​      Bean的实例化个数：多个</p>
<p>​      Bean的实例化时机：当调用getBean()方法时实例化Bean</p>
<p>​     注意： 多例对象，不会随容器而创建， 不会随容器销毁而销毁。</p>
<p>​                 在内存当中， 由垃圾回收器定期回收~</p>
<h4 id="323-当scope的取值为其他值">3.2.3 当Scope的取值为其他值</h4>
<p>​      scope指定为其他值，需要在特定的环境下使用， 只需要作为一个了解知识，面试能够回答出来即可</p>
<h3 id="4-bean的生命周期">4 bean的生命周期</h3>
<h4 id="41-bean生命周期介绍">4.1 bean生命周期介绍</h4>
<pre tabindex="0"><code>话术：
在这里所谓的Bean的生命周期其实指的是Bean创建到销毁的这么一段时间。 
在Spring中可以通过配置的形式，指定bean在创建后和销毁前要调用的方法。
属性：
init-method:指定bean在创建后调用的方法
destroy-method：对象在销毁前调用的方法
</code></pre><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#000080">&lt;bean</span> <span style="color:#008080">id=</span><span style="color:#d14">&#34;xxx&#34;</span> <span style="color:#008080">class=</span><span style="color:#d14">&#34;xxx&#34;</span> <span style="color:#008080">init-method=</span><span style="color:#d14">&#34;&#34;</span> <span style="color:#008080">destroy-method=</span><span style="color:#d14">&#34;&#34;</span><span style="color:#000080">&gt;&lt;/bean&gt;</span>
</span></span></code></pre></div><h4 id="42-单例对象的生命周期">4.2 单例对象的生命周期</h4>
<h4 id="421-在userservice中添加方法init和destory">4.2.1 在UserService中添加方法init和destory</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">class</span> <span style="color:#458;font-weight:bold">UserServiceImpl</span> <span style="color:#000;font-weight:bold">implements</span> UserService <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">init</span><span style="color:#000;font-weight:bold">(){</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;init method running...&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#3c5d5d;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">saveService</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;userSerivce save method running......&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">destroy</span><span style="color:#000;font-weight:bold">(){</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;destroy method running...&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h4 id="422-在springxml配置文件中配置userservice">4.2.2 在Spring.xml配置文件中配置UserService</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#998;font-style:italic">&lt;!--配置userServiceImpl--&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;bean</span> <span style="color:#008080">id=</span><span style="color:#d14">&#34;userService&#34;</span> <span style="color:#008080">class=</span><span style="color:#d14">&#34;com.ujiuye.service.UserServiceImpl&#34;</span> <span style="color:#008080">init-method=</span><span style="color:#d14">&#34;init&#34;</span> <span style="color:#008080">destroy-method=</span><span style="color:#d14">&#34;destroy&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;/bean&gt;</span>
</span></span></code></pre></div><h4 id="423-测试代码验证单例对象的生命周期">4.2.3 测试代码验证单例对象的生命周期</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@Test</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">test1</span><span style="color:#000;font-weight:bold">(){</span>
</span></span><span style="display:flex;"><span>        ClassPathXmlApplicationContext applicationContext <span style="color:#000;font-weight:bold">=</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000;font-weight:bold">new</span> ClassPathXmlApplicationContext<span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;applicationContext.xml&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        UserService userService <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">(</span>UserService<span style="color:#000;font-weight:bold">)</span> applicationContext<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getBean</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;userService&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        userService<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">saveService</span><span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">//关闭工厂：
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        applicationContext<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">close</span><span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>单例对象总结：</p>
<p>对象创建：当应用加载，创建容器时，对象就被创建了</p>
<p>对象运行：只要容器在，对象一直活着</p>
<p>对象销毁：当应用卸载，销毁容器时，对象就被销毁了</p>
<h4 id="43-多例对象的生命周周期">4.3 多例对象的生命周周期</h4>
<h4 id="431-修改spring配置文件scope属性">4.3.1 修改Spring配置文件scope属性</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span> <span style="color:#998;font-style:italic">&lt;!--配置userServiceImpl--&gt;</span>
</span></span><span style="display:flex;"><span> <span style="color:#000080">&lt;bean</span> <span style="color:#008080">id=</span><span style="color:#d14">&#34;userService&#34;</span> <span style="color:#008080">class=</span><span style="color:#d14">&#34;com.ujiuye.service.UserServiceImpl&#34;</span> <span style="color:#008080">init-method=</span><span style="color:#d14">&#34;init&#34;</span> <span style="color:#008080">destroy-method=</span><span style="color:#d14">&#34;destroy&#34;</span> <span style="color:#008080">scope=</span><span style="color:#d14">&#34;prototype&#34;</span><span style="color:#000080">&gt;&lt;/bean&gt;</span>
</span></span></code></pre></div><h4 id="432-测试代码验证多例对象的生命周期">4.3.2 测试代码验证多例对象的生命周期</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@Test</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">test1</span><span style="color:#000;font-weight:bold">(){</span>
</span></span><span style="display:flex;"><span>    ClassPathXmlApplicationContext applicationContext <span style="color:#000;font-weight:bold">=</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">new</span> ClassPathXmlApplicationContext<span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;applicationContext.xml&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    UserService userService <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">(</span>UserService<span style="color:#000;font-weight:bold">)</span> applicationContext<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getBean</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;userService&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    userService<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">saveService</span><span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//关闭工厂：
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    applicationContext<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">close</span><span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>多例对象总结：</p>
<p>对象创建：当使用对象时(getBean)，创建新的对象实例</p>
<p>对象运行：只要对象在使用中，就一直活着</p>
<p>对象销毁：当对象长时间不用时，被 Java 的垃圾回收器回收了， 对destroy-method属性针对多例不生效。</p>
<h1 id="四-spring依赖注入">四 Spring依赖注入【~~~】</h1>
<h3 id="一-依赖注入的介绍什么是依赖注入为什么需要依赖注入">（一） 依赖注入的介绍:什么是依赖注入，为什么需要依赖注入</h3>
<pre tabindex="0"><code>话术：
依赖注入（Dependency Injection）：简称DI，它是 Spring 框架核心 IOC 的具体实现。
在编写程序时，通过控制反转，把对象的创建交给了 Spring，但是代码中不可能出现没有依赖的情况。
IOC 解耦只是降低他们的依赖关系，但不会消除。
例如：业务层仍会调用持久层的方法。
那这种业务层和持久层的依赖关系，在使用 Spring 之后，就让 Spring 来维护了。
简单的说，就是坐等框架把持久层对象传入业务层，而不用我们自己去获取

简单理解： 依赖注入就是spring IOC 容器在创建对象的时候， 给属性赋值。 
</code></pre><h3 id="二-spring中依赖注入方式">（二） Spring中依赖注入方式</h3>
<h3 id="1-构造函数注入">1 构造函数注入</h3>
<h4 id="11-构建account类提供所有属性的构造方法">1.1 构建Account类，提供所有属性的构造方法</h4>
<p>顾名思义，就是使用类中的构造函数，给成员变量赋值。注意，赋值的操作不是我们自己做的，而是通过配置
的方式，让 Spring 框架来为我们注入。具体代码如下</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">class</span> <span style="color:#458;font-weight:bold">Account</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">private</span> String name<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">private</span> Integer age<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">private</span> Date birthday<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#900;font-weight:bold">Account</span><span style="color:#000;font-weight:bold">(</span>String name<span style="color:#000;font-weight:bold">,</span> Integer age<span style="color:#000;font-weight:bold">,</span> Date birthday<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">name</span> <span style="color:#000;font-weight:bold">=</span> name<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">age</span> <span style="color:#000;font-weight:bold">=</span> age<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">birthday</span> <span style="color:#000;font-weight:bold">=</span> birthday<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h4 id="12-在springxml文件中配置account类使用构造方法注入依赖数据">1.2 在Spring.xml文件中配置Account类(使用构造方法注入依赖数据)</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#998;font-style:italic">&lt;!--使用构造函数的方式：给account中的属性赋值
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">        要求：
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">            类中需要提供一个对应参数列表的构造器函数
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">        涉及的标签：
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">            constructor-arg:
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">             属性：
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">             name： 执行参数在构造器中的名称
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">             value：它能赋的值是基本数据类型和 String 类型
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">             ref：它能赋的值是其他 bean 类型，也就是说，必须得是在配置文件中配置过的 bean
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">    --&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;bean</span> <span style="color:#008080">id=</span><span style="color:#d14">&#34;now&#34;</span> <span style="color:#008080">class=</span><span style="color:#d14">&#34;java.util.Date&#34;</span><span style="color:#000080">&gt;&lt;/bean&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;bean</span> <span style="color:#008080">id=</span><span style="color:#d14">&#34;account&#34;</span> <span style="color:#008080">class=</span><span style="color:#d14">&#34;com.ujiuye.pojo.Account&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;constructor-arg</span> <span style="color:#008080">name=</span><span style="color:#d14">&#34;name&#34;</span> <span style="color:#008080">value=</span><span style="color:#d14">&#34;王达&#34;</span><span style="color:#000080">&gt;&lt;/constructor-arg&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;constructor-arg</span> <span style="color:#008080">name=</span><span style="color:#d14">&#34;age&#34;</span> <span style="color:#008080">value=</span><span style="color:#d14">&#34;20&#34;</span><span style="color:#000080">&gt;&lt;/constructor-arg&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;constructor-arg</span> <span style="color:#008080">name=</span><span style="color:#d14">&#34;birthday&#34;</span> <span style="color:#008080">ref=</span><span style="color:#d14">&#34;now&#34;</span><span style="color:#000080">&gt;&lt;/constructor-arg&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;/bean&gt;</span>
</span></span></code></pre></div><h4 id="13-构造函数注入测试方法">1.3 构造函数注入测试方法</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@Test</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">testDI</span><span style="color:#000;font-weight:bold">(){</span>
</span></span><span style="display:flex;"><span>    ClassPathXmlApplicationContext applicationContext <span style="color:#000;font-weight:bold">=</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">new</span> ClassPathXmlApplicationContext<span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;applicationContext.xml&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    Account account <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">(</span>Account<span style="color:#000;font-weight:bold">)</span> applicationContext<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getBean</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;account&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;name:&#34;</span><span style="color:#000;font-weight:bold">+</span>account<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getName</span><span style="color:#000;font-weight:bold">()+</span><span style="color:#d14">&#34; age:&#34;</span><span style="color:#000;font-weight:bold">+</span>account<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getAge</span><span style="color:#000;font-weight:bold">()+</span><span style="color:#d14">&#34; birthday:&#34;</span><span style="color:#000;font-weight:bold">+</span>account<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getBirthday</span><span style="color:#000;font-weight:bold">());</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//打印结果： name:王达 age:20 birthday:Thu Feb 04 13:53:45 CST 2021
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h3 id="2-setter注入">2 setter注入</h3>
<h4 id="21-修改account类添加属性的setter方法">2.1 修改Account类，添加属性的setter方法</h4>
<p>顾名思义，就是在类中提供需要注入成员的 set 方法。具体代码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">class</span> <span style="color:#458;font-weight:bold">Account</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">private</span> String name<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">private</span> Integer age<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">private</span> Date birthday<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#900;font-weight:bold">Account</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#900;font-weight:bold">Account</span><span style="color:#000;font-weight:bold">(</span>String name<span style="color:#000;font-weight:bold">,</span> Integer age<span style="color:#000;font-weight:bold">,</span> Date birthday<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">name</span> <span style="color:#000;font-weight:bold">=</span> name<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">age</span> <span style="color:#000;font-weight:bold">=</span> age<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">birthday</span> <span style="color:#000;font-weight:bold">=</span> birthday<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> String <span style="color:#900;font-weight:bold">getName</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> name<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">setName</span><span style="color:#000;font-weight:bold">(</span>String name<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">name</span> <span style="color:#000;font-weight:bold">=</span> name<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> Integer <span style="color:#900;font-weight:bold">getAge</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> age<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">setAge</span><span style="color:#000;font-weight:bold">(</span>Integer age<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">age</span> <span style="color:#000;font-weight:bold">=</span> age<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> Date <span style="color:#900;font-weight:bold">getBirthday</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> birthday<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">setBirthday</span><span style="color:#000;font-weight:bold">(</span>Date birthday<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">birthday</span> <span style="color:#000;font-weight:bold">=</span> birthday<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h4 id="22-在springxml文件中配置account类利用setter方法注入依赖数据">2.2 在Spring.xml文件中配置Account类(利用setter方法注入依赖数据)</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#998;font-style:italic">&lt;!--使用set方法的方式给属性赋值
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">        涉及的标签：
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">            property
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">            属性：
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">               name：找的是类中set方法后面的部分
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">               ref： 给属性赋值是其他bean类型的
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">               value：给属性赋值是基本数据类型和 string 类型的
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">             实际开发当中， 此种方式用的比较多，推荐使用
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">           --&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;bean</span> <span style="color:#008080">id=</span><span style="color:#d14">&#34;now&#34;</span> <span style="color:#008080">class=</span><span style="color:#d14">&#34;java.util.Date&#34;</span><span style="color:#000080">&gt;&lt;/bean&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;bean</span> <span style="color:#008080">id=</span><span style="color:#d14">&#34;account&#34;</span> <span style="color:#008080">class=</span><span style="color:#d14">&#34;com.ujiuye.pojo.Account&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;property</span> <span style="color:#008080">name=</span><span style="color:#d14">&#34;name&#34;</span> <span style="color:#008080">value=</span><span style="color:#d14">&#34;张三丰&#34;</span><span style="color:#000080">&gt;&lt;/property&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;property</span> <span style="color:#008080">name=</span><span style="color:#d14">&#34;age&#34;</span> <span style="color:#008080">value=</span><span style="color:#d14">&#34;31&#34;</span><span style="color:#000080">&gt;&lt;/property&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;property</span> <span style="color:#008080">name=</span><span style="color:#d14">&#34;birthday&#34;</span> <span style="color:#008080">ref=</span><span style="color:#d14">&#34;now&#34;</span><span style="color:#000080">&gt;&lt;/property&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;/bean&gt;</span>
</span></span></code></pre></div><h4 id="23-setter注入测试方法">2.3 setter注入测试方法</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@Test</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">testDI</span><span style="color:#000;font-weight:bold">(){</span>
</span></span><span style="display:flex;"><span>    ClassPathXmlApplicationContext applicationContext <span style="color:#000;font-weight:bold">=</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">new</span> ClassPathXmlApplicationContext<span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;applicationContext.xml&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    Account account <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">(</span>Account<span style="color:#000;font-weight:bold">)</span> applicationContext<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getBean</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;account&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;name:&#34;</span><span style="color:#000;font-weight:bold">+</span>account<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getName</span><span style="color:#000;font-weight:bold">()+</span><span style="color:#d14">&#34; age:&#34;</span><span style="color:#000;font-weight:bold">+</span>account<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getAge</span><span style="color:#000;font-weight:bold">()+</span><span style="color:#d14">&#34; birthday:&#34;</span><span style="color:#000;font-weight:bold">+</span>account<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getBirthday</span><span style="color:#000;font-weight:bold">());</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//测试结果： name:张三丰 age:31 birthday:Thu Feb 04 14:05:19 CST 2021
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>补充：</p>
<p>P名称空间注入： 语法： p:属性名称=“”</p>
<pre tabindex="0"><code>在xml当中引入p名称空间
xmlns:p=&#34;http://www.springframework.org/schema/p&#34;

语法： 
&lt;bean id=&#34;account&#34; class=&#34;com.offcn.pojo.Account&#34; p:name=&#34;唐晓飞&#34; p:age=&#34;21&#34; p:birthday-ref=&#34;birthday&#34;&gt;&lt;/bean&gt;
</code></pre><p>SPEL 表达式注入：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#998;font-style:italic">&lt;!--SPEL注入： spring el expression
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">       (1)  底层是调用了set方法
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">       (2)  #{} spring EL 语法
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">       (3)  不管是普通属性或者是对象属性， 都使用value 赋值。
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">       （4）功能最强大 ， 属性赋值的时候，可以调用对象的属性， 可以调用对象的方法。
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">     --&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;bean</span> <span style="color:#008080">id=</span><span style="color:#d14">&#34;account&#34;</span> <span style="color:#008080">class=</span><span style="color:#d14">&#34;com.offcn.pojo.Account&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;property</span> <span style="color:#008080">name=</span><span style="color:#d14">&#34;name&#34;</span> <span style="color:#008080">value=</span><span style="color:#d14">&#34;#{&#39;admin&#39;}&#34;</span><span style="color:#000080">&gt;&lt;/property&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;property</span> <span style="color:#008080">name=</span><span style="color:#d14">&#34;age&#34;</span> <span style="color:#008080">value=</span><span style="color:#d14">&#34;#{account.calcullatorAge()}&#34;</span><span style="color:#000080">&gt;&lt;/property&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;property</span> <span style="color:#008080">name=</span><span style="color:#d14">&#34;birthday&#34;</span> <span style="color:#008080">value=</span><span style="color:#d14">&#34;#{birthday}&#34;</span><span style="color:#000080">&gt;&lt;/property&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;/bean&gt;</span>
</span></span></code></pre></div><h3 id="3-注入集合数据">3 注入集合数据</h3>
<h4 id="31-修改account类添加集合属性">3.1 修改Account类，添加集合属性</h4>
<p>顾名思义，就是给类中的集合成员传值，它用的也是set方法注入的方式，只不过变量的数据类型都是集合。</p>
<p>我们这里介绍注入数组，List,Set,Map,Properties。具体代码如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">class</span> <span style="color:#458;font-weight:bold">Account</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//注入数组，List集合，Set集合，Map集合，Properties集合属性
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">private</span> String<span style="color:#000;font-weight:bold">[]</span> myStrs<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">private</span> List<span style="color:#000;font-weight:bold">&lt;</span>String<span style="color:#000;font-weight:bold">&gt;</span> myList<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">private</span> Set<span style="color:#000;font-weight:bold">&lt;</span>String<span style="color:#000;font-weight:bold">&gt;</span> mySet<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">private</span> Map<span style="color:#000;font-weight:bold">&lt;</span>String<span style="color:#000;font-weight:bold">,</span>String<span style="color:#000;font-weight:bold">&gt;</span> myMap<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">private</span> Properties myProps<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#900;font-weight:bold">Account</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> String<span style="color:#000;font-weight:bold">[]</span> <span style="color:#900;font-weight:bold">getMyStrs</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> myStrs<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">setMyStrs</span><span style="color:#000;font-weight:bold">(</span>String<span style="color:#000;font-weight:bold">[]</span> myStrs<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">myStrs</span> <span style="color:#000;font-weight:bold">=</span> myStrs<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> List<span style="color:#000;font-weight:bold">&lt;</span>String<span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#900;font-weight:bold">getMyList</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> myList<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">setMyList</span><span style="color:#000;font-weight:bold">(</span>List<span style="color:#000;font-weight:bold">&lt;</span>String<span style="color:#000;font-weight:bold">&gt;</span> myList<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">myList</span> <span style="color:#000;font-weight:bold">=</span> myList<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> Set<span style="color:#000;font-weight:bold">&lt;</span>String<span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#900;font-weight:bold">getMySet</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> mySet<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">setMySet</span><span style="color:#000;font-weight:bold">(</span>Set<span style="color:#000;font-weight:bold">&lt;</span>String<span style="color:#000;font-weight:bold">&gt;</span> mySet<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">mySet</span> <span style="color:#000;font-weight:bold">=</span> mySet<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> Map<span style="color:#000;font-weight:bold">&lt;</span>String<span style="color:#000;font-weight:bold">,</span> String<span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#900;font-weight:bold">getMyMap</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> myMap<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">setMyMap</span><span style="color:#000;font-weight:bold">(</span>Map<span style="color:#000;font-weight:bold">&lt;</span>String<span style="color:#000;font-weight:bold">,</span> String<span style="color:#000;font-weight:bold">&gt;</span> myMap<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">myMap</span> <span style="color:#000;font-weight:bold">=</span> myMap<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> Properties <span style="color:#900;font-weight:bold">getMyProps</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> myProps<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">setMyProps</span><span style="color:#000;font-weight:bold">(</span>Properties myProps<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">myProps</span> <span style="color:#000;font-weight:bold">=</span> myProps<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h4 id="32-在springxml文件中配置account类利用setter注入依赖集合数据">3.2 在Spring.xml文件中配置Account类(利用setter注入依赖集合数据)</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#998;font-style:italic">&lt;!--注入集合类型数据：
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">        涉及到标签：
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">         List结构： array list set
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">         Map结构：  map entry props prop
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">    --&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;bean</span> <span style="color:#008080">id=</span><span style="color:#d14">&#34;account&#34;</span> <span style="color:#008080">class=</span><span style="color:#d14">&#34;com.ujiuye.pojo.Account&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">&lt;!--注意：在注入集合数据时，只要是结构相同，标签可以互换--&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">&lt;!--注入数组数据--&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;property</span> <span style="color:#008080">name=</span><span style="color:#d14">&#34;myStrs&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;array&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;value&gt;</span>array-AAA<span style="color:#000080">&lt;/value&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;value&gt;</span>array-BBB<span style="color:#000080">&lt;/value&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;value&gt;</span>array-CCC<span style="color:#000080">&lt;/value&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;/array&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;/property&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">&lt;!--注入List集合数据--&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;property</span> <span style="color:#008080">name=</span><span style="color:#d14">&#34;myList&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;list&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;value&gt;</span>list-AAA<span style="color:#000080">&lt;/value&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;value&gt;</span>list-BBB<span style="color:#000080">&lt;/value&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;value&gt;</span>list-CCC<span style="color:#000080">&lt;/value&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;/list&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;/property&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">&lt;!--注入Set集合数据--&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;property</span> <span style="color:#008080">name=</span><span style="color:#d14">&#34;mySet&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;list&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;value&gt;</span>set-AAA<span style="color:#000080">&lt;/value&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;value&gt;</span>set-BBB<span style="color:#000080">&lt;/value&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;value&gt;</span>set-CCC<span style="color:#000080">&lt;/value&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;/list&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;/property&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">&lt;!--注入Map集合--&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;property</span> <span style="color:#008080">name=</span><span style="color:#d14">&#34;myMap&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;map&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;entry</span> <span style="color:#008080">key=</span><span style="color:#d14">&#34;map-a&#34;</span> <span style="color:#008080">value=</span><span style="color:#d14">&#34;AAA&#34;</span><span style="color:#000080">&gt;&lt;/entry&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;entry</span> <span style="color:#008080">key=</span><span style="color:#d14">&#34;map-b&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000080">&lt;value&gt;</span>BBB<span style="color:#000080">&lt;/value&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;/entry&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;/map&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;/property&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">&lt;!--注入Properties集合--&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;property</span> <span style="color:#008080">name=</span><span style="color:#d14">&#34;myProps&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;props&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;prop</span> <span style="color:#008080">key=</span><span style="color:#d14">&#34;pro-a&#34;</span><span style="color:#000080">&gt;</span>AAA<span style="color:#000080">&lt;/prop&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;prop</span> <span style="color:#008080">key=</span><span style="color:#d14">&#34;pro-b&#34;</span><span style="color:#000080">&gt;</span>BBB<span style="color:#000080">&lt;/prop&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;/props&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;/property&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;/bean&gt;</span>
</span></span></code></pre></div><h4 id="33-集合注入测试方法">3.3 集合注入测试方法</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@Test</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">testDI</span><span style="color:#000;font-weight:bold">(){</span>
</span></span><span style="display:flex;"><span>    ClassPathXmlApplicationContext applicationContext <span style="color:#000;font-weight:bold">=</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">new</span> ClassPathXmlApplicationContext<span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;applicationContext.xml&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    Account account <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">(</span>Account<span style="color:#000;font-weight:bold">)</span> applicationContext<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getBean</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;account&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;array:&#34;</span><span style="color:#000;font-weight:bold">+</span> Arrays<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">toString</span><span style="color:#000;font-weight:bold">(</span>account<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getMyStrs</span><span style="color:#000;font-weight:bold">()));</span>
</span></span><span style="display:flex;"><span>    System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;list:&#34;</span><span style="color:#000;font-weight:bold">+</span>account<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getMyList</span><span style="color:#000;font-weight:bold">());</span>
</span></span><span style="display:flex;"><span>    System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;set:&#34;</span><span style="color:#000;font-weight:bold">+</span>account<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getMySet</span><span style="color:#000;font-weight:bold">());</span>
</span></span><span style="display:flex;"><span>    System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;map:&#34;</span><span style="color:#000;font-weight:bold">+</span>account<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getMyMap</span><span style="color:#000;font-weight:bold">());</span>
</span></span><span style="display:flex;"><span>    System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;props:&#34;</span><span style="color:#000;font-weight:bold">+</span>account<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getMyProps</span><span style="color:#000;font-weight:bold">());</span>
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">/*
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">        测试结果： 
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">        array:[array-AAA, array-BBB, array-CCC]
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">        list:[list-AAA, list-BBB, list-CCC]
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">        set:[set-AAA, set-BBB, set-CCC]
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">        map:{map-a=AAA, map-b=BBB}
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">        props:{pro-b=BBB, pro-a=AAA}
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">         */</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h1 id="五-spring配置文件模块化">五 Spring配置文件模块化</h1>
<pre tabindex="0"><code>讲解思路：
 1、配置文件模块化的业务背景，为什么要进行配置文件模块化
 2、配置文件模块化的具体实现
    方式一： 创建多个并列的配置文件
    方式二： 创建一个主配置，多个从配置，主配置当中引入从配置
</code></pre><h3 id="一-spring模块化的介绍为什么需要配置文件进行模块操作如何实现配置文件模块化">（一） Spring模块化的介绍：为什么需要配置文件进行模块操作，如何实现配置文件模块化</h3>
<pre tabindex="0"><code>话术：
我们现在的配置都集中配在了一个applicationContext.xml文件中，当开发人员过多时， 如果所有bean都配 置到同一个配置文件中，会使这个文件巨大，而且也不方便维护。 针对这个问题，Spring提供了多配置文件的方式，也就是所谓的配置文件模块化
</code></pre><h3 id="二-spring模块化的配置">（二） Spring模块化的配置</h3>
<h4 id="1-spring模块化配置方式一">1 Spring模块化配置方式一</h4>
<p>并列的多个配置文件 直接编写多个配置文件，比如说beans1.xml，beans2.xml&hellip;&hellip;, 然后在创建ApplicationContext的时候，直接传入多个配置文件。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>ApplicationContext act <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span>        ClassPathXmlApplicationContext<span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;beans1.xml&#34;</span><span style="color:#000;font-weight:bold">,</span><span style="color:#d14">&#34;beans2.xml&#34;</span><span style="color:#000;font-weight:bold">,</span><span style="color:#d14">&#34;...&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span></code></pre></div><h4 id="2-spring模块化配置方式二">2 Spring模块化配置方式二</h4>
<p>主从配置文件 先配置一个主配置文件，然后在里面导入其它的配置文件。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#000080">&lt;import</span> <span style="color:#008080">resource=</span><span style="color:#d14">&#34;beans1.xml&#34;</span> <span style="color:#000080">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;import</span> <span style="color:#008080">resource=</span><span style="color:#d14">&#34;beans2.xml&#34;</span> <span style="color:#000080">/&gt;</span>
</span></span></code></pre></div><p>注意：</p>
<p>同一个xml文件中不能出现相同名称的bean,如果出现会报错</p>
<p>多个xml文件如果出现相同名称的bean，不会报错，但是后加载的会覆盖前加载的bean，所以企业开发中尽 量保证bean的名称是唯一的。</p>
<h1 id="六--模板设计模式解析">六  模板设计模式解析</h1>
<pre tabindex="0"><code>讲解思路：： 
 1、了解什么是设计模式，将常见的模式简单复习
 2、模板设计模式的介绍
 3、模板设计模式的使用场景，结合已经学习到技术解释模板设计模式
 4、模板设计模式具体案例的实现
 5、引出Spring中JdbcTemplate模板对象
    设计模式是java编程当中非常重要的思想， 不管是实际开发还是面试过程当中，经常涉及。所以凡是涉及到设计模式的内容都是重点。
</code></pre><h3 id="一模板设计模式介绍">（一）模板设计模式介绍</h3>
<pre tabindex="0"><code>话术：
模板类： 
模板方法（Template Method）模式的定义如下：定义一个操作中的算法骨架，而将算法的一些步骤延迟到子类中，使得子类可以不改变该算法结构的情况下重定义该算法的某些特定步骤。它是一种类行为型模式。 
</code></pre><p>模板方法模式的静态结构图如下：</p>
<p><img src="/posts/Java-frame/20220526003427/image-20220526004639675.jpeg"
    
    
    
    loading="lazy"
    
    
></p>
<h3 id="二-模板设计模式的应用场景">（二） 模板设计模式的应用场景</h3>
<p>在多个子类中拥有相同的方法，而且逻辑相同时，可以将这些方法抽出来放到一个模板抽象类中</p>
<p>程序主框架相同，细节不同的情况下，也可以使用模板方法</p>
<p>举例说明：</p>
<p>a：使用过Servlet的人都清楚，除了要在web.xml做相应的配置外，还需继承一个叫HttpServlet的抽象类。HttpService类提供了一个service()方法，这个方法调用七个do方法中的一个或几个，完成对客户端调用的响应。这些do方法需要由HttpServlet的具体子类提供，因此这是典型的模板方法模式。</p>
<p>b：持久层对数据库的操作，Spring提供了JdbcTemplate模板对象， 完成CRUD操作。</p>
<h3 id="三-模板设计模式实现">（三） 模板设计模式实现</h3>
<h4 id="1-需求用模板方法模式实现出国留学手续设计程序">1 需求：用模板方法模式实现出国留学手续设计程序。</h4>
<p>分析：出国留学手续一般经过以下流程：索取学校资料，提出入学申请，办理因私出国护照、出境卡和公证，申请签证，体检、订机票、准备行装，抵达目标学校等，其中有些业务对各个学校是一样的，但有些业务因学校不同而不同，所以比较适合用模板方法模式来实现。</p>
<p>在本实例中，我们先定义一个出国留学的抽象类 StudyAbroad，里面包含了一个模板方法 TemplateMethod()，该方法中包含了办理出国留学手续流程中的各个基本方法，其中有些方法的处理由于各国都一样，所以在抽象类中就可以实现，但有些方法的处理各国是不同的，必须在其具体子类（如美国留学类 StudyInAmerica）中实现。如果再增加一个国家，只要增加一个子类就可以了。</p>
<p>图 2 所示是其结构图</p>
<p><img src="/posts/Java-frame/20220526003427/image-20220526004654480.jpeg"
    
    
    
    loading="lazy"
    
    
></p>
<h4 id="2-程序代码实现">2 程序代码实现</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#998;font-style:italic">//抽象类: 出国留学
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">abstract</span>  <span style="color:#000;font-weight:bold">class</span> <span style="color:#458;font-weight:bold">StudyAbroad</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//定义抽象方法，索取学校资料
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">abstract</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">LookingForSchool</span><span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//定义抽象方法，定义入学申请
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">abstract</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">ApplyForEnrol</span><span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//定义入学申请方法：
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">ApplyForPassport</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;三.办理因私出国护照、出境卡和公证：&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;  1）持录取通知书、本人户口簿或身份证向户口所在地公安机关申请办理因私出国护照和出境卡。&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;  2）办理出生公证书，学历、学位和成绩公证，经历证书，亲属关系公证，经济担保公证。&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//定义申请签证方法
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">ApplyForVisa</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;四.申请签证：&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;  1）准备申请国外境签证所需的各种资料，包括个人学历、成绩单、工作经历的证明；个人及家庭收入、资金和财产证明；家庭成员的关系证明等；&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;  2）向拟留学国家驻华使(领)馆申请入境签证。申请时需按要求填写有关表格，递交必需的证明材料，缴纳签证。有的国家(比如美国、英国、加拿大等)在申请签证时会要求申请人前往使(领)馆进行面试。&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//体检、订机票、准备行装 方法
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">ReadyGoAbroad</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;五.体检、订机票、准备行装：&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;  1）进行身体检查、免疫检查和接种传染病疫苗；&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;  2）确定机票时间、航班和转机地点。&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//定义抵达抽象方法
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">abstract</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">Arriving</span><span style="color:#000;font-weight:bold">();</span>  
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//定义模板方法： 
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">templateMethod</span><span style="color:#000;font-weight:bold">(){</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">(</span>1<span style="color:#000;font-weight:bold">)(</span>2<span style="color:#000;font-weight:bold">)....</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#998;font-style:italic">//定义具体的子类，美国留学
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">class</span> <span style="color:#458;font-weight:bold">StudyInAmerica</span> <span style="color:#000;font-weight:bold">extends</span> StudyAbroad <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//索取资料的具体实现
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#3c5d5d;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">LookingForSchool</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;一.索取学校以下资料：&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;  1）对留学意向国家的政治、经济、文化背景和教育体制、学术水平进行较为全面的了解；&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;  2）全面了解和掌握国外学校的情况，包括历史、学费、学制、专业、师资配备、教学设施、学术地位、学生人数等；&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;  3）了解该学校的住宿、交通、医疗保险情况如何；&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;  4）该学校在中国是否有授权代理招生的留学中介公司？&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;  5）掌握留学签证情况；&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;  6）该国政府是否允许留学生合法打工？&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;  8）毕业之后可否移民？&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;  9）文凭是否受到我国认可？&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//入学申请的具体实现
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#3c5d5d;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">ApplyForEnrol</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;二.入学申请：&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;  1）填写报名表；&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;  2）将报名表、个人学历证明、最近的学习成绩单、推荐信、个人简历、托福或雅思语言考试成绩单等资料寄往所申请的学校；&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;  3）为了给签证办理留有充裕的时间，建议越早申请越好，一般提前1年就比较从容。&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//抵达的具体实现
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#3c5d5d;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">Arriving</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;六.抵达目标学校：&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;  1）安排住宿；&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;  2）了解校园及周边环境。&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">class</span> <span style="color:#458;font-weight:bold">StudyAbroadProcess</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">main</span><span style="color:#000;font-weight:bold">(</span>String<span style="color:#000;font-weight:bold">[]</span> args<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        StudyAbroad tm <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> StudyInAmerica<span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>        tm<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">TemplateMethod</span><span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>   
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h4 id="3-运行结果如下">3 运行结果如下：</h4>
<pre tabindex="0"><code>一.索取学校以下资料：
  1）对留学意向国家的政治、经济、文化背景和教育体制、学术水平进行较为全面的了解；
  2）全面了解和掌握国外学校的情况，包括历史、学费、学制、专业、师资配备、教学设施、学术地位、学生人数等；
  3）了解该学校的住宿、交通、医疗保险情况如何；
  4）该学校在中国是否有授权代理招生的留学中介公司？
  5）掌握留学签证情况；
  6）该国政府是否允许留学生合法打工？
  8）毕业之后可否移民？
  9）文凭是否受到我国认可？
二.入学申请：
  1）填写报名表；
  2）将报名表、个人学历证明、最近的学习成绩单、推荐信、个人简历、托福或雅思语言考试成绩单等资料寄往所申请的学校；
  3）为了给签证办理留有充裕的时间，建议越早申请越好，一般提前1年就比较从容。
三.办理因私出国护照、出境卡和公证：
  1）持录取通知书、本人户口簿或身份证向户口所在地公安机关申请办理因私出国护照和出境卡。
  2）办理出生公证书，学历、学位和成绩公证，经历证书，亲属关系公证，经济担保公证。
四.申请签证：
  1）准备申请国外境签证所需的各种资料，包括个人学历、成绩单、工作经历的证明；个人及家庭收入、资金和财产证明；家庭成员的关系证明等；
  2）向拟留学国家驻华使(领)馆申请入境签证。申请时需按要求填写有关表格，递交必需的证明材料，缴纳签证。有的国家(比如美国、英国、加拿大等)在申请签证时会要求申请人前往使(领)馆进行面试。
五.体检、订机票、准备行装：
  1）进行身体检查、免疫检查和接种传染病疫苗；
  2）确定机票时间、航班和转机地点。
六.抵达目标学校：
  1）安排住宿；
  2）了解校园及周边环境。
</code></pre><h1 id="七-spring整合jdbc实现用户的crud">七 Spring整合JDBC实现用户的CRUD</h1>
<pre tabindex="0"><code>讲解思路： 
 1、简单复习JDBC技术操作数据库的步骤，JDBC开发的弊端问题
 2、介绍Spring在持久层提供的JdbcTemplate模板对象
 3、JdbcTemplate模板对象的使用步骤，常见的读写方法
 4、扩展JdbcDaoSupport工具类当中注入JdbcTemplate原理
</code></pre><h3 id="一-整合思路分析">（一） 整合思路分析</h3>
<pre tabindex="0"><code>话术： 
Spring提供了ioc容器，管理jdbc操作数据库的过程中需要的数据库连接对象，同时Spring提供了整合jdbc操作数据库的工具类JdbcDaoSupport 和模板工具 JdbcTemplate，在JdbcTemplate中提供了大量的操作数据库的方式供用户使用。所以我们只需要获取模板工具类然后调用方法就可以完成Jdbc的操作了。
</code></pre><h3 id="二构建maven工程添加技术依赖">（二）构建maven工程，添加技术依赖</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#000080">&lt;dependencies&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">&lt;!--导入spring的context坐标--&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;groupId&gt;</span>org.springframework<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;artifactId&gt;</span>spring-context<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;version&gt;</span>${spring.version}<span style="color:#000080">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">&lt;!--导入Jdbc模块依赖--&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;groupId&gt;</span>org.springframework<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;artifactId&gt;</span>spring-jdbc<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;version&gt;</span>${spring.version}<span style="color:#000080">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">&lt;!--导入Mysql 驱动--&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;groupId&gt;</span>mysql<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;artifactId&gt;</span>mysql-connector-java<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;version&gt;</span>5.1.47<span style="color:#000080">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">&lt;!--导入C3P0连接池--&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;groupId&gt;</span>com.mchange<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;artifactId&gt;</span>c3p0<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;version&gt;</span>0.9.5.2<span style="color:#000080">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">&lt;!--导入junit单元测试--&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;groupId&gt;</span>junit<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;artifactId&gt;</span>junit<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;version&gt;</span>4.12<span style="color:#000080">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;scope&gt;</span>test<span style="color:#000080">&lt;/scope&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;/dependencies&gt;</span>
</span></span></code></pre></div><h3 id="三-构建数据库表并编写实体类account">（三） 构建数据库表并编写实体类Account</h3>
<p><img src="/posts/Java-frame/20220526003427/image-20220526004719149.png"
    
    
    
    loading="lazy"
    
    
></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">class</span> <span style="color:#458;font-weight:bold">Account</span> <span style="color:#000;font-weight:bold">implements</span> Serializable <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">private</span> Integer id<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">private</span> String name<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">private</span> <span style="color:#458;font-weight:bold">double</span> money<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> Integer <span style="color:#900;font-weight:bold">getId</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> id<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">setId</span><span style="color:#000;font-weight:bold">(</span>Integer id<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">id</span> <span style="color:#000;font-weight:bold">=</span> id<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> String <span style="color:#900;font-weight:bold">getName</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> name<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">setName</span><span style="color:#000;font-weight:bold">(</span>String name<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">name</span> <span style="color:#000;font-weight:bold">=</span> name<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">double</span> <span style="color:#900;font-weight:bold">getMoney</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> money<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">setMoney</span><span style="color:#000;font-weight:bold">(</span><span style="color:#458;font-weight:bold">double</span> money<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">money</span> <span style="color:#000;font-weight:bold">=</span> money<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#3c5d5d;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> String <span style="color:#900;font-weight:bold">toString</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> <span style="color:#d14">&#34;Account{&#34;</span> <span style="color:#000;font-weight:bold">+</span>
</span></span><span style="display:flex;"><span>                <span style="color:#d14">&#34;id=&#34;</span> <span style="color:#000;font-weight:bold">+</span> id <span style="color:#000;font-weight:bold">+</span>
</span></span><span style="display:flex;"><span>                <span style="color:#d14">&#34;, name=&#39;&#34;</span> <span style="color:#000;font-weight:bold">+</span> name <span style="color:#000;font-weight:bold">+</span> <span style="color:#d14">&#39;\&#39;&#39;</span> <span style="color:#000;font-weight:bold">+</span>
</span></span><span style="display:flex;"><span>                <span style="color:#d14">&#34;, money=&#34;</span> <span style="color:#000;font-weight:bold">+</span> money <span style="color:#000;font-weight:bold">+</span>
</span></span><span style="display:flex;"><span>                <span style="color:#d14">&#39;}&#39;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h3 id="四编写持久层代码accountdao以及实现类accountdaoimp">（四）编写持久层代码AccountDao以及实现类AccountDaoImp</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">interface</span> <span style="color:#458;font-weight:bold">AccountDao</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">save</span><span style="color:#000;font-weight:bold">(</span>Account account<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">delete</span><span style="color:#000;font-weight:bold">(</span>Integer id<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">update</span><span style="color:#000;font-weight:bold">(</span>Account account<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> Account <span style="color:#900;font-weight:bold">findById</span><span style="color:#000;font-weight:bold">(</span>Integer id<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> Integer <span style="color:#900;font-weight:bold">getTotalRecords</span><span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> List<span style="color:#000;font-weight:bold">&lt;</span>Account<span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#900;font-weight:bold">findAll</span><span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">class</span> <span style="color:#458;font-weight:bold">AccountDaoImpl</span> <span style="color:#000;font-weight:bold">implements</span> AccountDao <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">private</span> JdbcTemplate jdbcTemplate<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">setJdbcTemplate</span><span style="color:#000;font-weight:bold">(</span>JdbcTemplate jdbcTemplate<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">jdbcTemplate</span> <span style="color:#000;font-weight:bold">=</span> jdbcTemplate<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#3c5d5d;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">save</span><span style="color:#000;font-weight:bold">(</span>Account account<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        String sql <span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;insert into account(name,money) values(?,?)&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        jdbcTemplate<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">update</span><span style="color:#000;font-weight:bold">(</span>sql<span style="color:#000;font-weight:bold">,</span>account<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getName</span><span style="color:#000;font-weight:bold">(),</span>account<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getMoney</span><span style="color:#000;font-weight:bold">());</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#3c5d5d;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">delete</span><span style="color:#000;font-weight:bold">(</span>Integer id<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        String sql <span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;delete from  account where id = ? &#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        jdbcTemplate<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">update</span><span style="color:#000;font-weight:bold">(</span>sql<span style="color:#000;font-weight:bold">,</span>id<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#3c5d5d;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">update</span><span style="color:#000;font-weight:bold">(</span>Account account<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        String sql <span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;update  account set money = ? , name=? where id= ?&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        jdbcTemplate<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">update</span><span style="color:#000;font-weight:bold">(</span>sql<span style="color:#000;font-weight:bold">,</span>account<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getMoney</span><span style="color:#000;font-weight:bold">(),</span>account<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getName</span><span style="color:#000;font-weight:bold">(),</span>account<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getId</span><span style="color:#000;font-weight:bold">());</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#3c5d5d;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> Account <span style="color:#900;font-weight:bold">findById</span><span style="color:#000;font-weight:bold">(</span>Integer id<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        String sql <span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;select * from account where id = ? &#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        Account account <span style="color:#000;font-weight:bold">=</span> jdbcTemplate<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">queryForObject</span><span style="color:#000;font-weight:bold">(</span>sql<span style="color:#000;font-weight:bold">,</span> <span style="color:#000;font-weight:bold">new</span> BeanPropertyRowMapper<span style="color:#000;font-weight:bold">&lt;</span>Account<span style="color:#000;font-weight:bold">&gt;(</span>Account<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">class</span><span style="color:#000;font-weight:bold">),</span>id<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> account<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#3c5d5d;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> Long <span style="color:#900;font-weight:bold">getTotalRecords</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        Long count <span style="color:#000;font-weight:bold">=</span> jdbcTemplate<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">queryForObject</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;select count(*) from account&#34;</span><span style="color:#000;font-weight:bold">,</span> Long<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">class</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span>count<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> count<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#3c5d5d;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> List<span style="color:#000;font-weight:bold">&lt;</span>Account<span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#900;font-weight:bold">findAll</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        String sql <span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;select * from account&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        List<span style="color:#000;font-weight:bold">&lt;</span>Account<span style="color:#000;font-weight:bold">&gt;</span> accountList <span style="color:#000;font-weight:bold">=</span> jdbcTemplate<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">query</span><span style="color:#000;font-weight:bold">(</span>sql<span style="color:#000;font-weight:bold">,</span> <span style="color:#000;font-weight:bold">new</span> BeanPropertyRowMapper<span style="color:#000;font-weight:bold">&lt;</span>Account<span style="color:#000;font-weight:bold">&gt;(</span>Account<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">class</span><span style="color:#000;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> accountList<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h3 id="五编写业务层代码accountservice以及实现类accountserviceimpl">（五）编写业务层代码AccountService以及实现类AccountServiceImpl</h3>
<pre tabindex="0"><code>public interface AccountService {
    public void save(Account account);
    public void delete(Integer id);
    public void update(Account account);
    public Account findById(Integer id);
    public Long getTotalRecords();
    public List&lt;Account&gt; findAll();
}
</code></pre><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">class</span> <span style="color:#458;font-weight:bold">AccountServiceImpl</span> <span style="color:#000;font-weight:bold">implements</span> AccountService <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">private</span> AccountDao accountDao<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">setAccountDao</span><span style="color:#000;font-weight:bold">(</span>AccountDao accountDao<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">accountDao</span> <span style="color:#000;font-weight:bold">=</span> accountDao<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#3c5d5d;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">save</span><span style="color:#000;font-weight:bold">(</span>Account account<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        accountDao<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">save</span><span style="color:#000;font-weight:bold">(</span>account<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#3c5d5d;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">delete</span><span style="color:#000;font-weight:bold">(</span>Integer id<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        accountDao<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">delete</span><span style="color:#000;font-weight:bold">(</span>id<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#3c5d5d;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">update</span><span style="color:#000;font-weight:bold">(</span>Account account<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        accountDao<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">update</span><span style="color:#000;font-weight:bold">(</span>account<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#3c5d5d;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> Account <span style="color:#900;font-weight:bold">findById</span><span style="color:#000;font-weight:bold">(</span>Integer id<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> accountDao<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">findById</span><span style="color:#000;font-weight:bold">(</span>id<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#3c5d5d;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> Long <span style="color:#900;font-weight:bold">getTotalRecords</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> accountDao<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getTotalRecords</span><span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#3c5d5d;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> List<span style="color:#000;font-weight:bold">&lt;</span>Account<span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#900;font-weight:bold">findAll</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> accountDao<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">findAll</span><span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h3 id="六创建并编写配置文件配置容器管理对象">（六）创建并编写配置文件：配置容器管理对象</h3>
<p>将数据库的连接信息抽取到外部配置文件中，和spring的配置文件分离开，有利于后期维护</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-properties" data-lang="properties"><span style="display:flex;"><span><span style="color:#008080">jdbc.driver</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">com.mysql.jdbc.Driver</span>
</span></span><span style="display:flex;"><span><span style="color:#008080">jdbc.url</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">jdbc:mysql://localhost:3306/test</span>
</span></span><span style="display:flex;"><span><span style="color:#008080">jdbc.username</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">root</span>
</span></span><span style="display:flex;"><span><span style="color:#008080">jdbc.password</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">root</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#998;font-style:italic">&lt;!--数据源对象--&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;bean</span> <span style="color:#008080">id=</span><span style="color:#d14">&#34;dataSource&#34;</span> <span style="color:#008080">class=</span><span style="color:#d14">&#34;com.mchange.v2.c3p0.ComboPooledDataSource&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;property</span> <span style="color:#008080">name=</span><span style="color:#d14">&#34;driverClass&#34;</span> <span style="color:#008080">value=</span><span style="color:#d14">&#34;${jdbc.driver}&#34;</span><span style="color:#000080">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;property</span> <span style="color:#008080">name=</span><span style="color:#d14">&#34;jdbcUrl&#34;</span> <span style="color:#008080">value=</span><span style="color:#d14">&#34;${jdbc.url}&#34;</span><span style="color:#000080">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;property</span> <span style="color:#008080">name=</span><span style="color:#d14">&#34;user&#34;</span> <span style="color:#008080">value=</span><span style="color:#d14">&#34;${jdbc.username}&#34;</span><span style="color:#000080">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;property</span> <span style="color:#008080">name=</span><span style="color:#d14">&#34;password&#34;</span> <span style="color:#008080">value=</span><span style="color:#d14">&#34;${jdbc.password}&#34;</span><span style="color:#000080">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;/bean&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">&lt;!--配置JdbcTemplate模板对象--&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;bean</span> <span style="color:#008080">id=</span><span style="color:#d14">&#34;jdbcTemplate&#34;</span> <span style="color:#008080">class=</span><span style="color:#d14">&#34;org.springframework.jdbc.core.JdbcTemplate&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;property</span> <span style="color:#008080">name=</span><span style="color:#d14">&#34;dataSource&#34;</span> <span style="color:#008080">ref=</span><span style="color:#d14">&#34;dataSource&#34;</span><span style="color:#000080">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;/bean&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">&lt;!--配置AccountDaoImpl对象--&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;bean</span> <span style="color:#008080">id=</span><span style="color:#d14">&#34;accountDao&#34;</span> <span style="color:#008080">class=</span><span style="color:#d14">&#34;com.ujiuye.dao.impl.AccountDaoImpl&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;property</span> <span style="color:#008080">name=</span><span style="color:#d14">&#34;jdbcTemplate&#34;</span> <span style="color:#008080">ref=</span><span style="color:#d14">&#34;jdbcTemplate&#34;</span><span style="color:#000080">&gt;&lt;/property&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;/bean&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">&lt;!--配置AccountServiceImpl对象--&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;bean</span> <span style="color:#008080">id=</span><span style="color:#d14">&#34;accountService&#34;</span> <span style="color:#008080">class=</span><span style="color:#d14">&#34;com.ujiuye.service.AccountServiceImpl&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;property</span> <span style="color:#008080">name=</span><span style="color:#d14">&#34;accountDao&#34;</span> <span style="color:#008080">ref=</span><span style="color:#d14">&#34;accountDao&#34;</span><span style="color:#000080">&gt;&lt;/property&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;/bean&gt;</span>
</span></span></code></pre></div><h3 id="七测试代码">（七）测试代码</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#998;font-style:italic">//测试save方法
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#3c5d5d;font-weight:bold">@Test</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">testJdbcTemplateSave</span><span style="color:#000;font-weight:bold">(){</span>
</span></span><span style="display:flex;"><span>    ApplicationContext context <span style="color:#000;font-weight:bold">=</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">new</span> ClassPathXmlApplicationContext<span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;applicationContext.xml&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    AccountService service <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">(</span>AccountService<span style="color:#000;font-weight:bold">)</span> context<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getBean</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;accountService&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    Account account <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> Account<span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>    account<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setName</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;jack&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    account<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setMoney</span><span style="color:#000;font-weight:bold">(</span>1001D<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    service<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">save</span><span style="color:#000;font-weight:bold">(</span>account<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">//测试update方法
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#3c5d5d;font-weight:bold">@Test</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">testJdbcTemplateUpdate</span><span style="color:#000;font-weight:bold">(){</span>
</span></span><span style="display:flex;"><span>    ApplicationContext context <span style="color:#000;font-weight:bold">=</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">new</span> ClassPathXmlApplicationContext<span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;applicationContext.xml&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    AccountService service <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">(</span>AccountService<span style="color:#000;font-weight:bold">)</span> context<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getBean</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;accountService&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    Account account <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> Account<span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>    account<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setName</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;jack2&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    account<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setMoney</span><span style="color:#000;font-weight:bold">(</span>999D<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    account<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setId</span><span style="color:#000;font-weight:bold">(</span>1008<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    service<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">update</span><span style="color:#000;font-weight:bold">(</span>account<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">//测试delete方法
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#3c5d5d;font-weight:bold">@Test</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">testJdbcTemplateDelete</span><span style="color:#000;font-weight:bold">(){</span>
</span></span><span style="display:flex;"><span>    ApplicationContext context <span style="color:#000;font-weight:bold">=</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">new</span> ClassPathXmlApplicationContext<span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;applicationContext.xml&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    AccountService service <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">(</span>AccountService<span style="color:#000;font-weight:bold">)</span> context<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getBean</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;accountService&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    service<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">delete</span><span style="color:#000;font-weight:bold">(</span>1001<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">//测试唯一性查询findById
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#3c5d5d;font-weight:bold">@Test</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">testJdbcTemplateFindById</span><span style="color:#000;font-weight:bold">(){</span>
</span></span><span style="display:flex;"><span>    ApplicationContext context <span style="color:#000;font-weight:bold">=</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">new</span> ClassPathXmlApplicationContext<span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;applicationContext.xml&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    AccountService service <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">(</span>AccountService<span style="color:#000;font-weight:bold">)</span> context<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getBean</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;accountService&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    Account account <span style="color:#000;font-weight:bold">=</span> service<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">findById</span><span style="color:#000;font-weight:bold">(</span>1001<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span>account<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">//测试总记录数
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#3c5d5d;font-weight:bold">@Test</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">testJdbcTemplateGetTotalRecords</span><span style="color:#000;font-weight:bold">(){</span>
</span></span><span style="display:flex;"><span>    ApplicationContext context <span style="color:#000;font-weight:bold">=</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">new</span> ClassPathXmlApplicationContext<span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;applicationContext.xml&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    AccountService service <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">(</span>AccountService<span style="color:#000;font-weight:bold">)</span> context<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getBean</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;accountService&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    Long totalRecords <span style="color:#000;font-weight:bold">=</span> service<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getTotalRecords</span><span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>    System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;表当中的总记录数为：&#34;</span><span style="color:#000;font-weight:bold">+</span>totalRecords<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">//测试账户列表
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#3c5d5d;font-weight:bold">@Test</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">testJdbcTemplateGetAll</span><span style="color:#000;font-weight:bold">(){</span>
</span></span><span style="display:flex;"><span>    ApplicationContext context <span style="color:#000;font-weight:bold">=</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">new</span> ClassPathXmlApplicationContext<span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;applicationContext.xml&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    AccountService service <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">(</span>AccountService<span style="color:#000;font-weight:bold">)</span> context<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getBean</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;accountService&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    List<span style="color:#000;font-weight:bold">&lt;</span>Account<span style="color:#000;font-weight:bold">&gt;</span> accountList <span style="color:#000;font-weight:bold">=</span> service<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">findAll</span><span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>    accountList<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">forEach</span><span style="color:#000;font-weight:bold">((</span>account <span style="color:#000;font-weight:bold">-&gt;</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span>account<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}));</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div>
    </div>

    

    


    <div class="container-prevnext">
    <div><a href="https://lovemjh.github.io/posts/java-frame/20220430215722/">← mybatis-3</a></div>
    <div><a href="https://lovemjh.github.io/posts/java-frame/20220526005077/">Spring-2  →</a></div>
</div>
</div>

        </div>
        <div id="footer"><div class="container-footer">
    
    <a href="//beian.miit.gov.cn" target="_blank">
        
        豫ICP备2022002918号
        
    </a>
    <a id="s" href="/secrets">&nbsp;</a>
</div></div>
    </body>
</html>
