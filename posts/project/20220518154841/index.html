<!DOCTYPE html>
<html lang="zh-CN"><head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <meta name="description" content="医疗管家 - https://lovemjh.vercel.app/posts/project/20220518154841/">
    
    <meta name="msvalidate.01" content="B46311949B856F2A7015F366FB3CE878" />
    <title>医疗管家</title>
    <link rel="icon" type="image/png" href="/favicon.ico">
    
    <link rel="stylesheet" href="https://lovemjh.vercel.app/style.min.ef012369a26adc2a21396230b3395dfcd5975a3082a65b82785cbc0b446f2a2c.css">
    
    <script type="text/javascript" src="/main.js" defer></script>
    
</head>
<body class="active-animate cool">
        <div id="header"><div class="container-header">
    <div id="vars" class="container-vars" style="display: none;">
	{
		"hasFoldAllCodeBlocks": false,
		"svgColor": "#6c757d",
		"en": false,
		"dark": false
	}
</div>
    <h1 class="title">
        
            医疗管家
            
        
    </h1>

    <div class="container-breadcrumb-nav">
    
    <div class="breadcrumb-nav-bar">
        <div><a href="/"><svg t="1656411084410" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2954" width="16" height="16"><path d="M947.5 390.6l-377-290c-34.5-26.5-82.6-26.5-117.1 0l-377 290c-14 10.8-16.6 30.9-5.9 44.9 10.8 14 30.9 16.6 44.9 5.9l28.5-21.9V768c0 88.2 71.8 160 160 160h80c35.3 0 64-28.7 64-64V640c0-17.6 14.4-32 32-32h64c17.6 0 32 14.4 32 32v224c0 35.3 28.7 64 64 64h80c88.2 0 160-71.8 160-160V419.4l28.5 21.9c5.8 4.5 12.7 6.6 19.5 6.6 9.6 0 19.1-4.3 25.4-12.5 10.8-13.9 8.2-34-5.8-44.8zM816 768c0 52.9-43.1 96-96 96h-80V640c0-52.9-43.1-96-96-96h-64c-52.9 0-96 43.1-96 96v224h-80c-52.9 0-96-43.1-96-96V370.2l284.5-218.8c11.5-8.8 27.5-8.8 39 0L816 370.2V768z" fill=#6c757d p-id="2955"></path></svg></a></div>
        <div><a href="/nav"><svg t="1656411531924" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5827" width="16" height="16"><path d="M849.59197473 125.23018519L139.22930586 391.72854662a23.35052669 23.35052669 0 0 0-14.95414244 21.65490745c-0.12257519 9.70384955 5.61801843 18.46795771 14.40255493 22.04306141l318.42928099 129.25528056 119.51057092 320.39047893c3.06437293 8.23295069 10.35758221 13.89182751 18.7335381 14.87242563l2.7170774 0.14300521a22.79893918 22.79893918 0 0 0 21.20546682-15.36272638l259.51158924-729.54564933a23.8612558 23.8612558 0 0 0-5.31158128-24.55584682 22.3290685 22.3290685 0 0 0-23.9021142-5.43415649zM793.65694081 211.64552314l-196.63064161 552.75171747-91.91077952-246.37564122-253.62799211-102.96295445 542.16941324-203.4131218z" p-id="5828" fill=#6c757d></path></svg></a></div>
        <div><a href="/search"><svg t="1656411627509" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1730" width="14" height="14"><path d="M469.333333 85.333333c211.968 0 384 172.032 384 384s-172.032 384-384 384-384-172.032-384-384 172.032-384 384-384z m0 682.666667c164.992 0 298.666667-133.674667 298.666667-298.666667 0-165.034667-133.674667-298.666667-298.666667-298.666666-165.034667 0-298.666667 133.632-298.666666 298.666666 0 164.992 133.632 298.666667 298.666666 298.666667z m362.026667 3.029333l120.704 120.661334-60.373333 60.373333-120.661334-120.704 60.330667-60.330667z" p-id="1731" fill=#6c757d></path></svg></a></div>
        <div><a href="/posts"><svg t="1656411724198" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5655" width="12" height="12"><path d="M811.705761 1024H212.294239c-93.1199 0-174.823046-87.570975-174.823046-187.387854V162.322018C37.471193 69.776145 112.604921 0 212.294239 0H596.190595l7.015883 5.93161c111.74388 95.479788 185.857116 170.741078 279.614824 266.093304 29.65805 30.040735 61.165743 62.122454 96.436499 97.393211l7.271006 7.334787v459.859234c-0.063781 99.816879-81.703145 187.387854-174.823046 187.387854zM212.294239 49.94033c-72.391155 0-124.882716 47.261538-124.882716 112.381688v674.290128c0 71.94469 59.507443 137.383743 124.882716 137.383743h599.411522c65.311492 0 124.882716-65.439053 124.882716-137.383743V397.417876c-32.528184-32.464404-61.73977-62.250016-89.356836-90.377328-90.951355-92.418312-163.278729-165.957521-269.601245-257.163999H212.294239z" fill=#6c757d p-id="5656"></path><path d="M936.588477 449.526752h-212.326129c-99.753099 0-187.324073-81.703145-187.324073-174.823046V49.94033a25.002055 25.002055 0 0 1 49.94033 0v224.763376c0 65.311492 65.502834 124.882716 137.383743 124.882716h212.326129a25.002055 25.002055 0 1 1 0 49.94033z" fill=#6c757d p-id="5657"></path></svg></a></div>
        <div><a href="/archive"><svg t="1656411795742" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7334" width="12" height="12"><path d="M884.224 522.24H504.32V141.824c0-16.896-13.824-30.72-30.72-30.72-120.32 0-233.472 47.616-317.952 134.144S26.112 445.952 29.184 566.784c2.56 114.688 49.152 222.72 131.072 304.128 81.92 81.408 189.952 128 304.64 130.56h10.24c117.76 0 227.84-45.568 312.32-128.512 86.528-85.504 133.632-199.68 132.608-321.024-0.512-2.048-1.536-29.696-35.84-29.696z m-140.288 307.712c-74.752 73.728-173.056 112.64-277.504 110.592-205.824-4.608-370.688-169.472-375.296-374.784-3.072-104.448 35.84-202.752 108.544-277.504 65.536-67.072 151.552-107.52 243.712-114.688v378.88c0 16.896 13.824 30.72 30.72 30.72 129.024 0 311.296 0 382.976 0.512-6.144 93.184-46.08 179.712-113.152 246.272z" fill=#6c757d p-id="7335"></path><path d="M603.136 11.264c-8.192-0.512-15.872 3.072-22.016 8.704-5.632 5.632-9.216 13.824-9.216 22.016v378.88c0 16.896 13.824 30.72 30.72 30.72h378.88c16.896 0 30.72-13.824 30.72-30.72 0-223.744-183.808-407.552-409.088-409.6z m30.208 378.88V74.24c167.424 16.384 301.056 150.016 315.904 315.904h-315.904z" fill=#6c757d p-id="7336"></path></svg></a></div>
        <div id="light-dark" style="cursor: pointer;"><a><svg t="1656411842215" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5086" width="12" height="12"><path d="M1007.492874 384.513055c-8.795694-34.58307-21.189627-67.666874-36.682043-99.05151-2.698679-5.397358-10.894667-3.498287-10.894666 2.598728v0.299853c0 32.484098-6.896624 63.868734-19.890263 92.554691-10.694764 23.488501-25.487523 45.077933-43.978471 64.068635-41.779547 42.679107-99.05151 66.967217-158.722299 67.26707-61.869712 0.299853-119.941284-24.188159-162.920244-68.966238-40.280281-41.979449-62.56937-98.251902-62.269516-156.323473 0.399804-59.270984 23.588452-114.94373 65.567901-156.823229 19.59041-19.59041 42.179351-35.082826 66.667364-46.077443C672.956643 71.166451 704.041426 64.469729 736.125719 64.469729h1.299364c6.097015 0 8.096037-8.096037 2.598728-10.794715C708.739126 37.982696 675.655322 25.488812 641.172203 16.493216 599.492607 5.598549 555.714038-0.098662 510.536154 0.001289 222.37722 0.700947-7.41029 237.38508 0.185992 525.444064c7.096526 271.667008 225.889418 490.559851 497.456474 497.856279 287.559228 7.796183 524.14341-220.891864 525.842579-508.551044 0.299853-44.977981-5.297407-88.656599-15.992171-130.236244z m-83.15929 301.552378c-22.588942 53.27392-54.873137 101.250434-95.953027 142.330323-41.179841 41.179841-89.056403 73.464036-142.330324 95.953027-55.172991 23.288599-113.744317 35.182777-174.314666 35.182777s-119.141675-11.794226-174.314666-35.182777c-53.27392-22.588942-101.250434-54.873137-142.330323-95.953027-41.179841-41.179841-73.464036-89.056403-95.953027-142.330323C75.749001 630.892442 63.954774 572.221164 63.954774 511.750767s11.794226-119.141675 35.182777-174.314666c22.588942-53.27392 54.873137-101.250434 95.953027-142.330323 41.179841-41.179841 89.056403-73.464036 142.330323-95.953027C392.593892 75.7642 451.26517 63.969974 511.735567 63.969974c13.99315 0 27.886348 0.599706 41.679596 1.89907C489.246577 118.643209 448.266638 198.704016 448.266638 288.360126c0 159.022152 128.836929 287.859081 287.859081 287.859081 89.156354 0 168.817357-40.580134 221.691473-104.149015 1.099462 13.09359 1.699168 26.387082 1.699168 39.680575 0 60.470397-11.794226 119.141675-35.182776 174.314666z" p-id="5087" fill=#6c757d></path></svg></a></div>
        
    </div>

    
</div>

            <div id="toc">📜</div>
        
    
    
</div>
</div>
        <div id="content">












<div class="container-main 
     container-page 
">

    <div class="desc">
        
        <span>
            
            <svg t="1656736000388" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7409" width="12" height="12"><path d="M524.885333 338.986667L200.362667 663.466667c-17.28 15.274667-27.989333 36.693333-29.696 56.234666v133.76l130.730666 0.085334c22.784-1.621333 43.989333-12.245333 61.013334-31.701334l322.688-322.645333-160.213334-160.213333z m60.373334-60.330667l160.170666 160.213333 102.144-102.144a19.712 19.712 0 0 0 0-27.861333L715.093333 176.426667a19.456 19.456 0 0 0-27.605333 0L585.258667 278.613333zM701.312 85.333333c27.946667 0 54.741333 11.136 74.282667 30.848l132.309333 132.309334a105.045333 105.045333 0 0 1 0 148.565333L424.874667 879.957333c-29.824 34.346667-72.106667 55.466667-120.448 58.794667H85.333333v-42.666667l0.128-179.84c3.626667-44.970667 24.576-86.826667 56.448-114.944l485.12-485.034666A104.789333 104.789333 0 0 1 701.269333 85.333333z" p-id="7410" fill="#adb5bd"></path></svg>
            2022-05-18&nbsp;
        </span>
        <span>
            
            <svg t="1656737270708" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="23838" width="11" height="11"><path d="M824.264 95.36c0-23.859 25.043-44.16 48.902-44.16s49.714 20.301 49.714 44.16v190.08c0 23.859-19.054 52.868-42.913 52.868h-190.08c-23.859 0-46.696-25.96-46.696-49.819s22.55-46.249 46.409-46.249h82.025C702.344 175.534 610.22 155.853 512 155.853c-206.775 0-360.398 149.372-360.398 356.147 0 206.775 153.623 358.23 360.398 358.23 206.775 0 357.467-151.455 357.467-358.23 0-23.859 23.634-50.706 53.413-50.706 29.78 0 49.92 26.847 49.92 50.706 0 254.493-206.307 460.8-460.8 460.8-254.493 0-460.8-206.307-460.8-460.8C51.2 257.507 257.507 51.2 512 51.2c122.4 0 226.684 33.296 312.264 117.369 0.358 0.351 0.358-24.052 0-73.209z" p-id="23839" fill="#adb5bd"></path></svg>
            2022-05-18&nbsp;&nbsp;&nbsp;
        </span>
        <span>
            
            <svg t="1656737548689" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="33866" width="12" height="12"><path d="M832.038608 64.662657H192.030028C121.255125 64.662657 63.940169 121.98845 63.940169 192.694717v446.793671C63.940169 710.205493 121.255125 767.643272 192.030028 767.643272h133.353183a63.940169 63.940169 0 0 1 55.219742 31.576328l76.099638 129.83828c12.358154 21.093031 33.790754 31.626903 55.216129 31.626903s42.832688-10.544709 55.198067-31.619678l76.222461-129.870792a63.940169 63.940169 0 0 1 55.212517-31.551041h133.54103c70.576219 0 127.732228-57.289669 127.732227-127.800865V192.391272C959.825022 121.85479 902.643727 64.662657 832.038608 64.662657zM895.884854 639.842407A63.85347 63.85347 0 0 1 832.092795 703.703103h-133.54103a127.753903 127.753903 0 0 0-110.349172 63.09847l-76.222461 129.856342a0.274545 0.274545 0 0 1 0-0.050574h-0.032512s-0.021675 0.061411-0.032512 0.061412l-76.1466-129.85273A127.804477 127.804477 0 0 0 325.383211 703.703103H192.030028A64.207489 64.207489 0 0 1 127.880338 639.488388V192.694717A64.102729 64.102729 0 0 1 192.030028 128.602826h640.00858A63.799284 63.799284 0 0 1 895.884854 192.391272v447.451135z" fill="#adb5bd" p-id="33867"></path><path d="M608.154093 288.092004A31.970084 31.970084 0 0 0 576.184009 320.062089v160.078006l-134.650049-179.278119A31.970084 31.970084 0 0 0 384.002258 320.062089v255.760676a31.970084 31.970084 0 0 0 63.940169 0v-159.958796l134.650048 179.274507a31.970084 31.970084 0 0 0 57.531703-19.200113V320.062089a31.970084 31.970084 0 0 0-31.970085-31.970085z" fill="#adb5bd" p-id="33868"></path></svg>
            12548 字</span>&nbsp;
        <span>
            
            <svg t="1656737462334" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="32892" width="12" height="12"><path d="M512 74.666667C270.933333 74.666667 74.666667 270.933333 74.666667 512S270.933333 949.333333 512 949.333333 949.333333 753.066667 949.333333 512 753.066667 74.666667 512 74.666667z m0 810.666666c-204.8 0-373.333333-168.533333-373.333333-373.333333S307.2 138.666667 512 138.666667 885.333333 307.2 885.333333 512 716.8 885.333333 512 885.333333z" p-id="32893" fill="#adb5bd"></path><path d="M695.466667 567.466667l-151.466667-70.4V277.333333c0-17.066667-14.933333-32-32-32s-32 14.933333-32 32v238.933334c0 12.8 6.4 23.466667 19.2 29.866666l170.666667 81.066667c4.266667 2.133333 8.533333 2.133333 12.8 2.133333 12.8 0 23.466667-6.4 29.866666-19.2 6.4-14.933333 0-34.133333-17.066666-42.666666z" p-id="32894" fill="#adb5bd"></path></svg>
            26 分钟</span><div class="container-ctgtag">
	<div class="taxonomy">
		
		<div class="ctg">
			
			
			<a href="/categories/"></a>
			
		</div>
		<div class="tag">
			
			 - 
			
			<a href="/tags/"></a>
			
		</div>
	</div>
</div>
    </div>
    
    <div class="toc">
        
        <div class="page-operation">
            <div><a href="#"><img src="/imgs/icons/arrow-up-circle.svg" alt=""></a></div>
            <div><a href="https://lovemjh.vercel.app/posts/project/20220522222541/"><img src="/imgs/icons/arrow-left-circle.svg" alt=""></a></div>
            <div><a href="https://lovemjh.vercel.app/posts/blog/20220430231253/"><img src="/imgs/icons/arrow-right-circle.svg" alt=""></a></div>
        </div>
        
        <nav id="TableOfContents">
  <ul>
    <li><a href="#一项目概述和环境搭建">一、项目概述和环境搭建</a>
      <ul>
        <li><a href="#一项目背景">(一)项目背景</a></li>
        <li><a href="#二原型展示">(二)原型展示</a></li>
        <li><a href="#三技术架构">(三)技术架构</a></li>
        <li><a href="#四功能架构">(四)功能架构</a></li>
        <li><a href="#五软件开发流程">(五)软件开发流程</a>
          <ul>
            <li>
              <ul>
                <li><a href="#需求分析">需求分析</a></li>
                <li><a href="#概要设计">概要设计</a></li>
                <li><a href="#详细设计">详细设计</a></li>
                <li><a href="#编码">编码</a></li>
                <li><a href="#测试">测试</a></li>
                <li><a href="#交付">交付</a></li>
                <li><a href="#验收">验收</a></li>
                <li><a href="#维护">维护</a></li>
              </ul>
            </li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#二项目环境搭建">二、项目环境搭建</a>
      <ul>
        <li><a href="#一项目结构">(一)项目结构</a></li>
        <li><a href="#二工程搭建">(二)工程搭建</a>
          <ul>
            <li>
              <ul>
                <li><a href="#1offcnpe_parent-父工程打包方式为pom用于统一管理依赖版本">1：offcnpe_parent 父工程，打包方式为pom，用于统一管理依赖版本</a></li>
                <li><a href="#2-offcnpe_pojo-数据模型打包方式为jar存放项目中使用到表对应的数据模型">2: offcnpe_pojo 数据模型，打包方式为jar，存放项目中使用到表对应的数据模型</a></li>
                <li><a href="#3offcnpe_util-工具模块打包方式为jar存放项目中使用到的一些工具类返回结果和常量类">3：offcnpe_util: 工具模块，打包方式为jar，存放项目中使用到的一些工具类、返回结果和常量类</a></li>
                <li><a href="#4-offcnpe_interface打包方式为jar存放服务接口">4: offcnpe_interface：打包方式为jar，存放服务接口</a></li>
                <li><a href="#5-offcnpe_provider-dubbo服务模块">5: offcnpe_provider Dubbo服务模块</a>
                  <ul>
                    <li><a href="#1pomxml文件内容">(1)pom.xml文件内容</a></li>
                    <li><a href="#2applicationyml配置文件内容">(2)application.yml配置文件内容</a></li>
                    <li><a href="#3构建springboot的启动类">(3)构建springboot的启动类</a></li>
                  </ul>
                </li>
                <li><a href="#6offcnpe_controller健康管家管理后台工程">6：offcnpe_controller健康管家管理后台工程</a>
                  <ul>
                    <li><a href="#1pomxml文件内容-1">(1)pom.xml文件内容</a></li>
                    <li><a href="#2applicationyml文件内容">(2)application.yml文件内容</a></li>
                    <li><a href="#3构建springboot启动类">(3)构建springboot启动类</a></li>
                  </ul>
                </li>
                <li><a href="#7offcnpe_mobile移动端前台工程">7：offcnpe_mobile移动端前台工程</a>
                  <ul>
                    <li><a href="#1pom文件内容">(1)pom文件内容</a></li>
                    <li><a href="#2applicationyml文件内容-1">(2)application.yml文件内容</a></li>
                    <li><a href="#3构建springboot启动类-1">(3)构建springboot启动类</a></li>
                  </ul>
                </li>
              </ul>
            </li>
          </ul>
        </li>
        <li><a href="#三启动服务测试环境大家是否成功">(三)启动服务测试环境大家是否成功</a></li>
      </ul>
    </li>
    <li><a href="#三预约管理--检查项管理">三、预约管理&ndash;检查项管理</a>
      <ul>
        <li><a href="#一需求分析">(一)需求分析</a></li>
        <li><a href="#二基础环境搭建">(二)基础环境搭建</a>
          <ul>
            <li>
              <ul>
                <li><a href="#1-创建数据库offcnpe">1: 创建数据库offcnpe</a></li>
                <li><a href="#2-导入数据表">2: 导入数据表</a></li>
                <li><a href="#3-导入项目所需工具资源">3: 导入项目所需工具资源</a>
                  <ul>
                    <li><a href="#1返回消息常量类messageconstant放到offcnpe_util工程中">(1)返回消息常量类MessageConstant，放到offcnpe_util工程中</a></li>
                    <li><a href="#2返回结果result和pageresult类放到offcnpe_util工程中">(2)返回结果Result和PageResult类，放到offcnpe_util工程中</a></li>
                    <li><a href="#3封装查询条件的querypagebean类放到offcnpe_util工程中">(3)封装查询条件的QueryPageBean类，放到offcnpe_util工程中</a></li>
                    <li><a href="#4htmljscss图片等静态资源放到offcnpe_controller工程中">(4)html、js、css、图片等静态资源，放到offcnpe_controller工程中</a></li>
                    <li><a href="#5使用mybatis-plus逆向工程生成基本文件">(5)使用Mybatis-plus逆向工程生成基本文件</a></li>
                  </ul>
                </li>
              </ul>
            </li>
          </ul>
        </li>
        <li><a href="#三新增检查项功能实现">(三)新增检查项功能实现</a>
          <ul>
            <li><a href="#1编写页面">1：编写页面</a>
              <ul>
                <li><a href="#1弹出新增窗口">(1)弹出新增窗口</a></li>
                <li><a href="#2提交表单数据">(2)提交表单数据</a></li>
                <li><a href="#2后台代码">2：后台代码</a>
                  <ul>
                    <li><a href="#1控制器方法-在offcnpe_controller中的checkitemcontroller添加方法">(1)控制器方法 在offcnpe_controller中的CheckitemController添加方法</a></li>
                    <li><a href="#2服务接口-在offcnpe_interface-创建接口">(2)服务接口 在offcnpe_interface 创建接口</a></li>
                    <li><a href="#3-服务实现类">(3) 服务实现类</a></li>
                  </ul>
                </li>
              </ul>
            </li>
          </ul>
        </li>
        <li><a href="#四检查项分页功能">(四)检查项分页功能</a>
          <ul>
            <li><a href="#1功能分析">1：功能分析</a></li>
            <li><a href="#2编写页面">2：编写页面</a>
              <ul>
                <li><a href="#1定义分页相关模型数据">(1)定义分页相关模型数据</a></li>
                <li><a href="#2利用vue的钩子函数执行分页方法">(2)利用vue的钩子函数执行分页方法</a></li>
                <li><a href="#3编辑分页方法">(3)编辑分页方法</a></li>
                <li><a href="#4-点击查询按钮和点击分页的页码依然需要进行分页查询操作">(4) 点击查询按钮和点击分页的页码依然需要进行分页查询操作</a></li>
              </ul>
            </li>
            <li><a href="#3后台代码实现">3：后台代码实现</a>
              <ul>
                <li><a href="#1checkitemcontroller增加方法findpage">(1)CheckitemController增加方法findPage</a></li>
                <li><a href="#2在checkitemservice服务接口中扩展分页查询方法">(2)在CheckItemService服务接口中扩展分页查询方法</a></li>
                <li><a href="#3在checkitemserviceimpl服务实现类中实现分页查询方法基于mybatis-plus分页助手插件实现分页">(3)在CheckItemServiceImpl服务实现类中实现分页查询方法，基于Mybatis-Plus分页助手插件实现分页</a></li>
                <li><a href="#4offcnpe_util项目中添加分页工具类">(4)offcnpe_util项目中添加分页工具类</a></li>
              </ul>
            </li>
          </ul>
        </li>
        <li><a href="#一删除检查项功能">一、删除检查项功能</a>
          <ul>
            <li><a href="#一编写页面">（一）编写页面</a>
              <ul>
                <li><a href="#1绑定单击事件">1：绑定单击事件</a></li>
                <li><a href="#2构建删除方法">2：构建删除方法</a></li>
              </ul>
            </li>
            <li><a href="#二后台代码实现">（二）后台代码实现</a>
              <ul>
                <li><a href="#1控制器方法">1：控制器方法</a></li>
                <li><a href="#2服务接口中的方法">2：服务接口中的方法</a></li>
                <li><a href="#3在checkitemserviceimpl服务实现类实现删除功能">3：在CheckItemServiceImpl服务实现类实现删除功能</a></li>
              </ul>
            </li>
          </ul>
        </li>
        <li><a href="#二编辑检查项功能">二、编辑检查项功能</a>
          <ul>
            <li><a href="#一编写页面-1">(一)编写页面</a>
              <ul>
                <li><a href="#1给编辑按钮绑定事件">1:给编辑按钮绑定事件</a></li>
                <li><a href="#2弹出编辑窗口回显数据">2：弹出编辑窗口回显数据</a></li>
                <li><a href="#3点击确定按钮进行数据更新">3：点击确定按钮进行数据更新</a></li>
                <li><a href="#4编辑方法绑定函数">4：编辑方法绑定函数</a></li>
              </ul>
            </li>
            <li><a href="#二后台功能实现">（二）后台功能实现</a>
              <ul>
                <li><a href="#1控制器方法-1">1：控制器方法</a></li>
                <li><a href="#2接口方法">2：接口方法</a></li>
                <li><a href="#3在checkitemserviceimpl服务实现类实现删除功能-1">3：在CheckItemServiceImpl服务实现类实现删除功能</a></li>
              </ul>
            </li>
          </ul>
        </li>
        <li><a href="#三新增检查组">三、新增检查组</a>
          <ul>
            <li><a href="#一-需求分析">(一) 需求分析</a></li>
            <li><a href="#二回显所有检查项">(二)回显所有检查项</a>
              <ul>
                <li><a href="#1前端内容">1：前端内容</a>
                  <ul>
                    <li><a href="#1-绑定事件">(1) 绑定事件</a></li>
                    <li><a href="#2事件函数">(2)事件函数</a></li>
                  </ul>
                </li>
                <li><a href="#2后台内容">2:后台内容</a>
                  <ul>
                    <li><a href="#1在控制器中添加方法">(1)在控制器中添加方法</a></li>
                    <li><a href="#2在接口中添加方法">(2)在接口中添加方法</a></li>
                    <li><a href="#3实现接口方法">(3)实现接口方法</a></li>
                  </ul>
                </li>
              </ul>
            </li>
            <li><a href="#三-提交按钮完成检查组数据添加">(三) 提交按钮完成检查组数据添加</a>
              <ul>
                <li><a href="#1前端内容-1">1:前端内容</a>
                  <ul>
                    <li><a href="#1绑定事件">(1)绑定事件</a></li>
                    <li><a href="#2事件函数-1">(2)事件函数</a></li>
                  </ul>
                </li>
                <li><a href="#2后台内容-1">2:后台内容</a>
                  <ul>
                    <li><a href="#1添加控制方法-在checkgroupcontroller中">(1)添加控制方法 在CheckGroupController中</a></li>
                    <li><a href="#2服务层接口内容">(2)服务层接口内容</a></li>
                    <li><a href="#3服务接口的实现类">(3)服务接口的实现类</a></li>
                  </ul>
                </li>
              </ul>
            </li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#医疗管家-检查组信息维护">医疗管家-检查组信息维护</a>
      <ul>
        <li><a href="#一检查组分页显示">一、检查组分页显示</a>
          <ul>
            <li><a href="#一前端页面内容">(一)前端页面内容</a>
              <ul>
                <li><a href="#1编写分页函数">1：编写分页函数</a></li>
                <li><a href="#2分页方法执行时机">2：分页方法执行时机</a></li>
              </ul>
            </li>
            <li><a href="#二后台内容">(二)后台内容</a>
              <ul>
                <li><a href="#1控制器方法-2">1：控制器方法</a></li>
                <li><a href="#2-服务接口">2： 服务接口</a></li>
                <li><a href="#3接口实现类">3：接口实现类</a></li>
              </ul>
            </li>
          </ul>
        </li>
        <li><a href="#二编辑检查组功能">二、编辑检查组功能</a>
          <ul>
            <li><a href="#一回显编辑信息功能">(一)回显编辑信息功能</a>
              <ul>
                <li><a href="#1前端内容编写">1:前端内容编写</a>
                  <ul>
                    <li><a href="#1点击按钮弹出编辑窗口并回显检查组数据">(1)点击按钮弹出编辑窗口并回显检查组数据</a></li>
                  </ul>
                </li>
                <li><a href="#2后台内容-2">2:后台内容</a>
                  <ul>
                    <li><a href="#1控制器方法-3">(1):控制器方法</a>
                      <ul>
                        <li><a href="#acheckgroupcontroller">a:CheckgroupController</a></li>
                        <li><a href="#bcheckitemcontroller">b:CheckitemController</a></li>
                      </ul>
                    </li>
                    <li><a href="#2服务接口方法">(2)服务接口方法</a>
                      <ul>
                        <li><a href="#acheckgroupservice">a:CheckGroupService</a></li>
                        <li><a href="#bcheckitemservice">b:CheckItemService</a></li>
                      </ul>
                    </li>
                    <li><a href="#3服务接口的实现方法">(3)服务接口的实现方法</a>
                      <ul>
                        <li><a href="#acheckgroupserviceimpl">a:CheckGroupServiceImpl</a></li>
                        <li><a href="#bcheckitemsserviceimpl">b:CheckItemsServiceImpl</a></li>
                      </ul>
                    </li>
                  </ul>
                </li>
              </ul>
            </li>
            <li><a href="#二提交确认按钮完成检查组修改">(二)提交确认按钮完成检查组修改</a>
              <ul>
                <li><a href="#1编写前端提交更新函数">1：编写前端提交更新函数</a></li>
                <li><a href="#2后台内容-3">2：后台内容</a>
                  <ul>
                    <li><a href="#1控制器方法-4">(1)控制器方法</a></li>
                  </ul>
                </li>
              </ul>
            </li>
          </ul>
        </li>
        <li><a href="#三删除检查组操作">三、删除检查组操作</a>
          <ul>
            <li><a href="#一-前端页面内容编写">(一) 前端页面内容编写</a></li>
            <li><a href="#二-删除检查组的后台内容">(二) 删除检查组的后台内容</a>
              <ul>
                <li><a href="#1控制器方法-5">1：控制器方法</a></li>
                <li><a href="#2-接口方法">2: 接口方法</a></li>
                <li><a href="#3接口的实现方法">3:接口的实现方法</a></li>
              </ul>
            </li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#医疗管家-套餐管理维护">医疗管家-套餐管理维护</a>
      <ul>
        <li><a href="#一体检套餐管理">一、体检套餐管理</a>
          <ul>
            <li><a href="#一添加套餐功能">(一)添加套餐功能</a>
              <ul>
                <li><a href="#1-弹出添加套餐窗口">1： 弹出添加套餐窗口</a>
                  <ul>
                    <li><a href="#1前台页面">(1)前台页面</a>
                      <ul>
                        <li><a href="#a编写新建套餐按钮事件">a:编写新建套餐按钮事件</a></li>
                        <li><a href="#b重置表单事件">b:重置表单事件</a></li>
                      </ul>
                    </li>
                    <li><a href="#2后台代码实现">(2)后台代码实现</a>
                      <ul>
                        <li><a href="#a控制器方法">a:控制器方法</a></li>
                        <li><a href="#b服务接口">b:服务接口</a></li>
                        <li><a href="#c实现接口提供服务">c:实现接口提供服务</a></li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li><a href="#2处理上传图片功能">2:处理上传图片功能</a>
                  <ul>
                    <li><a href="#1前台页面-1">(1)前台页面</a>
                      <ul>
                        <li><a href="#aelement-ui上传组件">a:element-ui上传组件</a></li>
                        <li><a href="#b编辑上传组件的js函数">b:编辑上传组件的js函数</a></li>
                      </ul>
                    </li>
                    <li><a href="#2后台功能实现代码">(2)后台功能实现代码</a>
                      <ul>
                        <li><a href="#a控制方法">a:控制方法</a></li>
                        <li><a href="#b设置虚拟路径完成图片的存储和访问">b：设置虚拟路径完成图片的存储和访问</a></li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li><a href="#heading"></a></li>
              </ul>
            </li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>
    </div>

    <div class='content  content '>
        <h1 id="一项目概述和环境搭建">一、项目概述和环境搭建</h1>
<h2 id="一项目背景">(一)项目背景</h2>
<p> 随着疫情的逐步结束，国民对于个人的身体健康越来越重视，对健康认识不断提高，对健康的需求也在不断增加，健康检查作为防患于未然的主动预防措施在人们思想中已有很深的认识，医疗管家管理系统 致力于建立一座健康管理机构和会员之间的灵活沟通的桥梁，医疗管家管理平台利用计算机对体检工作流程、结果收集、结论汇总、健康评估、会员管理等多种信息进行数字化管理，给会员提供定制化的健康体检方案，并持续追踪会员的健康状态，为会员的健康提供终身的服务。</p>
<h2 id="二原型展示">(二)原型展示</h2>
<p>展示静态原型</p>
<h2 id="三技术架构">(三)技术架构</h2>
<p><img src="/posts/project/20220518154841/image-20220518155249150.png"
    
    
    
    loading="lazy"
    
    
></p>
<h2 id="四功能架构">(四)功能架构</h2>
<p><img src="/posts/project/20220518154841/image-20220518155300993.png"
    
    
    
    loading="lazy"
    
    
></p>
<h2 id="五软件开发流程">(五)软件开发流程</h2>
<h4 id="需求分析">需求分析</h4>
<p> 1.相关系统分析员向用户初步了解需求，然后用相关的工具软件列出要开发的系统的大功能模块，每个大功能模块有哪些小功能模块，对于有些需求比较明确相关的界面时，在这一步里面可以初步定义好少量的界面。<br>
 2.系统分析员深入了解和分析需求，根据自己的经验和需求用WORD或相关的工具再做出一份文档系统的功能需求文档。这次的文档会清楚列出系统大致的大功能模块，大功能模块有哪些小功能模块，并且还列出相关的界面和界面功能。<br>
 3.系统分析员向用户再次确认需求。</p>
<h4 id="概要设计">概要设计</h4>
<p> 首先，开发者需要对软件系统进行概要设计，即系统设计。概要设计需要对软件系统的设计进行考虑，包括系统的基本处理流程、系统的组织结构、模块划分、功能分配、接口设计、运行设计、数据结构设计和出错处理设计等，为软件的详细设计提供基础</p>
<h4 id="详细设计">详细设计</h4>
<p> 在概要设计的基础上，开发者需要进行软件系统的详细设计。在详细设计中，描述实现具体模块所涉及到的主要算法、数据结构、类的层次结构及调用关系，需要说明软件系统各个层次中的每一个程序(每个模块或子程序)的设计考虑，以便进行编码和测试。应当保证软件的需求完全分配给整个软件。详细设计应当足够详细，能够根据详细设计报告进行编码</p>
<h4 id="编码">编码</h4>
<p> 在软件编码阶段，开发者根据《软件系统详细设计报告》中对数据结构、算法分析和模块实现等方面的设计要求，开始具体的编写程序工作，分别实现各模块的功能，从而实现对目标系统的功能、性能、接口、界面等方面的要求。在规范化的研发流程中，编码工作在整个项目流程里最多不会超过1/2，通常在1/3的时间，所谓磨刀不误砍柴功，设计过程完成的好，编码效率就会极大提高，编码时不同模块之间的进度协调和协作是最需要小心的，也许一个小模块的问题就可能影响了整体进度，让很多程序员因此被迫停下工作等待，这种问题在很多研发过程中都出现过。编码时的相互沟通和应急的解决手段都是相当重要的，对于程序员而言，bug永远存在，你必须永远面对这个问题</p>
<h4 id="测试">测试</h4>
<p> 测试编写好的系统。交给用户使用，用户使用后一个一个的确认每个功能。软件测试有很多种：按照测试执行方，可以分为内部测试和外部测试；按照测试范围，可以分为模块测试和整体联调；按照测试条件，可以分为正常操作情况测试和异常情况测试；按照测试的输入范围，可以分为全覆盖测试和抽样测试。以上都很好理解，不再解释。总之，测试同样是项目研发中一个相当重要的步骤，对于一个大型软件，3个月到1年的外部测试都是正常的，因为永远都会有不可预料的问题存在。完成测试后，完成验收并完成最后的一些帮助文档，整体项目才算告一段落，当然日后少不了升级，修补等等工作，只要不是想通过一锤子买卖骗钱，就要不停的跟踪软件的运营状况并持续修补升级，直到这个软件被彻底淘汰为止</p>
<h4 id="交付">交付</h4>
<p> 在软件测试证明软件达到要求后，软件开发者应向用户提交开发的目标安装程序、数据库的数据字典、《用户安装手册》、《用户使用指南》、需求报告、设计报告、测试报告等双方合同约定的产物。<br>
 《用户安装手册》应详细介绍安装软件对运行环境的要求、安装软件的定义和内容、在客户端、服务器端及中间件的具体安装步骤、安装后的系统配置。<br>
 《用户使用指南》应包括软件各项功能的使用流程、操作步骤、相应业务介绍、特殊提示和注意事项等方面的内容，在需要时还应举例说明。</p>
<h4 id="验收">验收</h4>
<p> 用户验收。</p>
<h4 id="维护">维护</h4>
<p>根据用户需求的变化或环境的变化，对应用程序进行全部或部分的修改</p>
<h1 id="二项目环境搭建">二、项目环境搭建</h1>
<h2 id="一项目结构">(一)项目结构</h2>
<p>本项目采用maven分模块开发方式，即对整个项目拆分为几个maven工程,父工程提供统一的依赖规范，其余的每个maven 工程存放特定类型的代码,具体如下：</p>
<p><img src="/posts/project/20220518154841/image-20220518155313872.png"
    
    
    
    loading="lazy"
    
    
></p>
<p>各模块职责定位：</p>
<p>offcnpe_parent：父工程，打包方式为pom，统一锁定依赖的版本，同时聚合其他子模块 便于统一执行maven命令</p>
<p>offcnpe_pojo 数据模型，打包方式为jar，存放项目中使用到表对应的数据模型</p>
<p>offcnpe_interface：打包方式为jar，存放服务接口。</p>
<p>offcnpe_provider：Dubbo服务模块，打包方式为war，存放服务实现类、Dao接 口、Mapper映射文件等，作为服务提供方，需要部署到tomcat运行。</p>
<p>offcnpe_controller：小U健康管理后台，打包方式为war，作为Dubbo服务消费方，存放 Controller、HTML页面、js、css、spring配置文件等，需要部署到tomcat运行</p>
<p>offcnpe_mobile：移动端前台，打包方式为war，作为Dubbo服务消费方，存放 Controller、HTML页面、js、css、spring配置文件等，需要部署到tomcat运行.</p>
<p>offcnpe_util: 工具模块，打包方式为jar，存放项目中使用到的一些工具类、返回结果和常量类</p>
<h2 id="二工程搭建">(二)工程搭建</h2>
<p>通过前面的项目功能架构图可以知道本项目分为小U健康管理后台和小U健康前台(移动端)</p>
<h4 id="1offcnpe_parent-父工程打包方式为pom用于统一管理依赖版本">1：offcnpe_parent 父工程，打包方式为pom，用于统一管理依赖版本</h4>
<p>pom.xml文件内容</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Xml" data-lang="Xml"><span style="display:flex;"><span><span style="color:#998;font-style:italic">&lt;!--指定当前工程父工程是 2.4.3 --&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;parent&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;groupId&gt;</span>org.springframework.boot<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;artifactId&gt;</span>spring-boot-starter-parent<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;version&gt;</span>2.4.3<span style="color:#000080">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;relativePath/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;/parent&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;groupId&gt;</span>com.offcn<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;artifactId&gt;</span>offcnpe_parent<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;version&gt;</span>1.0-SNAPSHOT<span style="color:#000080">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;packaging&gt;</span>pom<span style="color:#000080">&lt;/packaging&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">&lt;!-- 当前的工程是父工程 统一控制我们技术版本 --&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;properties&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;java.version&gt;</span>1.8<span style="color:#000080">&lt;/java.version&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">&lt;!--mybatis plus--&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;baomidou.version&gt;</span>3.4.2<span style="color:#000080">&lt;/baomidou.version&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">&lt;!--dubbo--&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;dubbo.version&gt;</span>2.7.6<span style="color:#000080">&lt;/dubbo.version&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">&lt;!--mysql--&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;mysql.version&gt;</span>5.1.47<span style="color:#000080">&lt;/mysql.version&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">&lt;!--接口文档--&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;swagger.version&gt;</span>2.6.1<span style="color:#000080">&lt;/swagger.version&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">&lt;!--poi--&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;poi.version&gt;</span>3.14<span style="color:#000080">&lt;/poi.version&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;/properties&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;dependencyManagement&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;dependencies&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#998;font-style:italic">&lt;!-- springboot 整合mybatisplus 工具包 --&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000080">&lt;groupId&gt;</span>com.baomidou<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000080">&lt;artifactId&gt;</span>mybatis-plus-boot-starter<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000080">&lt;version&gt;</span>${baomidou.version}<span style="color:#000080">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#998;font-style:italic">&lt;!-- mybatisplus 代码生成器包 --&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000080">&lt;groupId&gt;</span>com.baomidou<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000080">&lt;artifactId&gt;</span>mybatis-plus-generator<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000080">&lt;version&gt;</span>3.4.1<span style="color:#000080">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#998;font-style:italic">&lt;!-- 数据库驱动包 --&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000080">&lt;groupId&gt;</span>mysql<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000080">&lt;artifactId&gt;</span>mysql-connector-java<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000080">&lt;version&gt;</span>${mysql.version}<span style="color:#000080">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#998;font-style:italic">&lt;!-- 接口文档相关包 --&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000080">&lt;groupId&gt;</span>io.springfox<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000080">&lt;artifactId&gt;</span>springfox-swagger2<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000080">&lt;version&gt;</span>${swagger.version}<span style="color:#000080">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000080">&lt;groupId&gt;</span>io.springfox<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000080">&lt;artifactId&gt;</span>springfox-swagger-ui<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000080">&lt;version&gt;</span>${swagger.version}<span style="color:#000080">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#998;font-style:italic">&lt;!-- dubbo 服务相关jar --&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000080">&lt;groupId&gt;</span>org.apache.dubbo<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000080">&lt;artifactId&gt;</span>dubbo-spring-boot-starter<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000080">&lt;version&gt;</span>${dubbo.version}<span style="color:#000080">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#998;font-style:italic">&lt;!-- poi报表操作包 --&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000080">&lt;groupId&gt;</span>org.apache.poi<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000080">&lt;artifactId&gt;</span>poi-ooxml<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000080">&lt;version&gt;</span>${poi.version}<span style="color:#000080">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;/dependencies&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;/dependencyManagement&gt;</span>
</span></span></code></pre></div><h4 id="2-offcnpe_pojo-数据模型打包方式为jar存放项目中使用到表对应的数据模型">2: offcnpe_pojo 数据模型，打包方式为jar，存放项目中使用到表对应的数据模型</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Xml" data-lang="Xml"><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;project</span> <span style="color:#008080">xmlns=</span><span style="color:#d14">&#34;http://maven.apache.org/POM/4.0.0&#34;</span>
</span></span><span style="display:flex;"><span>         <span style="color:#008080">xmlns:xsi=</span><span style="color:#d14">&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span>
</span></span><span style="display:flex;"><span>         <span style="color:#008080">xsi:schemaLocation=</span><span style="color:#d14">&#34;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;parent&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;artifactId&gt;</span>offcnpe_parent<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;groupId&gt;</span>com.offcn<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;version&gt;</span>1.0-SNAPSHOT<span style="color:#000080">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;/parent&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;modelVersion&gt;</span>4.0.0<span style="color:#000080">&lt;/modelVersion&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;artifactId&gt;</span>offcnpe_pojo<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;dependencies&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;groupId&gt;</span>org.springframework.boot<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;artifactId&gt;</span>spring-boot-starter<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;groupId&gt;</span>org.springframework.boot<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;artifactId&gt;</span>spring-boot-starter-web<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;groupId&gt;</span>org.projectlombok<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;artifactId&gt;</span>lombok<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;groupId&gt;</span>com.baomidou<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;artifactId&gt;</span>mybatis-plus-boot-starter<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;groupId&gt;</span>org.apache.poi<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;artifactId&gt;</span>poi-ooxml<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;/dependencies&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;/project&gt;</span>
</span></span></code></pre></div><h4 id="3offcnpe_util-工具模块打包方式为jar存放项目中使用到的一些工具类返回结果和常量类">3：offcnpe_util: 工具模块，打包方式为jar，存放项目中使用到的一些工具类、返回结果和常量类</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Xml" data-lang="Xml"><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;project</span> <span style="color:#008080">xmlns=</span><span style="color:#d14">&#34;http://maven.apache.org/POM/4.0.0&#34;</span>
</span></span><span style="display:flex;"><span>         <span style="color:#008080">xmlns:xsi=</span><span style="color:#d14">&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span>
</span></span><span style="display:flex;"><span>         <span style="color:#008080">xsi:schemaLocation=</span><span style="color:#d14">&#34;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;parent&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;artifactId&gt;</span>offcnpe_parent<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;groupId&gt;</span>com.offcn<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;version&gt;</span>1.0-SNAPSHOT<span style="color:#000080">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;/parent&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;modelVersion&gt;</span>4.0.0<span style="color:#000080">&lt;/modelVersion&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;artifactId&gt;</span>offcnpe_util<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;dependencies&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;groupId&gt;</span>com.offcn<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;artifactId&gt;</span>offcnpe_pojo<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;version&gt;</span>1.0-SNAPSHOT<span style="color:#000080">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;groupId&gt;</span>com.baomidou<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;artifactId&gt;</span>mybatis-plus-generator<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;groupId&gt;</span>mysql<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;artifactId&gt;</span>mysql-connector-java<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;groupId&gt;</span>org.apache.velocity<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;artifactId&gt;</span>velocity-engine-core<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;version&gt;</span>2.0<span style="color:#000080">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;/dependencies&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;/project&gt;</span>
</span></span></code></pre></div><h4 id="4-offcnpe_interface打包方式为jar存放服务接口">4: offcnpe_interface：打包方式为jar，存放服务接口</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Xml" data-lang="Xml"><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;project</span> <span style="color:#008080">xmlns=</span><span style="color:#d14">&#34;http://maven.apache.org/POM/4.0.0&#34;</span>
</span></span><span style="display:flex;"><span>         <span style="color:#008080">xmlns:xsi=</span><span style="color:#d14">&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span>
</span></span><span style="display:flex;"><span>         <span style="color:#008080">xsi:schemaLocation=</span><span style="color:#d14">&#34;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;parent&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;artifactId&gt;</span>offcnpe_parent<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;groupId&gt;</span>com.offcn<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;version&gt;</span>1.0-SNAPSHOT<span style="color:#000080">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;/parent&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;modelVersion&gt;</span>4.0.0<span style="color:#000080">&lt;/modelVersion&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;artifactId&gt;</span>offcnpe_interface<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;dependencies&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;groupId&gt;</span>com.offcn<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;artifactId&gt;</span>offcnpe_pojo<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;version&gt;</span>1.0-SNAPSHOT<span style="color:#000080">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;groupId&gt;</span>com.offcn<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;artifactId&gt;</span>offcnpe_util<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;version&gt;</span>1.0-SNAPSHOT<span style="color:#000080">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;/dependencies&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;/project&gt;</span>
</span></span></code></pre></div><h4 id="5-offcnpe_provider-dubbo服务模块">5: offcnpe_provider Dubbo服务模块</h4>
<h5 id="1pomxml文件内容">(1)pom.xml文件内容</h5>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Xml" data-lang="Xml"><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;project</span> <span style="color:#008080">xmlns=</span><span style="color:#d14">&#34;http://maven.apache.org/POM/4.0.0&#34;</span>
</span></span><span style="display:flex;"><span>         <span style="color:#008080">xmlns:xsi=</span><span style="color:#d14">&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span>
</span></span><span style="display:flex;"><span>         <span style="color:#008080">xsi:schemaLocation=</span><span style="color:#d14">&#34;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;parent&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;artifactId&gt;</span>offcnpe_parent<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;groupId&gt;</span>com.offcn<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;version&gt;</span>1.0-SNAPSHOT<span style="color:#000080">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;/parent&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;modelVersion&gt;</span>4.0.0<span style="color:#000080">&lt;/modelVersion&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;artifactId&gt;</span>offcnpe_provider<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">&lt;!--
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">       springboot  mybatisplus  数据库驱动 连接池  dubbo  zookeeper..
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">    --&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;dependencies&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;groupId&gt;</span>org.springframework.boot<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;artifactId&gt;</span>spring-boot-starter<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;groupId&gt;</span>org.springframework.boot<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;artifactId&gt;</span>spring-boot-starter-test<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;scope&gt;</span>test<span style="color:#000080">&lt;/scope&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;groupId&gt;</span>com.baomidou<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;artifactId&gt;</span>mybatis-plus-boot-starter<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;groupId&gt;</span>com.baomidou<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;artifactId&gt;</span>mybatis-plus-generator<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;groupId&gt;</span>mysql<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;artifactId&gt;</span>mysql-connector-java<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;scope&gt;</span>runtime<span style="color:#000080">&lt;/scope&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">&lt;!-- dubbo的依赖 --&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;groupId&gt;</span>org.apache.dubbo<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;artifactId&gt;</span>dubbo-spring-boot-starter<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">&lt;!-- zk的依赖 --&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;groupId&gt;</span>org.apache.dubbo<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;artifactId&gt;</span>dubbo-dependencies-zookeeper<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;version&gt;</span>2.7.6<span style="color:#000080">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;type&gt;</span>pom<span style="color:#000080">&lt;/type&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;exclusions&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000080">&lt;exclusion&gt;</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#000080">&lt;groupId&gt;</span>org.slf4j<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#000080">&lt;artifactId&gt;</span>slf4j-log4j12<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000080">&lt;/exclusion&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;/exclusions&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;groupId&gt;</span>com.offcn<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;artifactId&gt;</span>offcnpe_interface<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;version&gt;</span>1.0-SNAPSHOT<span style="color:#000080">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;groupId&gt;</span>org.springframework.boot<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;artifactId&gt;</span>spring-boot-starter-data-redis<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;groupId&gt;</span>com.alibaba<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;artifactId&gt;</span>druid<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;version&gt;</span>1.1.20<span style="color:#000080">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;/dependencies&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;build&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;plugins&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;plugin&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000080">&lt;groupId&gt;</span>org.springframework.boot<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000080">&lt;artifactId&gt;</span>spring-boot-maven-plugin<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;/plugin&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;/plugins&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;/build&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;/project&gt;</span>
</span></span></code></pre></div><h5 id="2applicationyml配置文件内容">(2)application.yml配置文件内容</h5>
<pre tabindex="0"><code class="language-Yml" data-lang="Yml">#端口  访问路径
server:
  port: 9002
  servlet:
    context-path: /

#spring应用名称
spring:
  application:
    name: offcnpe_provider
    #数据源配置
  datasource:
    driver-class-name: com.mysql.jdbc.Driver
    url: jdbc:mysql:///offcnpe
    username: root
    password: root
    type: com.alibaba.druid.pool.DruidDataSource

#mybatis-plus
mybatis-plus:
  configuration:
    #开启驼峰标识
    map-underscore-to-camel-case: true
    #控制台显示sql语句
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl
  global-config:
    #逻辑删除
    db-config:
      logic-not-delete-value: 1
      logic-delete-value: 0
      #加载我们的xml文件
  mapper-locations: classpath:/mappers/xml/*.xml
  type-aliases-package: com.offcn.pojo
#dubbo端口和名称
dubbo:
  protocol:
    name: dubbo
    port: 20880
  registry:
    address: zookeeper://192.168.233.100:2181
    timeout: 10000
  #扫描我们service注解
  scan:
    base-packages: com.offcn.service.impl
</code></pre><h5 id="3构建springboot的启动类">(3)构建springboot的启动类</h5>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">package</span> <span style="color:#555">com.offcn</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> <span style="color:#555">org.springframework.boot.SpringApplication</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> <span style="color:#555">org.springframework.boot.autoconfigure.SpringBootApplication</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@SpringBootApplication</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">class</span> <span style="color:#458;font-weight:bold">PeServiceProviderApplication</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">main</span><span style="color:#000;font-weight:bold">(</span>String<span style="color:#000;font-weight:bold">[]</span> args<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        SpringApplication<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">run</span><span style="color:#000;font-weight:bold">(</span>PeServiceProviderApplication<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">class</span><span style="color:#000;font-weight:bold">,</span> args<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h4 id="6offcnpe_controller健康管家管理后台工程">6：offcnpe_controller健康管家管理后台工程</h4>
<h5 id="1pomxml文件内容-1">(1)pom.xml文件内容</h5>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Xml" data-lang="Xml"><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;project</span> <span style="color:#008080">xmlns=</span><span style="color:#d14">&#34;http://maven.apache.org/POM/4.0.0&#34;</span>
</span></span><span style="display:flex;"><span>         <span style="color:#008080">xmlns:xsi=</span><span style="color:#d14">&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span>
</span></span><span style="display:flex;"><span>         <span style="color:#008080">xsi:schemaLocation=</span><span style="color:#d14">&#34;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;parent&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;artifactId&gt;</span>offcnpe_parent<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;groupId&gt;</span>com.offcn<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;version&gt;</span>1.0-SNAPSHOT<span style="color:#000080">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;/parent&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;modelVersion&gt;</span>4.0.0<span style="color:#000080">&lt;/modelVersion&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;artifactId&gt;</span>offcnpe_controller<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">&lt;!-- 添加依赖 --&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;dependencies&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;groupId&gt;</span>org.springframework.boot<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;artifactId&gt;</span>spring-boot-starter-web<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>       <span style="color:#998;font-style:italic">&lt;!-- 项目初期没有用到权限管理的时候将这个依赖暂时注释掉 --&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;groupId&gt;</span>org.springframework.boot<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;artifactId&gt;</span>spring-boot-starter-security<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;groupId&gt;</span>org.springframework.boot<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;artifactId&gt;</span>spring-boot-starter-data-redis<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;groupId&gt;</span>org.springframework.boot<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;artifactId&gt;</span>spring-boot-devtools<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;scope&gt;</span>runtime<span style="color:#000080">&lt;/scope&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;optional&gt;</span>true<span style="color:#000080">&lt;/optional&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;groupId&gt;</span>org.springframework.boot<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;artifactId&gt;</span>spring-boot-starter-test<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;scope&gt;</span>test<span style="color:#000080">&lt;/scope&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">&lt;!-- dubbo的依赖 --&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;groupId&gt;</span>org.apache.dubbo<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;artifactId&gt;</span>dubbo-spring-boot-starter<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">&lt;!-- zk的依赖 --&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;groupId&gt;</span>org.apache.dubbo<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;artifactId&gt;</span>dubbo-dependencies-zookeeper<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;version&gt;</span>2.7.6<span style="color:#000080">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;type&gt;</span>pom<span style="color:#000080">&lt;/type&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;exclusions&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000080">&lt;exclusion&gt;</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#000080">&lt;groupId&gt;</span>org.slf4j<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#000080">&lt;artifactId&gt;</span>slf4j-log4j12<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000080">&lt;/exclusion&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;/exclusions&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;groupId&gt;</span>mysql<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;artifactId&gt;</span>mysql-connector-java<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;groupId&gt;</span>com.offcn<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;artifactId&gt;</span>offcnpe_interface<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;version&gt;</span>1.0-SNAPSHOT<span style="color:#000080">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;groupId&gt;</span>com.alibaba<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;artifactId&gt;</span>druid<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;version&gt;</span>1.1.20<span style="color:#000080">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;groupId&gt;</span>com.alibaba<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;artifactId&gt;</span>fastjson<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;version&gt;</span>1.2.68<span style="color:#000080">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;/dependencies&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;build&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;plugins&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;plugin&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000080">&lt;groupId&gt;</span>org.springframework.boot<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000080">&lt;artifactId&gt;</span>spring-boot-maven-plugin<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000080">&lt;configuration&gt;</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#000080">&lt;fork&gt;</span>true<span style="color:#000080">&lt;/fork&gt;</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#000080">&lt;addResources&gt;</span>true<span style="color:#000080">&lt;/addResources&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000080">&lt;/configuration&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;/plugin&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;/plugins&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;/build&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;/project&gt;</span>
</span></span></code></pre></div><h5 id="2applicationyml文件内容">(2)application.yml文件内容</h5>
<pre tabindex="0"><code class="language-Yml" data-lang="Yml">server:
  servlet:
    context-path: /
  port: 9003

spring:
  application:
    name: offcnpe_controller
  datasource:
    driver-class-name: com.mysql.jdbc.Driver
    url: jdbc:mysql:///offcnpe
    username: root
    password: root
    type: com.alibaba.druid.pool.DruidDataSource
  devtools:
    restart:
      enabled: true
      additional-paths: src/main/java
  redis:
    host: 192.168.233.100
    port: 6379
    password: 123456
dubbo:
  protocol:
    name: dubbo
    port: 20881
  registry:
    address: zookeeper://192.168.233.100:2181
    timeout: 10000
</code></pre><h5 id="3构建springboot启动类">(3)构建springboot启动类</h5>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">package</span> <span style="color:#555">com.offcn</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> <span style="color:#555">org.springframework.boot.SpringApplication</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> <span style="color:#555">org.springframework.boot.autoconfigure.SpringBootApplication</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@SpringBootApplication</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">class</span> <span style="color:#458;font-weight:bold">PeControllerApplication</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">main</span><span style="color:#000;font-weight:bold">(</span>String<span style="color:#000;font-weight:bold">[]</span> args<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        SpringApplication<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">run</span><span style="color:#000;font-weight:bold">(</span>PeControllerApplication<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">class</span><span style="color:#000;font-weight:bold">,</span>args<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h4 id="7offcnpe_mobile移动端前台工程">7：offcnpe_mobile移动端前台工程</h4>
<h5 id="1pom文件内容">(1)pom文件内容</h5>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Xml" data-lang="Xml"><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;project</span> <span style="color:#008080">xmlns=</span><span style="color:#d14">&#34;http://maven.apache.org/POM/4.0.0&#34;</span>
</span></span><span style="display:flex;"><span>         <span style="color:#008080">xmlns:xsi=</span><span style="color:#d14">&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span>
</span></span><span style="display:flex;"><span>         <span style="color:#008080">xsi:schemaLocation=</span><span style="color:#d14">&#34;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;parent&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;artifactId&gt;</span>offcnpe_parent<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;groupId&gt;</span>com.offcn<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;version&gt;</span>1.0-SNAPSHOT<span style="color:#000080">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;/parent&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;modelVersion&gt;</span>4.0.0<span style="color:#000080">&lt;/modelVersion&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;artifactId&gt;</span>offcnpe_mobile<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">&lt;!-- 添加依赖 --&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;dependencies&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;groupId&gt;</span>org.springframework.boot<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;artifactId&gt;</span>spring-boot-starter-web<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;groupId&gt;</span>org.springframework.boot<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;artifactId&gt;</span>spring-boot-starter-data-redis<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;groupId&gt;</span>org.springframework.boot<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;artifactId&gt;</span>spring-boot-devtools<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;scope&gt;</span>runtime<span style="color:#000080">&lt;/scope&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;optional&gt;</span>true<span style="color:#000080">&lt;/optional&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;groupId&gt;</span>org.springframework.boot<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;artifactId&gt;</span>spring-boot-starter-test<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;scope&gt;</span>test<span style="color:#000080">&lt;/scope&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">&lt;!-- dubbo的依赖 --&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;groupId&gt;</span>org.apache.dubbo<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;artifactId&gt;</span>dubbo-spring-boot-starter<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">&lt;!-- zk的依赖 --&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;groupId&gt;</span>org.apache.dubbo<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;artifactId&gt;</span>dubbo-dependencies-zookeeper<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;version&gt;</span>2.7.6<span style="color:#000080">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;type&gt;</span>pom<span style="color:#000080">&lt;/type&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;exclusions&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000080">&lt;exclusion&gt;</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#000080">&lt;groupId&gt;</span>org.slf4j<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#000080">&lt;artifactId&gt;</span>slf4j-log4j12<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000080">&lt;/exclusion&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;/exclusions&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;groupId&gt;</span>mysql<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;artifactId&gt;</span>mysql-connector-java<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;groupId&gt;</span>io.springfox<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;artifactId&gt;</span>springfox-swagger2<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;groupId&gt;</span>io.springfox<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;artifactId&gt;</span>springfox-swagger-ui<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;groupId&gt;</span>com.offcn<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;artifactId&gt;</span>offcnpe_interface<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;version&gt;</span>1.0-SNAPSHOT<span style="color:#000080">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;groupId&gt;</span>com.alibaba<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;artifactId&gt;</span>druid<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;version&gt;</span>1.1.20<span style="color:#000080">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;/dependencies&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;build&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;plugins&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;plugin&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000080">&lt;groupId&gt;</span>org.springframework.boot<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000080">&lt;artifactId&gt;</span>spring-boot-maven-plugin<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000080">&lt;/plugin&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;/plugins&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;/build&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;/project&gt;</span>
</span></span></code></pre></div><h5 id="2applicationyml文件内容-1">(2)application.yml文件内容</h5>
<pre tabindex="0"><code class="language-Yml" data-lang="Yml">server:
  servlet:
    context-path: /
  port: 9004

spring:
  application:
    name: offcnpe_mobile
  datasource:
    driver-class-name: com.mysql.jdbc.Driver
    url: jdbc:mysql:///demo
    username: root
    password: root
    type: com.alibaba.druid.pool.DruidDataSource
dubbo:
  protocol:
    name: dubbo
    port: 20882
  registry:
    address: zookeeper://192.168.233.100:2181
    timeout: 10000
</code></pre><h5 id="3构建springboot启动类-1">(3)构建springboot启动类</h5>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@SpringBootApplication</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">class</span> <span style="color:#458;font-weight:bold">PeMobileApplication</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">main</span><span style="color:#000;font-weight:bold">(</span>String<span style="color:#000;font-weight:bold">[]</span> args<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        SpringApplication<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">run</span><span style="color:#000;font-weight:bold">(</span>PeMobileApplication<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">class</span><span style="color:#000;font-weight:bold">,</span>args<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h2 id="三启动服务测试环境大家是否成功">(三)启动服务测试环境大家是否成功</h2>
<p>1:启动zookeeper并启动dubbo-admin监控平台
2:启动offcnpe_provider服务器查看是否正常
3:启动offcnpe_controller服务器查看是否正常</p>
<h1 id="三预约管理--检查项管理">三、预约管理&ndash;检查项管理</h1>
<h2 id="一需求分析">(一)需求分析</h2>
<p>本章节完成的功能开发是预约管理功能，包括检查项管理、检查组管理、体检套餐管理、预约设置等。预约管理属于系统的基础功能，主要就是管理一些体检的基础数据。</p>
<h2 id="二基础环境搭建">(二)基础环境搭建</h2>
<h4 id="1-创建数据库offcnpe">1: 创建数据库offcnpe</h4>
<p>create  database offcnpe</p>
<h4 id="2-导入数据表">2: 导入数据表</h4>
<p>sqlyong 中执行sql脚本</p>
<h4 id="3-导入项目所需工具资源">3: 导入项目所需工具资源</h4>
<h5 id="1返回消息常量类messageconstant放到offcnpe_util工程中">(1)返回消息常量类MessageConstant，放到offcnpe_util工程中</h5>
<p>项目开发过程中一般会提供一些公共资源，供多个模块或者系统来使用。 本章节我们导入的公共资源有</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#998;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * 消息常量
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">class</span> <span style="color:#458;font-weight:bold">MessageConstant</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">final</span> String DELETE_CHECKITEM_FAIL <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;删除检查项失败&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">final</span> String DELETE_CHECKITEM_SUCCESS <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;删除检查项成功&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">final</span> String ADD_CHECKITEM_SUCCESS <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;新增检查项成功&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">final</span> String ADD_CHECKITEM_FAIL <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;新增检查项失败&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">final</span> String EDIT_CHECKITEM_FAIL <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;编辑检查项失败&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">final</span> String EDIT_CHECKITEM_SUCCESS <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;编辑检查项成功&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">final</span> String QUERY_CHECKITEM_SUCCESS <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;查询检查项成功&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">final</span> String QUERY_CHECKITEM_FAIL <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;查询检查项失败&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">final</span> String UPLOAD_SUCCESS <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;上传成功&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">final</span> String ADD_CHECKGROUP_FAIL <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;新增检查组失败&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">final</span> String ADD_CHECKGROUP_SUCCESS <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;新增检查组成功&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">final</span> String DELETE_CHECKGROUP_FAIL <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;删除检查组失败&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">final</span> String DELETE_CHECKGROUP_SUCCESS <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;删除检查组成功&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">final</span> String QUERY_CHECKGROUP_SUCCESS <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;查询检查组成功&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">final</span> String QUERY_CHECKGROUP_FAIL <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;查询检查组失败&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">final</span> String EDIT_CHECKGROUP_FAIL <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;编辑检查组失败&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">final</span> String EDIT_CHECKGROUP_SUCCESS <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;编辑检查组成功&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">final</span> String PIC_UPLOAD_SUCCESS <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;图片上传成功&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">final</span> String PIC_UPLOAD_FAIL <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;图片上传失败&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">final</span> String ADD_SETMEAL_FAIL <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;新增套餐失败&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">final</span> String ADD_SETMEAL_SUCCESS <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;新增套餐成功&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">final</span> String IMPORT_ORDERSETTING_FAIL <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;批量导入预约设置数据失败&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">final</span> String IMPORT_ORDERSETTING_SUCCESS <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;批量导入预约设置数据成功&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">final</span> String GET_ORDERSETTING_SUCCESS <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;获取预约设置数据成功&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">final</span> String GET_ORDERSETTING_FAIL <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;获取预约设置数据失败&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">final</span> String ORDERSETTING_SUCCESS <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;预约设置成功&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">final</span> String ORDERSETTING_FAIL <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;预约设置失败&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">final</span> String ADD_MEMBER_FAIL <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;新增会员失败&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">final</span> String ADD_MEMBER_SUCCESS <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;新增会员成功&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">final</span> String DELETE_MEMBER_FAIL <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;删除会员失败&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">final</span> String DELETE_MEMBER_SUCCESS <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;删除会员成功&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">final</span> String EDIT_MEMBER_FAIL <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;编辑会员失败&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">final</span> String EDIT_MEMBER_SUCCESS <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;编辑会员成功&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">final</span> String TELEPHONE_VALIDATECODE_NOTNULL <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;手机号和验证码都不能为空&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">final</span> String LOGIN_SUCCESS <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;登录成功&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">final</span> String VALIDATECODE_ERROR <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;验证码输入错误&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">final</span> String QUERY_ORDER_SUCCESS <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;查询预约信息成功&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">final</span> String QUERY_ORDER_FAIL <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;查询预约信息失败&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">final</span> String QUERY_SETMEALLIST_SUCCESS <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;查询套餐列表数据成功&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">final</span> String QUERY_SETMEALLIST_FAIL <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;查询套餐列表数据失败&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">final</span> String QUERY_SETMEAL_SUCCESS <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;查询套餐数据成功&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">final</span> String QUERY_SETMEAL_FAIL <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;查询套餐数据失败&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">final</span> String SEND_VALIDATECODE_FAIL <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;验证码发送失败&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">final</span> String SEND_VALIDATECODE_SUCCESS <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;验证码发送成功&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">final</span> String SELECTED_DATE_CANNOT_ORDER <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;所选日期不能进行体检预约&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">final</span> String ORDER_FULL <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;预约已满&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">final</span> String HAS_ORDERED <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;已经完成预约，不能重复预约&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">final</span> String ORDER_SUCCESS <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;预约成功&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">final</span> String GET_USERNAME_SUCCESS <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;获取当前登录用户名称成功&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">final</span> String GET_USERNAME_FAIL <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;获取当前登录用户名称失败&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">final</span> String GET_MENU_SUCCESS <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;获取当前登录用户菜单成功&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">final</span> String GET_MENU_FAIL <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;获取当前登录用户菜单失败&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">final</span> String GET_MEMBER_NUMBER_REPORT_SUCCESS <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;获取会员统计数据成功&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">final</span> String GET_MEMBER_NUMBER_REPORT_FAIL <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;获取会员统计数据失败&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">final</span> String GET_SETMEAL_COUNT_REPORT_SUCCESS <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;获取套餐统计数据成功&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">final</span> String GET_SETMEAL_COUNT_REPORT_FAIL <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;获取套餐统计数据失败&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">final</span> String GET_BUSINESS_REPORT_SUCCESS <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;获取运营统计数据成功&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">final</span> String GET_BUSINESS_REPORT_FAIL <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;获取运营统计数据失败&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">final</span> String GET_SETMEAL_LIST_SUCCESS <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;查询套餐列表数据成功&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">final</span> String GET_SETMEAL_LIST_FAIL <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;查询套餐列表数据失败&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h5 id="2返回结果result和pageresult类放到offcnpe_util工程中">(2)返回结果Result和PageResult类，放到offcnpe_util工程中</h5>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">class</span> <span style="color:#458;font-weight:bold">Result</span> <span style="color:#000;font-weight:bold">implements</span> Serializable<span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">private</span> <span style="color:#458;font-weight:bold">boolean</span> flag<span style="color:#000;font-weight:bold">;</span><span style="color:#998;font-style:italic">//执行结果，true为执行成功 false为执行失败
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">private</span> String message<span style="color:#000;font-weight:bold">;</span><span style="color:#998;font-style:italic">//返回结果信息，主要用于页面提示信息
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">private</span> Object data<span style="color:#000;font-weight:bold">;</span><span style="color:#998;font-style:italic">//返回数据
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#900;font-weight:bold">Result</span><span style="color:#000;font-weight:bold">(</span><span style="color:#458;font-weight:bold">boolean</span> flag<span style="color:#000;font-weight:bold">,</span> String message<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">super</span><span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">flag</span> <span style="color:#000;font-weight:bold">=</span> flag<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">message</span> <span style="color:#000;font-weight:bold">=</span> message<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#900;font-weight:bold">Result</span><span style="color:#000;font-weight:bold">(</span><span style="color:#458;font-weight:bold">boolean</span> flag<span style="color:#000;font-weight:bold">,</span> String message<span style="color:#000;font-weight:bold">,</span> Object data<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">flag</span> <span style="color:#000;font-weight:bold">=</span> flag<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">message</span> <span style="color:#000;font-weight:bold">=</span> message<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">data</span> <span style="color:#000;font-weight:bold">=</span> data<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">boolean</span> <span style="color:#900;font-weight:bold">isFlag</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> flag<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">setFlag</span><span style="color:#000;font-weight:bold">(</span><span style="color:#458;font-weight:bold">boolean</span> flag<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">flag</span> <span style="color:#000;font-weight:bold">=</span> flag<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> String <span style="color:#900;font-weight:bold">getMessage</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> message<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">setMessage</span><span style="color:#000;font-weight:bold">(</span>String message<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">message</span> <span style="color:#000;font-weight:bold">=</span> message<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> Object <span style="color:#900;font-weight:bold">getData</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> data<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">setData</span><span style="color:#000;font-weight:bold">(</span>Object data<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">data</span> <span style="color:#000;font-weight:bold">=</span> data<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * 分页结果封装对象
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">class</span> <span style="color:#458;font-weight:bold">PageResult</span> <span style="color:#000;font-weight:bold">implements</span> Serializable<span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">private</span> Long total<span style="color:#000;font-weight:bold">;</span><span style="color:#998;font-style:italic">//总记录数
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">private</span> List rows<span style="color:#000;font-weight:bold">;</span><span style="color:#998;font-style:italic">//当前页结果
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#900;font-weight:bold">PageResult</span><span style="color:#000;font-weight:bold">(</span>Long total<span style="color:#000;font-weight:bold">,</span> List rows<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">super</span><span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">total</span> <span style="color:#000;font-weight:bold">=</span> total<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">rows</span> <span style="color:#000;font-weight:bold">=</span> rows<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> Long <span style="color:#900;font-weight:bold">getTotal</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> total<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">setTotal</span><span style="color:#000;font-weight:bold">(</span>Long total<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">total</span> <span style="color:#000;font-weight:bold">=</span> total<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> List <span style="color:#900;font-weight:bold">getRows</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> rows<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">setRows</span><span style="color:#000;font-weight:bold">(</span>List rows<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">rows</span> <span style="color:#000;font-weight:bold">=</span> rows<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h5 id="3封装查询条件的querypagebean类放到offcnpe_util工程中">(3)封装查询条件的QueryPageBean类，放到offcnpe_util工程中</h5>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#998;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * 封装查询条件
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">class</span> <span style="color:#458;font-weight:bold">QueryPageBean</span> <span style="color:#000;font-weight:bold">implements</span> Serializable<span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">private</span> Integer currentPage<span style="color:#000;font-weight:bold">;</span><span style="color:#998;font-style:italic">//页码
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">private</span> Integer pageSize<span style="color:#000;font-weight:bold">;</span><span style="color:#998;font-style:italic">//每页记录数
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">private</span> String queryString<span style="color:#000;font-weight:bold">;</span><span style="color:#998;font-style:italic">//查询条件
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> Integer <span style="color:#900;font-weight:bold">getCurrentPage</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> currentPage<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">setCurrentPage</span><span style="color:#000;font-weight:bold">(</span>Integer currentPage<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">currentPage</span> <span style="color:#000;font-weight:bold">=</span> currentPage<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> Integer <span style="color:#900;font-weight:bold">getPageSize</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> pageSize<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">setPageSize</span><span style="color:#000;font-weight:bold">(</span>Integer pageSize<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">pageSize</span> <span style="color:#000;font-weight:bold">=</span> pageSize<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> String <span style="color:#900;font-weight:bold">getQueryString</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> queryString<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">setQueryString</span><span style="color:#000;font-weight:bold">(</span>String queryString<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">queryString</span> <span style="color:#000;font-weight:bold">=</span> queryString<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h5 id="4htmljscss图片等静态资源放到offcnpe_controller工程中">(4)html、js、css、图片等静态资源，放到offcnpe_controller工程中</h5>
<p>注意：后续随着项目开发还会陆续导入其他一些公共资源。</p>
<h5 id="5使用mybatis-plus逆向工程生成基本文件">(5)使用Mybatis-plus逆向工程生成基本文件</h5>
<p>在offcn_pe工程中执行逆向工程的代码：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">class</span> <span style="color:#458;font-weight:bold">MyBatisPlusGenerator</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">main</span><span style="color:#000;font-weight:bold">(</span>String<span style="color:#000;font-weight:bold">[]</span> args<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">// 代码生成器
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        AutoGenerator mpg <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> AutoGenerator<span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">// 全局配置
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        GlobalConfig gc <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> GlobalConfig<span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">//String projectPath = System.getProperty(&#34;user.dir&#34;);
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        gc<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setOutputDir</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;生成代码的路径&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        gc<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setAuthor</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;zs&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        gc<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setOpen</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">false</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">//实体属性 Swagger2 注解
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        gc<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setSwagger2</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">false</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        mpg<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setGlobalConfig</span><span style="color:#000;font-weight:bold">(</span>gc<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">// 数据源配置
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        DataSourceConfig dsc <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> DataSourceConfig<span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">//dsc.setUrl(&#34;jdbc:mysql://127.0.0.1:3306/demo?serverTimezone=UTC&amp;useUnicode=true&amp;characterEncoding=utf-8&amp;zeroDateTimeBehavior=convertToNull&amp;useSSL=false&amp;allowPublicKeyRetrieval=true&#34;);
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        dsc<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setUrl</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;jdbc:mysql:///offcnpe&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        dsc<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setDriverName</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;com.mysql.jdbc.Driver&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        dsc<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setUsername</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;root&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        dsc<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setPassword</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;root&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        mpg<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setDataSource</span><span style="color:#000;font-weight:bold">(</span>dsc<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">// 包配置
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        PackageConfig pc <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> PackageConfig<span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>        pc<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setParent</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;com.offcn&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        pc<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setEntity</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;pojo&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        pc<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setMapper</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;mapper&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        pc<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setServiceImpl</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;service.xml&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        mpg<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setPackageInfo</span><span style="color:#000;font-weight:bold">(</span>pc<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">// 配置模板
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        TemplateConfig templateConfig <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> TemplateConfig<span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">//默认关闭不需要的生成内容
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        <span style="color:#998;font-style:italic">//templateConfig.setXml(null);
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        templateConfig<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setService</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">null</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        templateConfig<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setServiceImpl</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">null</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        mpg<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setTemplate</span><span style="color:#000;font-weight:bold">(</span>templateConfig<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">// 策略配置
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        StrategyConfig strategy <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> StrategyConfig<span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>        strategy<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setNaming</span><span style="color:#000;font-weight:bold">(</span>NamingStrategy<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">underline_to_camel</span><span style="color:#000;font-weight:bold">);</span><span style="color:#998;font-style:italic">//数据库表映射到实体的命名策略
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        strategy<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setColumnNaming</span><span style="color:#000;font-weight:bold">(</span>NamingStrategy<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">underline_to_camel</span><span style="color:#000;font-weight:bold">);</span><span style="color:#998;font-style:italic">//数据库表字段映射到实体的命名策略
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        strategy<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setSuperEntityClass</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;com.baomidou.mybatisplus.extension.activerecord.Model&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        strategy<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setEntityLombokModel</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">true</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        strategy<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setRestControllerStyle</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">true</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        strategy<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setEntityLombokModel</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">true</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        String tableNames<span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;t_checkgroup,t_checkgroup_checkitem,t_checkitem,t_member,t_menu,&#34;</span> <span style="color:#000;font-weight:bold">+</span>
</span></span><span style="display:flex;"><span>                <span style="color:#d14">&#34;t_order,t_ordersetting,&#34;</span> <span style="color:#000;font-weight:bold">+</span>
</span></span><span style="display:flex;"><span>                <span style="color:#d14">&#34;t_permission,t_role,t_role_menu,&#34;</span> <span style="color:#000;font-weight:bold">+</span>
</span></span><span style="display:flex;"><span>                <span style="color:#d14">&#34;t_role_permission,t_setmeal,t_setmeal_checkgroup,t_user,t_user_role&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        strategy<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setInclude</span><span style="color:#000;font-weight:bold">(</span>tableNames<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">split</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;,&#34;</span><span style="color:#000;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span>        strategy<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setControllerMappingHyphenStyle</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">true</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        strategy<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setTablePrefix</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;t_&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        mpg<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setStrategy</span><span style="color:#000;font-weight:bold">(</span>strategy<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        mpg<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">execute</span><span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h2 id="三新增检查项功能实现">(三)新增检查项功能实现</h2>
<h3 id="1编写页面">1：编写页面</h3>
<h4 id="1弹出新增窗口">(1)弹出新增窗口</h4>
<p>页面中已经提供了新增窗口，只是处于隐藏状态。只需要将控制展示状态的属性 dialogFormVisible改为true就可以显示出新增窗口。 新建按钮绑定的方法为handleCreate，所以在handleCreate方法中修改 dialogFormVisible属性的值为true即可。同时为了增加用户体验度，需要每次点击新建 按钮时清空表单输入项</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#998;font-style:italic">// 重置表单 
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>resetForm() { 
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">this</span>.formData <span style="color:#000;font-weight:bold">=</span> {}; 
</span></span><span style="display:flex;"><span>},
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">// 弹出添加窗口 
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>handleCreate() {
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">this</span>.resetForm(); 
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">this</span>.dialogFormVisible <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">true</span>; 
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h4 id="2提交表单数据">(2)提交表单数据</h4>
<p>点击新增窗口中的确定按钮时，触发handleAdd方法，所以需要在handleAdd方法中进行完善,因为表单中添加了校验，只有校验通过然后发送ajax请求发送数据，如果校验失败表单不能提交成功的。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Js" data-lang="Js"><span style="display:flex;"><span><span style="color:#998;font-style:italic">/*
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">                *   获取表单对象,调用校验方法，使用钩子函数完成数据操作
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">                * */</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000;font-weight:bold">this</span>.$refs[<span style="color:#d14">&#39;dataAddForm&#39;</span>].validate((valid) =&gt; {
</span></span><span style="display:flex;"><span>                    <span style="color:#998;font-style:italic">//测试数据是否正常封装
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>                    <span style="color:#998;font-style:italic">//console.log(this.formData)
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>                    <span style="color:#000;font-weight:bold">if</span>(valid){
</span></span><span style="display:flex;"><span>                         <span style="color:#998;font-style:italic">//校验成功
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>                        axios.post(<span style="color:#d14">&#39;/checkitem/add&#39;</span>,<span style="color:#000;font-weight:bold">this</span>.formData,).then((res) =&gt; {
</span></span><span style="display:flex;"><span>                             <span style="color:#998;font-style:italic">//res就是我们返回的offcnpe_util中的Result对象封装的结果,json数据格式
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>                            <span style="color:#998;font-style:italic">//关闭新增窗口(不管什么情况都需要关闭窗口)
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>                            <span style="color:#000;font-weight:bold">this</span>.dialogFormVisible <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">false</span>;
</span></span><span style="display:flex;"><span>                             <span style="color:#000;font-weight:bold">if</span>(res.data.flag){
</span></span><span style="display:flex;"><span>                                 console.log(<span style="color:#d14">&#39;成功&#39;</span>);
</span></span><span style="display:flex;"><span>                                 <span style="color:#998;font-style:italic">//调用分页方法
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>                                 <span style="color:#000;font-weight:bold">this</span>.findPage();
</span></span><span style="display:flex;"><span>                                 <span style="color:#998;font-style:italic">//弹出提示信息
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>                                 <span style="color:#000;font-weight:bold">this</span>.$message({
</span></span><span style="display:flex;"><span>                                     message <span style="color:#000;font-weight:bold">:</span> res.data.message,
</span></span><span style="display:flex;"><span>                                     type <span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;success&#39;</span>
</span></span><span style="display:flex;"><span>                                 });
</span></span><span style="display:flex;"><span>                             }<span style="color:#000;font-weight:bold">else</span>{
</span></span><span style="display:flex;"><span>                                 console.log(<span style="color:#d14">&#39;失败&#39;</span>);
</span></span><span style="display:flex;"><span>                                 <span style="color:#998;font-style:italic">//弹出失败信息
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>                                 <span style="color:#000;font-weight:bold">this</span>.message().error(res.data.message);
</span></span><span style="display:flex;"><span>                             }
</span></span><span style="display:flex;"><span>                        });
</span></span><span style="display:flex;"><span>                    }<span style="color:#000;font-weight:bold">else</span>{
</span></span><span style="display:flex;"><span>                         <span style="color:#998;font-style:italic">//校验失败
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>                        <span style="color:#000;font-weight:bold">this</span>.message().error(<span style="color:#d14">&#39;数据校验失败,请检查执行&#39;</span>);
</span></span><span style="display:flex;"><span>                        <span style="color:#000;font-weight:bold">return</span> ;
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                });
</span></span><span style="display:flex;"><span>            },
</span></span></code></pre></div><h4 id="2后台代码">2：后台代码</h4>
<h5 id="1控制器方法-在offcnpe_controller中的checkitemcontroller添加方法">(1)控制器方法 在offcnpe_controller中的CheckitemController添加方法</h5>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span>    <span style="color:#3c5d5d;font-weight:bold">@RequestMapping</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;/add&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#3c5d5d;font-weight:bold">@ResponseBody</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> Result <span style="color:#900;font-weight:bold">add</span><span style="color:#000;font-weight:bold">(</span><span style="color:#3c5d5d;font-weight:bold">@RequestBody</span> Checkitem checkitem<span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span>checkitem<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">try</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>            checkItemService<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">add</span><span style="color:#000;font-weight:bold">(</span>checkitem<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">}</span><span style="color:#000;font-weight:bold">catch</span> <span style="color:#000;font-weight:bold">(</span>Exception e<span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>            e<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">printStackTrace</span><span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">new</span> Result<span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">true</span><span style="color:#000;font-weight:bold">,</span> MessageConstant<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">ADD_CHECKITEM_SUCCESS</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">new</span> Result<span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">true</span><span style="color:#000;font-weight:bold">,</span>MessageConstant<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">ADD_CHECKITEM_FAIL</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h5 id="2服务接口-在offcnpe_interface-创建接口">(2)服务接口 在offcnpe_interface 创建接口</h5>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">interface</span> <span style="color:#458;font-weight:bold">CheckItemService</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">add</span><span style="color:#000;font-weight:bold">(</span>Checkitem checkitem<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h5 id="3-服务实现类">(3) 服务实现类</h5>
<p>在offcnpe_service_provider中实现接口CheckItemService</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@Service</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">class</span> <span style="color:#458;font-weight:bold">CheckItemsServiceImpl</span> <span style="color:#000;font-weight:bold">implements</span> CheckItemService <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#3c5d5d;font-weight:bold">@Resource</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">private</span> CheckitemMapper checkitemMapper<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#3c5d5d;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">add</span><span style="color:#000;font-weight:bold">(</span>Checkitem checkitem<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>         checkitemMapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">insert</span><span style="color:#000;font-weight:bold">(</span>checkitem<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h2 id="四检查项分页功能">(四)检查项分页功能</h2>
<h3 id="1功能分析">1：功能分析</h3>
<p>本项目所有分页功能都是基于ajax的异步请求来完成的，请求参数和后台响应数据格式都 使用json数据格式。 请求参数包括页码、每页显示记录数、查询条件。
请求参数的json格式为：{currentPage:1,pageSize:10,queryString:&lsquo;&lsquo;offcn&rsquo;&rsquo;}
后台响应数据包括总记录数、当前页需要展示的数据集合。
响应数据的json格式为：{total:1000,rows:[]}
如下图所示：</p>
<h3 id="2编写页面">2：编写页面</h3>
<h4 id="1定义分页相关模型数据">(1)定义分页相关模型数据</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Js" data-lang="Js"><span style="display:flex;"><span>pagination<span style="color:#000;font-weight:bold">:</span> {<span style="color:#998;font-style:italic">//分页相关模型数据
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>     currentPage<span style="color:#000;font-weight:bold">:</span> <span style="color:#099">1</span>,<span style="color:#998;font-style:italic">//当前页码
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>     pageSize<span style="color:#000;font-weight:bold">:</span><span style="color:#099">10</span>,<span style="color:#998;font-style:italic">//每页显示的记录数
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>     total<span style="color:#000;font-weight:bold">:</span><span style="color:#099">0</span>,<span style="color:#998;font-style:italic">//总记录数
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>     queryString<span style="color:#000;font-weight:bold">:</span><span style="color:#000;font-weight:bold">null</span><span style="color:#998;font-style:italic">//查询条件
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>},
</span></span><span style="display:flex;"><span>dataList<span style="color:#000;font-weight:bold">:</span> [],<span style="color:#998;font-style:italic">//当前页要展示的分页列表数据
</span></span></span></code></pre></div><h4 id="2利用vue的钩子函数执行分页方法">(2)利用vue的钩子函数执行分页方法</h4>
<p>在页面中提供了findPage方法用于分页查询，为了能够在checkitem.html页面加载后直 接可以展示分页数据，可以在VUE提供的钩子函数created中调用findPage方法</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Js" data-lang="Js"><span style="display:flex;"><span><span style="color:#998;font-style:italic">//钩子函数，VUE对象初始化完成后自动执行
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>created() {
</span></span><span style="display:flex;"><span>     <span style="color:#000;font-weight:bold">this</span>.findPage();
</span></span><span style="display:flex;"><span>},
</span></span></code></pre></div><h4 id="3编辑分页方法">(3)编辑分页方法</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Js" data-lang="Js"><span style="display:flex;"><span><span style="color:#998;font-style:italic">//分页查询
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>findPage() {
</span></span><span style="display:flex;"><span>   <span style="color:#998;font-style:italic">//封装查询参数
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>   <span style="color:#000;font-weight:bold">var</span> param <span style="color:#000;font-weight:bold">=</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//当前页
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    currentPage<span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">this</span>.pagination.currentPage,
</span></span><span style="display:flex;"><span>     <span style="color:#998;font-style:italic">//每页显示数据条数
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>     pageSize<span style="color:#000;font-weight:bold">:</span>  <span style="color:#000;font-weight:bold">this</span>.pagination.pageSize,
</span></span><span style="display:flex;"><span>     <span style="color:#998;font-style:italic">//查询的条件字符串
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>     queryString<span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">this</span>.pagination.queryString
</span></span><span style="display:flex;"><span>   };
</span></span><span style="display:flex;"><span>   <span style="color:#998;font-style:italic">//ajax请求完成数据的请求和响应
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>   axios.post(<span style="color:#d14">&#39;/checkitem/pageQuery&#39;</span>,param,).then((res) =&gt; {
</span></span><span style="display:flex;"><span>      <span style="color:#000;font-weight:bold">this</span>.pagination.total<span style="color:#000;font-weight:bold">=</span>res.data.total; <span style="color:#998;font-style:italic">//查询的总条数
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>      <span style="color:#000;font-weight:bold">this</span>.dataList <span style="color:#000;font-weight:bold">=</span> res.data.rows; <span style="color:#998;font-style:italic">//当前页面展示的数据内容
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>   });
</span></span><span style="display:flex;"><span>},
</span></span></code></pre></div><h4 id="4-点击查询按钮和点击分页的页码依然需要进行分页查询操作">(4) 点击查询按钮和点击分页的页码依然需要进行分页查询操作</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Js" data-lang="Js"><span style="display:flex;"><span>a<span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>查询按钮绑定findPage方法
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">&lt;</span>el<span style="color:#000;font-weight:bold">-</span>button <span style="color:#a61717;background-color:#e3d2d2">@</span>click<span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;findPage()&#34;</span> <span style="color:#000;font-weight:bold">class</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;dalfBut&#34;</span><span style="color:#000;font-weight:bold">&gt;</span>查询<span style="color:#000;font-weight:bold">&lt;</span><span style="color:#a61717;background-color:#e3d2d2">/el-button&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>b<span style="color:#a61717;background-color:#e3d2d2">：</span>
</span></span><span style="display:flex;"><span>点击页码执行findPage方法
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">&lt;</span>el<span style="color:#000;font-weight:bold">-</span>pagination
</span></span><span style="display:flex;"><span>       <span style="color:#000;font-weight:bold">class</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;pagiantion&#34;</span>
</span></span><span style="display:flex;"><span>       <span style="color:#a61717;background-color:#e3d2d2">@</span>current<span style="color:#000;font-weight:bold">-</span>change<span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;handleCurrentChange&#34;</span>
</span></span><span style="display:flex;"><span>       <span style="color:#000;font-weight:bold">:</span>current<span style="color:#000;font-weight:bold">-</span>page<span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;pagination.currentPage&#34;</span>
</span></span><span style="display:flex;"><span>       <span style="color:#000;font-weight:bold">:</span>page<span style="color:#000;font-weight:bold">-</span>size<span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;pagination.pageSize&#34;</span>
</span></span><span style="display:flex;"><span>       layout<span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;total, prev, pager, next, jumper&#34;</span>
</span></span><span style="display:flex;"><span>       <span style="color:#000;font-weight:bold">:</span>total<span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;pagination.total&#34;</span><span style="color:#000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">&lt;</span><span style="color:#a61717;background-color:#e3d2d2">/el-pagination&gt;</span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2">@</span>current<span style="color:#000;font-weight:bold">-</span>change<span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;handleCurrentChange&#34;</span> UI框架给我们提供的点击页码自动回调的函数
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>编写方法handleCurrentChange<span style="color:#a61717;background-color:#e3d2d2">：</span>
</span></span><span style="display:flex;"><span> <span style="color:#998;font-style:italic">//切换页码
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>  handleCurrentChange(currentPage) {
</span></span><span style="display:flex;"><span>      <span style="color:#998;font-style:italic">//将点击的页码给我们的当前页从新赋值
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>      <span style="color:#000;font-weight:bold">this</span>.pagination.currentPage <span style="color:#000;font-weight:bold">=</span> currentPage;
</span></span><span style="display:flex;"><span>      <span style="color:#998;font-style:italic">//调用分页查询方法
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>      <span style="color:#000;font-weight:bold">this</span>.findPage();
</span></span><span style="display:flex;"><span>  },
</span></span></code></pre></div><h3 id="3后台代码实现">3：后台代码实现</h3>
<h4 id="1checkitemcontroller增加方法findpage">(1)CheckitemController增加方法findPage</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span> <span style="color:#3c5d5d;font-weight:bold">@RequestMapping</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;/findPage&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#3c5d5d;font-weight:bold">@ResponseBody</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> PageResult <span style="color:#900;font-weight:bold">findPage</span><span style="color:#000;font-weight:bold">(</span><span style="color:#3c5d5d;font-weight:bold">@RequestBody</span> QueryPageBean queryPageBean<span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>        PageResult pageResult <span style="color:#000;font-weight:bold">=</span> checkItemService<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">findPage</span><span style="color:#000;font-weight:bold">(</span>queryPageBean<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> pageResult<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h4 id="2在checkitemservice服务接口中扩展分页查询方法">(2)在CheckItemService服务接口中扩展分页查询方法</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span> PageResult <span style="color:#900;font-weight:bold">findPage</span><span style="color:#000;font-weight:bold">(</span>QueryPageBean queryPageBean<span style="color:#000;font-weight:bold">);</span>
</span></span></code></pre></div><h4 id="3在checkitemserviceimpl服务实现类中实现分页查询方法基于mybatis-plus分页助手插件实现分页">(3)在CheckItemServiceImpl服务实现类中实现分页查询方法，基于Mybatis-Plus分页助手插件实现分页</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span> <span style="color:#998;font-style:italic">//分页查询检查项所有的数据内容
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#3c5d5d;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> PageResult <span style="color:#900;font-weight:bold">findPage</span><span style="color:#000;font-weight:bold">(</span>QueryPageBean queryPageBean<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">//构建分页page对象
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        Page<span style="color:#000;font-weight:bold">&lt;</span>Checkitem<span style="color:#000;font-weight:bold">&gt;</span> page1 <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> Page<span style="color:#000;font-weight:bold">&lt;&gt;(</span>queryPageBean<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getCurrentPage</span><span style="color:#000;font-weight:bold">(),</span>queryPageBean<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getPageSize</span><span style="color:#000;font-weight:bold">());</span>
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">//构建查询条件对象
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        QueryWrapper<span style="color:#000;font-weight:bold">&lt;</span>Checkitem<span style="color:#000;font-weight:bold">&gt;</span> wrapper <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> QueryWrapper<span style="color:#000;font-weight:bold">&lt;&gt;();</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">if</span><span style="color:#000;font-weight:bold">(</span>queryPageBean<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getQueryString</span><span style="color:#000;font-weight:bold">()!=</span><span style="color:#000;font-weight:bold">null</span> <span style="color:#000;font-weight:bold">&amp;&amp;</span>queryPageBean<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getQueryString</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">length</span><span style="color:#000;font-weight:bold">()&gt;</span>0<span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>            wrapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">like</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;name&#34;</span><span style="color:#000;font-weight:bold">,</span>queryPageBean<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getQueryString</span><span style="color:#000;font-weight:bold">());</span>
</span></span><span style="display:flex;"><span>            wrapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">or</span><span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>            wrapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">like</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;code&#34;</span><span style="color:#000;font-weight:bold">,</span>queryPageBean<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getQueryString</span><span style="color:#000;font-weight:bold">());</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">//分页查询数据
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        Page<span style="color:#000;font-weight:bold">&lt;</span>Checkitem<span style="color:#000;font-weight:bold">&gt;</span> checkitemPage <span style="color:#000;font-weight:bold">=</span> checkitemMapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">selectPage</span><span style="color:#000;font-weight:bold">(</span>page1<span style="color:#000;font-weight:bold">,</span> wrapper<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">new</span> PageResult<span style="color:#000;font-weight:bold">(</span>checkitemPage<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getTotal</span><span style="color:#000;font-weight:bold">(),</span>checkitemPage<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getRecords</span><span style="color:#000;font-weight:bold">());</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h4 id="4offcnpe_util项目中添加分页工具类">(4)offcnpe_util项目中添加分页工具类</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@Configuration</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">class</span> <span style="color:#458;font-weight:bold">MyBatisPlusConfig</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">     *分页插件
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#3c5d5d;font-weight:bold">@Bean</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> MybatisPlusInterceptor <span style="color:#900;font-weight:bold">mybatisPlusInterceptor</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        MybatisPlusInterceptor mybatisPlusInterceptor<span style="color:#000;font-weight:bold">=</span><span style="color:#000;font-weight:bold">new</span> MybatisPlusInterceptor<span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>        PaginationInnerInterceptor innerInterceptor<span style="color:#000;font-weight:bold">=</span><span style="color:#000;font-weight:bold">new</span> PaginationInnerInterceptor<span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>        innerInterceptor<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setDbType</span><span style="color:#000;font-weight:bold">(</span>DbType<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">MYSQL</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        innerInterceptor<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setOverflow</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">true</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        mybatisPlusInterceptor<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">addInnerInterceptor</span><span style="color:#000;font-weight:bold">(</span>innerInterceptor<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> mybatisPlusInterceptor<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h2 id="一删除检查项功能">一、删除检查项功能</h2>
<h3 id="一编写页面">（一）编写页面</h3>
<p> 为了防止用户误操作，点击删除按钮时需要弹出确认删除的提示，用户点击取消则不做 任何操作，用户点击确定按钮再提交删除请求</p>
<h4 id="1绑定单击事件">1：绑定单击事件</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span> <span style="color:#000;font-weight:bold">&lt;</span>el<span style="color:#000;font-weight:bold">-</span>button size<span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;mini&#34;</span> type<span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;danger&#34;</span> <span style="color:#a61717;background-color:#e3d2d2">@</span>click<span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;handleDelete(scope.row)&#34;</span><span style="color:#000;font-weight:bold">&gt;</span>删除<span style="color:#000;font-weight:bold">&lt;</span><span style="color:#a61717;background-color:#e3d2d2">/el-button&gt;  </span>
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span> scope.row<span style="color:#a61717;background-color:#e3d2d2">：</span>就是当前行的json对象
</span></span></code></pre></div><h4 id="2构建删除方法">2：构建删除方法</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span>  <span style="color:#998;font-style:italic">// 删除  
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>  handleDelete(row) {  
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">this</span>.$confirm(<span style="color:#d14">&#34;确认删除当前数据么&#34;</span>,<span style="color:#d14">&#34;提示&#34;</span>,{type<span style="color:#000;font-weight:bold">:</span><span style="color:#d14">&#39;waring&#39;</span>}).then(() =&gt; {  
</span></span><span style="display:flex;"><span>  <span style="color:#998;font-style:italic">//用户点击确认按钮  
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>  axios.post(<span style="color:#d14">&#34;/checkitem/deleteInfoById?id=&#34;</span><span style="color:#000;font-weight:bold">+</span>row.id).then((res) =&gt; {  
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">if</span>(res.data.flag){  
</span></span><span style="display:flex;"><span>  <span style="color:#998;font-style:italic">//删除成功  
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>  <span style="color:#000;font-weight:bold">this</span>.$message({  
</span></span><span style="display:flex;"><span>  message<span style="color:#000;font-weight:bold">:</span> res.data.message,  
</span></span><span style="display:flex;"><span>  type<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;success&#39;</span>  
</span></span><span style="display:flex;"><span>  });  
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">this</span>.findPage();  
</span></span><span style="display:flex;"><span>  }<span style="color:#000;font-weight:bold">else</span>{  
</span></span><span style="display:flex;"><span>  <span style="color:#998;font-style:italic">//删除失败  
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>  <span style="color:#000;font-weight:bold">this</span>.$message().error(res.data.message)  
</span></span><span style="display:flex;"><span>  }  
</span></span><span style="display:flex;"><span>  });  
</span></span><span style="display:flex;"><span>  }).<span style="color:#000;font-weight:bold">catch</span>(() =&gt; {  
</span></span><span style="display:flex;"><span>  <span style="color:#998;font-style:italic">//用户点击取消按钮  
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>  <span style="color:#000;font-weight:bold">this</span>.$message({  
</span></span><span style="display:flex;"><span>  message<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;用户取消了删除操作&#39;</span>,  
</span></span><span style="display:flex;"><span>  type<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;info&#39;</span>  
</span></span><span style="display:flex;"><span>  });  
</span></span><span style="display:flex;"><span>  } );  
</span></span><span style="display:flex;"><span>  }
</span></span></code></pre></div><h3 id="二后台代码实现">（二）后台代码实现</h3>
<h4 id="1控制器方法">1：控制器方法</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#998;font-style:italic">//删除检查项  
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>  <span style="color:#3c5d5d;font-weight:bold">@RequestMapping</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;/deleteInfoById&#34;</span><span style="color:#000;font-weight:bold">)</span>  
</span></span><span style="display:flex;"><span>  <span style="color:#3c5d5d;font-weight:bold">@ResponseBody</span>  
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">public</span> Result <span style="color:#900;font-weight:bold">deleteInfoById</span><span style="color:#000;font-weight:bold">(</span>Integer id<span style="color:#000;font-weight:bold">){</span>  
</span></span><span style="display:flex;"><span>  System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span>id<span style="color:#000;font-weight:bold">);</span>  
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">try</span><span style="color:#000;font-weight:bold">{</span>  
</span></span><span style="display:flex;"><span>  checkItemService<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">deleteInfoById</span><span style="color:#000;font-weight:bold">(</span>id<span style="color:#000;font-weight:bold">);</span>  
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">}</span><span style="color:#000;font-weight:bold">catch</span> <span style="color:#000;font-weight:bold">(</span>Exception e<span style="color:#000;font-weight:bold">){</span>  
</span></span><span style="display:flex;"><span>  e<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">printStackTrace</span><span style="color:#000;font-weight:bold">();</span>  
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">new</span> Result<span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">false</span><span style="color:#000;font-weight:bold">,</span>MessageConstant<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">DELETE_CHECKITEM_FAIL</span><span style="color:#000;font-weight:bold">);</span>  
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">}</span>  
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">new</span> Result<span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">true</span><span style="color:#000;font-weight:bold">,</span>MessageConstant<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">DELETE_CHECKITEM_SUCCESS</span><span style="color:#000;font-weight:bold">);</span>  
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">}</span>  
</span></span></code></pre></div><h4 id="2服务接口中的方法">2：服务接口中的方法</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span>  <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">deleteInfoById</span><span style="color:#000;font-weight:bold">(</span>Integer id<span style="color:#000;font-weight:bold">);</span>
</span></span></code></pre></div><h4 id="3在checkitemserviceimpl服务实现类实现删除功能">3：在CheckItemServiceImpl服务实现类实现删除功能</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span>  <span style="color:#3c5d5d;font-weight:bold">@Override</span>  
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">deleteInfoById</span><span style="color:#000;font-weight:bold">(</span>Integer id<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>  
</span></span><span style="display:flex;"><span>  checkitemMapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">deleteById</span><span style="color:#000;font-weight:bold">(</span>id<span style="color:#000;font-weight:bold">);</span>  
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h2 id="二编辑检查项功能">二、编辑检查项功能</h2>
<h3 id="一编写页面-1">(一)编写页面</h3>
<p> 用户点击编辑按钮时，需要弹出编辑窗口并且将当前记录的数据进行回显，用户修改完 成后点击确定按钮将修改后的数据提交到后台进行数据库操作</p>
<h4 id="1给编辑按钮绑定事件">1:给编辑按钮绑定事件</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Js" data-lang="Js"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#000;font-weight:bold">&lt;</span>el<span style="color:#000;font-weight:bold">-</span>button type<span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;primary&#34;</span> size<span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;mini&#34;</span> <span style="color:#a61717;background-color:#e3d2d2">@</span>click<span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;handleUpdate(scope.row)&#34;</span><span style="color:#000;font-weight:bold">&gt;</span>编辑<span style="color:#000;font-weight:bold">&lt;</span><span style="color:#a61717;background-color:#e3d2d2">/el-button&gt;  </span>
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span> 对应事件方法  
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span> handleUpdate(row) {  
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span> }
</span></span></code></pre></div><h4 id="2弹出编辑窗口回显数据">2：弹出编辑窗口回显数据</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span>  <span style="color:#998;font-style:italic">// 弹出编辑窗口  
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>  handleUpdate(row) {  
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">this</span>.resetForm();  
</span></span><span style="display:flex;"><span>  <span style="color:#998;font-style:italic">//显示编辑窗口  
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>  <span style="color:#000;font-weight:bold">this</span>.dialogFormVisible4Edit <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">true</span>;  
</span></span><span style="display:flex;"><span>  <span style="color:#998;font-style:italic">//根据当前行的id回显数据  
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>  axios.get(<span style="color:#d14">&#34;/checkitem/findInfoById?id=&#34;</span><span style="color:#000;font-weight:bold">+</span>row.id).then((res) =&gt; {  
</span></span><span style="display:flex;"><span>  <span style="color:#998;font-style:italic">//true 代表查询到了数据  
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>  <span style="color:#000;font-weight:bold">if</span>(res.data.flag){  
</span></span><span style="display:flex;"><span>  console.info(res.data.data);  
</span></span><span style="display:flex;"><span>  <span style="color:#998;font-style:italic">//&lt;el-input v-model=&#34;formData.code&#34;/&gt;  
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>  <span style="color:#998;font-style:italic">//进行数据回显,基于vue的数据绑定实现的 绑定的对象就是formData,这个对象有值,就会自动回显到文本框中  
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>  <span style="color:#000;font-weight:bold">this</span>.formData <span style="color:#000;font-weight:bold">=</span> res.data.data;  
</span></span><span style="display:flex;"><span>  }<span style="color:#000;font-weight:bold">else</span>{  
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">this</span>.$message().error(res.data.message);  
</span></span><span style="display:flex;"><span>  }  
</span></span><span style="display:flex;"><span>  });  
</span></span><span style="display:flex;"><span>  },
</span></span></code></pre></div><h4 id="3点击确定按钮进行数据更新">3：点击确定按钮进行数据更新</h4>
<p> 在编辑窗口中修改完成后，点击确定按钮需要提交请求，所以需要为确定按钮绑定事件 并提供处理函数handleEdit<br>
 </p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">&lt;</span>el<span style="color:#a61717;background-color:#e3d2d2">‐</span>button type<span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;primary&#34;</span> <span style="color:#a61717;background-color:#e3d2d2">@</span>click<span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;handleEdit()&#34;</span><span style="color:#000;font-weight:bold">&gt;</span>确定<span style="color:#000;font-weight:bold">&lt;</span><span style="color:#a61717;background-color:#e3d2d2">/el‐button&gt;</span>
</span></span></code></pre></div><h4 id="4编辑方法绑定函数">4：编辑方法绑定函数</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span>  <span style="color:#998;font-style:italic">//编辑  
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>  handleEdit() {  
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">this</span>.$refs[<span style="color:#d14">&#39;dataEditForm&#39;</span>].validate((valid) =&gt;{  
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">if</span>(valid){  
</span></span><span style="display:flex;"><span>  axios.post(<span style="color:#d14">&#39;/checkitem/updateInfoById&#39;</span>,<span style="color:#000;font-weight:bold">this</span>.formData).then((res) =&gt; {  
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">if</span>(res.data.flag){  
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">this</span>.$message({  
</span></span><span style="display:flex;"><span>  message<span style="color:#000;font-weight:bold">:</span> res.data.message,  
</span></span><span style="display:flex;"><span>  type<span style="color:#000;font-weight:bold">:</span><span style="color:#d14">&#39;success&#39;</span>  
</span></span><span style="display:flex;"><span>  });  
</span></span><span style="display:flex;"><span>  }<span style="color:#000;font-weight:bold">else</span>{  
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">this</span>.$message().error(res.data.message);  
</span></span><span style="display:flex;"><span>  }  
</span></span><span style="display:flex;"><span>  }).<span style="color:#000;font-weight:bold">finally</span>(() =&gt;{  
</span></span><span style="display:flex;"><span>  <span style="color:#998;font-style:italic">//无论校验成功还是失败都需要调用分页方法  
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>  <span style="color:#000;font-weight:bold">this</span>.findPage();  
</span></span><span style="display:flex;"><span>  <span style="color:#998;font-style:italic">//隐藏我们弹出的数据框  
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>  <span style="color:#000;font-weight:bold">this</span>.dialogFormVisible4Edit <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">false</span>;  
</span></span><span style="display:flex;"><span>  });  
</span></span><span style="display:flex;"><span>  }<span style="color:#000;font-weight:bold">else</span>{  
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">this</span>.$message().error(<span style="color:#d14">&#34;表单校验失败&#34;</span>);  
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">false</span>;  
</span></span><span style="display:flex;"><span>  }  
</span></span><span style="display:flex;"><span>  });  
</span></span><span style="display:flex;"><span>  },
</span></span></code></pre></div><h3 id="二后台功能实现">（二）后台功能实现</h3>
<h4 id="1控制器方法-1">1：控制器方法</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">//回显检查项数据
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#3c5d5d;font-weight:bold">@RequestMapping</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;/findInfoById&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#3c5d5d;font-weight:bold">@ResponseBody</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> Result <span style="color:#900;font-weight:bold">findInfoById</span><span style="color:#000;font-weight:bold">(</span>Integer id<span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>        Checkitem infoById <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">null</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">try</span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>            infoById <span style="color:#000;font-weight:bold">=</span> checkItemService<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">findInfoById</span><span style="color:#000;font-weight:bold">(</span>id<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">}</span><span style="color:#000;font-weight:bold">catch</span> <span style="color:#000;font-weight:bold">(</span>Exception e<span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>            e<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">printStackTrace</span><span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">new</span> Result<span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">false</span><span style="color:#000;font-weight:bold">,</span>MessageConstant<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">DELETE_CHECKITEM_FAIL</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">new</span> Result<span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">true</span><span style="color:#000;font-weight:bold">,</span>MessageConstant<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">DELETE_CHECKITEM_SUCCESS</span><span style="color:#000;font-weight:bold">,</span>infoById<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//更新检查项数据
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#3c5d5d;font-weight:bold">@RequestMapping</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;/updateInfoById&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#3c5d5d;font-weight:bold">@ResponseBody</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> Result <span style="color:#900;font-weight:bold">updateInfoById</span><span style="color:#000;font-weight:bold">(</span><span style="color:#3c5d5d;font-weight:bold">@RequestBody</span> Checkitem checkitem<span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">try</span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>            checkItemService<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">updateInfoById</span><span style="color:#000;font-weight:bold">(</span>checkitem<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">}</span><span style="color:#000;font-weight:bold">catch</span> <span style="color:#000;font-weight:bold">(</span>Exception e<span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>            e<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">printStackTrace</span><span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">new</span> Result<span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">false</span><span style="color:#000;font-weight:bold">,</span>MessageConstant<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">EDIT_CHECKITEM_FAIL</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">new</span> Result<span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">true</span><span style="color:#000;font-weight:bold">,</span>MessageConstant<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">EDIT_CHECKITEM_SUCCESS</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h4 id="2接口方法">2：接口方法</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    Checkitem <span style="color:#900;font-weight:bold">findInfoById</span><span style="color:#000;font-weight:bold">(</span>Integer id<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">updateInfoById</span><span style="color:#000;font-weight:bold">(</span>Checkitem checkitem<span style="color:#000;font-weight:bold">);</span>
</span></span></code></pre></div><h4 id="3在checkitemserviceimpl服务实现类实现删除功能-1">3：在CheckItemServiceImpl服务实现类实现删除功能</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span>   <span style="color:#3c5d5d;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> Checkitem <span style="color:#900;font-weight:bold">findInfoById</span><span style="color:#000;font-weight:bold">(</span>Integer id<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> checkitemMapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">selectById</span><span style="color:#000;font-weight:bold">(</span>id<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#3c5d5d;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">updateInfoById</span><span style="color:#000;font-weight:bold">(</span>Checkitem checkitem<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        checkitemMapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">updateById</span><span style="color:#000;font-weight:bold">(</span>checkitem<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h2 id="三新增检查组">三、新增检查组</h2>
<h3 id="一-需求分析">(一) 需求分析</h3>
<p>检查组其实就是多个检查项的集合，例如有一个检查组为“一般检查”，这个检查组可以包 括多个检查项：身高、体重、收缩压、舒张压等。所以在添加检查组时需要选择这个检 查组包括的检查项。 检查组对应的实体类为CheckGroup，对应的数据表为t_checkgroup。检查组和检查项 为多对多关系，所以需要中间表t_checkgroup_checkitem进行关联。</p>
<h3 id="二回显所有检查项">(二)回显所有检查项</h3>
<h4 id="1前端内容">1：前端内容</h4>
<h5 id="1-绑定事件">(1) 绑定事件</h5>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span> <span style="color:#000;font-weight:bold">&lt;</span>el<span style="color:#000;font-weight:bold">-</span>button type<span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;primary&#34;</span> <span style="color:#000;font-weight:bold">class</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;butT&#34;</span> <span style="color:#a61717;background-color:#e3d2d2">@</span>click<span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;handleCreate()&#34;</span><span style="color:#000;font-weight:bold">&gt;</span>新建<span style="color:#000;font-weight:bold">&lt;</span><span style="color:#a61717;background-color:#e3d2d2">/el-button&gt;</span>
</span></span></code></pre></div><p>点击新建按钮弹出dialog并加载出检查项 的相关数据</p>
<h5 id="2事件函数">(2)事件函数</h5>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#998;font-style:italic">// 重置表单 
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>resetForm() { 
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">this</span>.formData <span style="color:#000;font-weight:bold">=</span> {}; 
</span></span><span style="display:flex;"><span>},
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">//我们点击新建按钮,在弹出的窗口中需要加载所有的检查项的数据.
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>handleCreate() {
</span></span><span style="display:flex;"><span>   <span style="color:#998;font-style:italic">//显示隐藏窗口
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>   <span style="color:#000;font-weight:bold">this</span>.dialogFormVisible <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">true</span>;
</span></span><span style="display:flex;"><span>   <span style="color:#998;font-style:italic">//默认选中第一个选项卡
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>   <span style="color:#000;font-weight:bold">this</span>.activeName <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#39;first&#39;</span>;
</span></span><span style="display:flex;"><span>   <span style="color:#998;font-style:italic">//重置表单
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>   <span style="color:#000;font-weight:bold">this</span>.resetForm();
</span></span><span style="display:flex;"><span>   <span style="color:#998;font-style:italic">//清除默认勾选的检查项
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>   <span style="color:#000;font-weight:bold">this</span>.checkitemIds <span style="color:#000;font-weight:bold">=</span> [];
</span></span><span style="display:flex;"><span>   <span style="color:#998;font-style:italic">//异步请求获取所有检查项信息
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>   axios.get(<span style="color:#d14">&#34;/checkitem/showAllItem&#34;</span>).then((res) =&gt; {
</span></span><span style="display:flex;"><span>       <span style="color:#000;font-weight:bold">if</span>(res.data.flag){
</span></span><span style="display:flex;"><span>           <span style="color:#000;font-weight:bold">this</span>.tableData <span style="color:#000;font-weight:bold">=</span> res.data.data;
</span></span><span style="display:flex;"><span>        }<span style="color:#000;font-weight:bold">else</span>{
</span></span><span style="display:flex;"><span>           <span style="color:#000;font-weight:bold">this</span>.$message().error(res.data.messge);
</span></span><span style="display:flex;"><span>         }
</span></span><span style="display:flex;"><span>    });
</span></span><span style="display:flex;"><span>},
</span></span></code></pre></div><h4 id="2后台内容">2:后台内容</h4>
<h5 id="1在控制器中添加方法">(1)在控制器中添加方法</h5>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#998;font-style:italic">//展示所有检查项信息
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#3c5d5d;font-weight:bold">@RequestMapping</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;/showAllItem&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#3c5d5d;font-weight:bold">@ResponseBody</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> Result <span style="color:#900;font-weight:bold">showAllItem</span><span style="color:#000;font-weight:bold">(){</span>
</span></span><span style="display:flex;"><span>        List<span style="color:#000;font-weight:bold">&lt;</span>Checkitem<span style="color:#000;font-weight:bold">&gt;</span> infoById <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">null</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">try</span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>            infoById <span style="color:#000;font-weight:bold">=</span> checkItemService<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">showAllItem</span><span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">}</span><span style="color:#000;font-weight:bold">catch</span> <span style="color:#000;font-weight:bold">(</span>Exception e<span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>            e<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">printStackTrace</span><span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">new</span> Result<span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">false</span><span style="color:#000;font-weight:bold">,</span>MessageConstant<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">QUERY_CHECKITEM_FAIL</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">new</span> Result<span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">true</span><span style="color:#000;font-weight:bold">,</span>MessageConstant<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">QUERY_CHECKITEM_SUCCESS</span><span style="color:#000;font-weight:bold">,</span>infoById<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h5 id="2在接口中添加方法">(2)在接口中添加方法</h5>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span>List<span style="color:#000;font-weight:bold">&lt;</span>Checkitem<span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#900;font-weight:bold">showAllItem</span><span style="color:#000;font-weight:bold">();</span>
</span></span></code></pre></div><h5 id="3实现接口方法">(3)实现接口方法</h5>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span> <span style="color:#3c5d5d;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span> <span style="color:#000;font-weight:bold">public</span> List<span style="color:#000;font-weight:bold">&lt;</span>Checkitem<span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#900;font-weight:bold">showAllItem</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>     <span style="color:#000;font-weight:bold">return</span> checkitemMapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">selectList</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">null</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span> <span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h3 id="三-提交按钮完成检查组数据添加">(三) 提交按钮完成检查组数据添加</h3>
<p>当用户点击新增窗口中的确定按钮时发送ajax请求将数据提交到后台进行数据库操作。提 交到后台的数据分为两部分：检查组基本信息（对应的模型数据为formData）和检查项 id数组（对应的模型数据为checkitemIds）</p>
<h4 id="1前端内容-1">1:前端内容</h4>
<h5 id="1绑定事件">(1)绑定事件</h5>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">&lt;</span>el<span style="color:#a61717;background-color:#e3d2d2">‐</span>button type<span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;primary&#34;</span> <span style="color:#a61717;background-color:#e3d2d2">@</span>click<span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;handleAdd()&#34;</span><span style="color:#000;font-weight:bold">&gt;</span>确定<span style="color:#000;font-weight:bold">&lt;</span><span style="color:#a61717;background-color:#e3d2d2">/el‐button&gt;</span>
</span></span></code></pre></div><p>点击确定按钮 出发handleAdd函数实现检查组添加</p>
<h5 id="2事件函数-1">(2)事件函数</h5>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Js" data-lang="Js"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> handleAdd () {
</span></span><span style="display:flex;"><span>               axios.post(<span style="color:#d14">&#34;/checkgroup/addGroup?checkitemIds=&#34;</span><span style="color:#000;font-weight:bold">+</span><span style="color:#000;font-weight:bold">this</span>.checkitemIds,<span style="color:#000;font-weight:bold">this</span>.formData).then((res) =&gt; {
</span></span><span style="display:flex;"><span>                   <span style="color:#000;font-weight:bold">this</span>.dialogFormVisible <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">false</span>;
</span></span><span style="display:flex;"><span>                   <span style="color:#000;font-weight:bold">if</span>(res.data.flag){
</span></span><span style="display:flex;"><span>                       <span style="color:#000;font-weight:bold">this</span>.$message({
</span></span><span style="display:flex;"><span>                           message<span style="color:#000;font-weight:bold">:</span> res.data.message,
</span></span><span style="display:flex;"><span>                           type<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;success&#39;</span>
</span></span><span style="display:flex;"><span>                       });
</span></span><span style="display:flex;"><span>                   }<span style="color:#000;font-weight:bold">else</span>{
</span></span><span style="display:flex;"><span>                        <span style="color:#000;font-weight:bold">this</span>.message().error(res.data.message);
</span></span><span style="display:flex;"><span>                   }
</span></span><span style="display:flex;"><span>               }).<span style="color:#000;font-weight:bold">finally</span>(() =&gt; {
</span></span><span style="display:flex;"><span>                   <span style="color:#998;font-style:italic">//从新进行分页查询
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>                   <span style="color:#000;font-weight:bold">this</span>.findPage();
</span></span><span style="display:flex;"><span>               });
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            },
</span></span></code></pre></div><h4 id="2后台内容-1">2:后台内容</h4>
<h5 id="1添加控制方法-在checkgroupcontroller中">(1)添加控制方法 在CheckGroupController中</h5>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#3c5d5d;font-weight:bold">@RequestMapping</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;/addGroup&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> Result <span style="color:#900;font-weight:bold">addGroup</span><span style="color:#000;font-weight:bold">(</span><span style="color:#3c5d5d;font-weight:bold">@RequestBody</span> Checkgroup checkgroup<span style="color:#000;font-weight:bold">,</span>Integer <span style="color:#000;font-weight:bold">[]</span> checkitemIds<span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">try</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>            checkGroupService<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">addGroup</span><span style="color:#000;font-weight:bold">(</span>checkgroup<span style="color:#000;font-weight:bold">,</span>checkitemIds<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">}</span><span style="color:#000;font-weight:bold">catch</span> <span style="color:#000;font-weight:bold">(</span>Exception e<span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>            e<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">printStackTrace</span><span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">return</span>  <span style="color:#000;font-weight:bold">new</span> Result<span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">false</span><span style="color:#000;font-weight:bold">,</span> MessageConstant<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">ADD_CHECKGROUP_FAIL</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">new</span> Result<span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">true</span><span style="color:#000;font-weight:bold">,</span>MessageConstant<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">ADD_CHECKGROUP_SUCCESS</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h5 id="2服务层接口内容">(2)服务层接口内容</h5>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">addGroup</span><span style="color:#000;font-weight:bold">(</span>Checkgroup checkgroup<span style="color:#000;font-weight:bold">,</span> Integer<span style="color:#000;font-weight:bold">[]</span> checkitemIds<span style="color:#000;font-weight:bold">);</span>
</span></span></code></pre></div><h5 id="3服务接口的实现类">(3)服务接口的实现类</h5>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">package</span> <span style="color:#555">com.offcn.service.impl</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> <span style="color:#555">com.offcn.mapper.CheckgroupCheckitemMapper</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> <span style="color:#555">com.offcn.mapper.CheckgroupMapper</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> <span style="color:#555">com.offcn.pojo.Checkgroup</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> <span style="color:#555">com.offcn.pojo.CheckgroupCheckitem</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> <span style="color:#555">com.offcn.service.CheckGroupService</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> <span style="color:#555">org.apache.dubbo.config.annotation.Service</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> <span style="color:#555">org.springframework.transaction.annotation.Transactional</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> <span style="color:#555">javax.annotation.Resource</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> <span style="color:#555">java.lang.reflect.Array</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> <span style="color:#555">java.util.ArrayList</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> <span style="color:#555">java.util.List</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@Service</span><span style="color:#000;font-weight:bold">(</span>interfaceClass <span style="color:#000;font-weight:bold">=</span> CheckGroupService<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">class</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@Transactional</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">class</span> <span style="color:#458;font-weight:bold">CheckGroupServiceImpl</span> <span style="color:#000;font-weight:bold">implements</span> CheckGroupService <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#3c5d5d;font-weight:bold">@Resource</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">private</span> CheckgroupMapper checkgroupMapper<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#3c5d5d;font-weight:bold">@Resource</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">private</span> CheckgroupCheckitemMapper checkgroupCheckitemMapper<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#3c5d5d;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">addGroup</span><span style="color:#000;font-weight:bold">(</span>Checkgroup checkgroup<span style="color:#000;font-weight:bold">,</span> Integer<span style="color:#000;font-weight:bold">[]</span> checkitemIds<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">//添加检查组
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>         checkgroupMapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">insert</span><span style="color:#000;font-weight:bold">(</span>checkgroup<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>         <span style="color:#000;font-weight:bold">for</span><span style="color:#000;font-weight:bold">(</span>Integer id<span style="color:#000;font-weight:bold">:</span>checkitemIds<span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>             CheckgroupCheckitem checkgroupCheckitem <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> CheckgroupCheckitem<span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>             checkgroupCheckitem<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setCheckgroupId</span><span style="color:#000;font-weight:bold">(</span>checkgroup<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getId</span><span style="color:#000;font-weight:bold">());</span>
</span></span><span style="display:flex;"><span>             checkgroupCheckitem<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setCheckitemId</span><span style="color:#000;font-weight:bold">(</span>id<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>             <span style="color:#998;font-style:italic">//添加检查组和检查项的中间表数据
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>             checkgroupCheckitemMapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">insert</span><span style="color:#000;font-weight:bold">(</span>checkgroupCheckitem<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>         <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h1 id="医疗管家-检查组信息维护">医疗管家-检查组信息维护</h1>
<h2 id="一检查组分页显示">一、检查组分页显示</h2>
<h3 id="一前端页面内容">(一)前端页面内容</h3>
<h4 id="1编写分页函数">1：编写分页函数</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span>  <span style="color:#998;font-style:italic">//分页查询  
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>  findPage() {  
</span></span><span style="display:flex;"><span>  <span style="color:#998;font-style:italic">//发送ajax的请求完成页面数据加载  
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>  <span style="color:#000;font-weight:bold">var</span> param <span style="color:#000;font-weight:bold">=</span>{  
</span></span><span style="display:flex;"><span>  currentPage<span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">this</span>.pagination.currentPage,  
</span></span><span style="display:flex;"><span>  pageSize<span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">this</span>.pagination.pageSize,  
</span></span><span style="display:flex;"><span>  queryString<span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">this</span>.pagination.queryString  
</span></span><span style="display:flex;"><span>  };  
</span></span><span style="display:flex;"><span>  <span style="color:#998;font-style:italic">//发送ajax请求  
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>  axios.post(<span style="color:#d14">&#34;/checkgroup/findPage&#34;</span>,param,).then((res) =&gt; {  
</span></span><span style="display:flex;"><span>  <span style="color:#998;font-style:italic">//给我们的vue的变量赋值  
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>  <span style="color:#000;font-weight:bold">this</span>.pagination.total <span style="color:#000;font-weight:bold">=</span> res.data.total;  
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">this</span>.dataList <span style="color:#000;font-weight:bold">=</span> res.data.rows;  
</span></span><span style="display:flex;"><span>  });  
</span></span><span style="display:flex;"><span>  },
</span></span></code></pre></div><h4 id="2分页方法执行时机">2：分页方法执行时机</h4>
<p> 加载页面的时候使用vue的钩子函数完成分页功能</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span>  created() {  
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">this</span>.findPage();  
</span></span><span style="display:flex;"><span>  },  
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span> 点击页码完成分页数据展示  
</span></span><span style="display:flex;"><span>  <span style="color:#998;font-style:italic">//切换页码  
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>  handleCurrentChange(currentPage) {  
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">this</span>.pagination.currentPage <span style="color:#000;font-weight:bold">=</span> currentPage;  
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">this</span>.findPage();  
</span></span><span style="display:flex;"><span>  },  
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span> 查询按钮完成分页显示功能  
</span></span><span style="display:flex;"><span> <span style="color:#000;font-weight:bold">&lt;</span>el<span style="color:#000;font-weight:bold">-</span>button <span style="color:#a61717;background-color:#e3d2d2">@</span>click<span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;findPage()&#34;</span> <span style="color:#000;font-weight:bold">class</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;dalfBut&#34;</span><span style="color:#000;font-weight:bold">&gt;</span>查询<span style="color:#000;font-weight:bold">&lt;</span><span style="color:#a61717;background-color:#e3d2d2">/el-button&gt;  </span>
</span></span><span style="display:flex;"><span> 
</span></span></code></pre></div><h3 id="二后台内容">(二)后台内容</h3>
<h4 id="1控制器方法-2">1：控制器方法</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span>  <span style="color:#998;font-style:italic">//分页显示检查组  
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>  <span style="color:#3c5d5d;font-weight:bold">@RequestMapping</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;/findPage&#34;</span><span style="color:#000;font-weight:bold">)</span>  
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">public</span> PageResult <span style="color:#900;font-weight:bold">findPage</span><span style="color:#000;font-weight:bold">(</span><span style="color:#3c5d5d;font-weight:bold">@RequestBody</span> QueryPageBean queryPageBean<span style="color:#000;font-weight:bold">){</span>  
</span></span><span style="display:flex;"><span>  PageResult pageResult <span style="color:#000;font-weight:bold">=</span> checkGroupService<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">findPage</span><span style="color:#000;font-weight:bold">(</span>queryPageBean<span style="color:#000;font-weight:bold">);</span>  
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">return</span>  pageResult<span style="color:#000;font-weight:bold">;</span>  
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h4 id="2-服务接口">2： 服务接口</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span>  PageResult <span style="color:#900;font-weight:bold">findPage</span><span style="color:#000;font-weight:bold">(</span>QueryPageBean queryPageBean<span style="color:#000;font-weight:bold">);</span>
</span></span></code></pre></div><h4 id="3接口实现类">3：接口实现类</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span>  <span style="color:#3c5d5d;font-weight:bold">@Override</span>  
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">public</span> PageResult <span style="color:#900;font-weight:bold">findPage</span><span style="color:#000;font-weight:bold">(</span>QueryPageBean queryPageBean<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>  
</span></span><span style="display:flex;"><span>  Page<span style="color:#000;font-weight:bold">&lt;</span>Checkgroup<span style="color:#000;font-weight:bold">&gt;</span> page1 <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> Page<span style="color:#000;font-weight:bold">(</span>queryPageBean<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getCurrentPage</span><span style="color:#000;font-weight:bold">(),</span>queryPageBean<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getPageSize</span><span style="color:#000;font-weight:bold">());</span>  
</span></span><span style="display:flex;"><span>  QueryWrapper<span style="color:#000;font-weight:bold">&lt;</span>Checkgroup<span style="color:#000;font-weight:bold">&gt;</span> queryWrapper <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> QueryWrapper<span style="color:#000;font-weight:bold">&lt;&gt;();</span>  
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">if</span><span style="color:#000;font-weight:bold">(</span>queryPageBean<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getQueryString</span><span style="color:#000;font-weight:bold">()!=</span><span style="color:#000;font-weight:bold">null</span> <span style="color:#000;font-weight:bold">&amp;&amp;</span> queryPageBean<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getQueryString</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">length</span><span style="color:#000;font-weight:bold">()&gt;</span>0<span style="color:#000;font-weight:bold">){</span>  
</span></span><span style="display:flex;"><span>  queryWrapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">like</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;code&#34;</span><span style="color:#000;font-weight:bold">,</span>queryPageBean<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getQueryString</span><span style="color:#000;font-weight:bold">());</span>  
</span></span><span style="display:flex;"><span>  queryWrapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">or</span><span style="color:#000;font-weight:bold">();</span>  
</span></span><span style="display:flex;"><span>  queryWrapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">like</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;name&#34;</span><span style="color:#000;font-weight:bold">,</span>queryPageBean<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getQueryString</span><span style="color:#000;font-weight:bold">());</span>  
</span></span><span style="display:flex;"><span>  queryWrapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">or</span><span style="color:#000;font-weight:bold">();</span>  
</span></span><span style="display:flex;"><span>  queryWrapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">like</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;helpCode&#34;</span><span style="color:#000;font-weight:bold">,</span>queryPageBean<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getQueryString</span><span style="color:#000;font-weight:bold">());</span>  
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">}</span>  
</span></span><span style="display:flex;"><span>  Page<span style="color:#000;font-weight:bold">&lt;</span>Checkgroup<span style="color:#000;font-weight:bold">&gt;</span> checkgroupPage <span style="color:#000;font-weight:bold">=</span> checkgroupMapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">selectPage</span><span style="color:#000;font-weight:bold">(</span>page1<span style="color:#000;font-weight:bold">,</span> queryWrapper<span style="color:#000;font-weight:bold">);</span>  
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">new</span> PageResult<span style="color:#000;font-weight:bold">(</span>checkgroupPage<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getTotal</span><span style="color:#000;font-weight:bold">(),</span>checkgroupPage<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getRecords</span><span style="color:#000;font-weight:bold">());</span>  
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h2 id="二编辑检查组功能">二、编辑检查组功能</h2>
<h3 id="一回显编辑信息功能">(一)回显编辑信息功能</h3>
<h4 id="1前端内容编写">1:前端内容编写</h4>
<h5 id="1点击按钮弹出编辑窗口并回显检查组数据">(1)点击按钮弹出编辑窗口并回显检查组数据</h5>
<p> </p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#998;font-style:italic">// 弹出编辑窗口  
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span> handleUpdate(row) {  
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">this</span>.dialogFormVisible4Edit <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">true</span>;  
</span></span><span style="display:flex;"><span>  <span style="color:#998;font-style:italic">//回显当前检查组的基本信息  
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>  axios.get(<span style="color:#d14">&#34;/checkgroup/findGroupInfoById?id&#34;</span><span style="color:#000;font-weight:bold">+</span>row.id).then((res) =&gt; {  
</span></span><span style="display:flex;"><span>  <span style="color:#998;font-style:italic">//回显数据  
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>  <span style="color:#000;font-weight:bold">if</span>(res.data.flag){  
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">this</span>.formData <span style="color:#000;font-weight:bold">=</span> res.data.data;  
</span></span><span style="display:flex;"><span>  }<span style="color:#000;font-weight:bold">else</span>{  
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">this</span>.$message.error(res.data.message);  
</span></span><span style="display:flex;"><span>  }  
</span></span><span style="display:flex;"><span>  });  
</span></span><span style="display:flex;"><span>  <span style="color:#998;font-style:italic">//异步请求获取所有检查项信息  
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>  axios.get(<span style="color:#d14">&#34;/checkitem/showAllItem&#34;</span>).then((res) =&gt; {  
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">if</span>(res.data.flag){  
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">this</span>.tableData <span style="color:#000;font-weight:bold">=</span> res.data.data;  
</span></span><span style="display:flex;"><span>  <span style="color:#998;font-style:italic">//基于双向绑定给我们的checkitemIds赋值 就可以默认勾选当前检查项的所有默认检查组  
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>  <span style="color:#998;font-style:italic">//必须等到我们的检查项的列表加载完毕才可以进行勾选 所有我们的异步请求需要添加到这个位置  
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>  <span style="color:#998;font-style:italic">// java  List&lt;Integer&gt;  转换成的json就是这个效果 [3,4,576,]  
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>  axios.get(<span style="color:#d14">&#34;/checkitem/getCheckItemIdByGroupId?id=&#34;</span><span style="color:#000;font-weight:bold">+</span>row.id).then((res) =&gt; {  
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">this</span>.checkitemIds <span style="color:#000;font-weight:bold">=</span> res.data;  
</span></span><span style="display:flex;"><span>  });  
</span></span><span style="display:flex;"><span> <span style="color:#a61717;background-color:#e3d2d2">​</span>  
</span></span><span style="display:flex;"><span>  }<span style="color:#000;font-weight:bold">else</span>{  
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">this</span>.$message().error(res.data.messge);  
</span></span><span style="display:flex;"><span>  }  
</span></span><span style="display:flex;"><span>  });  
</span></span><span style="display:flex;"><span> },
</span></span></code></pre></div><h4 id="2后台内容-2">2:后台内容</h4>
<h5 id="1控制器方法-3">(1):控制器方法</h5>
<h6 id="acheckgroupcontroller">a:CheckgroupController</h6>
<p> </p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#998;font-style:italic">//根据检查组的id获取检查组的信息  
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>  <span style="color:#3c5d5d;font-weight:bold">@RequestMapping</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;/findGroupInfoById&#34;</span><span style="color:#000;font-weight:bold">)</span>  
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">public</span> Result <span style="color:#900;font-weight:bold">findGroupInfoById</span><span style="color:#000;font-weight:bold">(</span>Integer id<span style="color:#000;font-weight:bold">){</span>  
</span></span><span style="display:flex;"><span>  Checkgroup checkgroup <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">null</span><span style="color:#000;font-weight:bold">;</span>  
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">try</span> <span style="color:#000;font-weight:bold">{</span>  
</span></span><span style="display:flex;"><span>  checkgroup <span style="color:#000;font-weight:bold">=</span> checkGroupService<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">findGroupInfoById</span><span style="color:#000;font-weight:bold">(</span>id<span style="color:#000;font-weight:bold">);</span>  
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">}</span><span style="color:#000;font-weight:bold">catch</span> <span style="color:#000;font-weight:bold">(</span>Exception e<span style="color:#000;font-weight:bold">){</span>  
</span></span><span style="display:flex;"><span>  e<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">printStackTrace</span><span style="color:#000;font-weight:bold">();</span>  
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">new</span> Result<span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">false</span><span style="color:#000;font-weight:bold">,</span>MessageConstant<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">QUERY_CHECKGROUP_FAIL</span><span style="color:#000;font-weight:bold">);</span>  
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">}</span>  
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">new</span> Result<span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">true</span><span style="color:#000;font-weight:bold">,</span>MessageConstant<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">QUERY_CHECKGROUP_SUCCESS</span><span style="color:#000;font-weight:bold">,</span>checkgroup<span style="color:#000;font-weight:bold">);</span>  
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h6 id="bcheckitemcontroller">b:CheckitemController</h6>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span>  <span style="color:#998;font-style:italic">//根据检查组的id获取检查组包含的检查项的id  
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>  <span style="color:#3c5d5d;font-weight:bold">@RequestMapping</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;/getCheckItemIdByGroupId&#34;</span><span style="color:#000;font-weight:bold">)</span>  
</span></span><span style="display:flex;"><span>  <span style="color:#3c5d5d;font-weight:bold">@ResponseBody</span>  
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">public</span>  List<span style="color:#000;font-weight:bold">&lt;</span>Integer<span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#900;font-weight:bold">getCheckItemIdByGroupId</span><span style="color:#000;font-weight:bold">(</span>Integer id<span style="color:#000;font-weight:bold">){</span>  
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">return</span> checkItemService<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getCheckItemIdByGroupId</span><span style="color:#000;font-weight:bold">(</span>id<span style="color:#000;font-weight:bold">);</span>  
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h5 id="2服务接口方法">(2)服务接口方法</h5>
<h6 id="acheckgroupservice">a:CheckGroupService</h6>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span>Checkgroup  <span style="color:#900;font-weight:bold">findGroupInfoById</span><span style="color:#000;font-weight:bold">(</span>Integer id<span style="color:#000;font-weight:bold">);</span>
</span></span></code></pre></div><h6 id="bcheckitemservice">b:CheckItemService</h6>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span>List<span style="color:#000;font-weight:bold">&lt;</span>Integer<span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#900;font-weight:bold">getCheckItemIdByGroupId</span><span style="color:#000;font-weight:bold">(</span>Integer id<span style="color:#000;font-weight:bold">);</span>
</span></span></code></pre></div><h5 id="3服务接口的实现方法">(3)服务接口的实现方法</h5>
<h6 id="acheckgroupserviceimpl">a:CheckGroupServiceImpl</h6>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span>   <span style="color:#3c5d5d;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> Checkgroup <span style="color:#900;font-weight:bold">findGroupInfoById</span><span style="color:#000;font-weight:bold">(</span>Integer id<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> checkgroupMapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">selectById</span><span style="color:#000;font-weight:bold">(</span>id<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h6 id="bcheckitemsserviceimpl">b:CheckItemsServiceImpl</h6>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> List<span style="color:#000;font-weight:bold">&lt;</span>Integer<span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#900;font-weight:bold">getCheckItemIdByGroupId</span><span style="color:#000;font-weight:bold">(</span>Integer id<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        LambdaQueryWrapper<span style="color:#000;font-weight:bold">&lt;</span>CheckgroupCheckitem<span style="color:#000;font-weight:bold">&gt;</span> lambdaQueryWrapper <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> LambdaQueryWrapper<span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>        lambdaQueryWrapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">eq</span><span style="color:#000;font-weight:bold">(</span>CheckgroupCheckitem<span style="color:#000;font-weight:bold">::</span>getCheckgroupId<span style="color:#000;font-weight:bold">,</span>id<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        lambdaQueryWrapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">select</span><span style="color:#000;font-weight:bold">(</span>CheckgroupCheckitem<span style="color:#000;font-weight:bold">::</span>getCheckitemId<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> checkgroupCheckitemMapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">selectObjs</span><span style="color:#000;font-weight:bold">(</span>lambdaQueryWrapper<span style="color:#000;font-weight:bold">).</span><span style="color:#008080">stream</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">map</span><span style="color:#000;font-weight:bold">(</span>o <span style="color:#000;font-weight:bold">-&gt;</span> <span style="color:#000;font-weight:bold">(</span>Integer<span style="color:#000;font-weight:bold">)</span> o<span style="color:#000;font-weight:bold">).</span><span style="color:#008080">collect</span><span style="color:#000;font-weight:bold">(</span>Collectors<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">toList</span><span style="color:#000;font-weight:bold">());</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h3 id="二提交确认按钮完成检查组修改">(二)提交确认按钮完成检查组修改</h3>
<h4 id="1编写前端提交更新函数">1：编写前端提交更新函数</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#998;font-style:italic">//编辑检查组
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            handleEdit<span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>                axios<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">post</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;/checkgroup/editGroup?checkitemIds=&#34;</span><span style="color:#000;font-weight:bold">+</span><span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">checkitemIds</span><span style="color:#000;font-weight:bold">,</span><span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">formData</span><span style="color:#000;font-weight:bold">).</span><span style="color:#008080">then</span><span style="color:#000;font-weight:bold">((</span>res<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">=&gt;</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">dialogFormVisible4Edit</span> <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">false</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#000;font-weight:bold">if</span><span style="color:#000;font-weight:bold">(</span>res<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">data</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">flag</span><span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>                        <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">$message</span><span style="color:#000;font-weight:bold">({</span>
</span></span><span style="display:flex;"><span>                            message<span style="color:#000;font-weight:bold">:</span> res<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">data</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">message</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>                            type<span style="color:#000;font-weight:bold">:</span> <span style="color:#a61717;background-color:#e3d2d2">&#39;</span>success<span style="color:#a61717;background-color:#e3d2d2">&#39;</span>
</span></span><span style="display:flex;"><span>                        <span style="color:#000;font-weight:bold">});</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#000;font-weight:bold">}</span><span style="color:#000;font-weight:bold">else</span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>                        <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">message</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">error</span><span style="color:#000;font-weight:bold">(</span>res<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">data</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">message</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000;font-weight:bold">}).</span><span style="color:#008080">finally</span><span style="color:#000;font-weight:bold">(()</span> <span style="color:#000;font-weight:bold">=&gt;</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#998;font-style:italic">//从新进行分页查询
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>                    <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">findPage</span><span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000;font-weight:bold">});</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">},</span>
</span></span></code></pre></div><h4 id="2后台内容-3">2：后台内容</h4>
<h5 id="1控制器方法-4">(1)控制器方法</h5>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#998;font-style:italic">//编辑检查项
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#3c5d5d;font-weight:bold">@RequestMapping</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;/editGroup&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> Result <span style="color:#900;font-weight:bold">editGroup</span><span style="color:#000;font-weight:bold">(</span><span style="color:#3c5d5d;font-weight:bold">@RequestBody</span> Checkgroup checkgroup<span style="color:#000;font-weight:bold">,</span>Integer <span style="color:#000;font-weight:bold">[]</span> checkitemIds<span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">try</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>            checkGroupService<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">updateGroup</span><span style="color:#000;font-weight:bold">(</span>checkgroup<span style="color:#000;font-weight:bold">,</span>checkitemIds<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">}</span><span style="color:#000;font-weight:bold">catch</span> <span style="color:#000;font-weight:bold">(</span>Exception e<span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>            e<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">printStackTrace</span><span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">return</span>  <span style="color:#000;font-weight:bold">new</span> Result<span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">false</span><span style="color:#000;font-weight:bold">,</span> MessageConstant<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">EDIT_CHECKGROUP_FAIL</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">new</span> Result<span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">true</span><span style="color:#000;font-weight:bold">,</span>MessageConstant<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">EDIT_CHECKGROUP_SUCCESS</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>(2)服务接口内容</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">updateGroup</span><span style="color:#000;font-weight:bold">(</span>Checkgroup checkgroup<span style="color:#000;font-weight:bold">,</span> Integer<span style="color:#000;font-weight:bold">[]</span> checkitemIds<span style="color:#000;font-weight:bold">);</span>
</span></span></code></pre></div><p>(3)接口的实现类内容</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">updateGroup</span><span style="color:#000;font-weight:bold">(</span>Checkgroup checkgroup<span style="color:#000;font-weight:bold">,</span> Integer<span style="color:#000;font-weight:bold">[]</span> checkitemIds<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>         <span style="color:#998;font-style:italic">//更新检查组数据
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>         checkgroupMapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">updateById</span><span style="color:#000;font-weight:bold">(</span>checkgroup<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>         <span style="color:#998;font-style:italic">//删除检查组和检查项的中间关系表数据
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>         Map<span style="color:#000;font-weight:bold">&lt;</span>String<span style="color:#000;font-weight:bold">,</span>Object<span style="color:#000;font-weight:bold">&gt;</span> map <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> HashMap<span style="color:#000;font-weight:bold">&lt;&gt;();</span>
</span></span><span style="display:flex;"><span>         map<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">put</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;checkgroup_id&#34;</span><span style="color:#000;font-weight:bold">,</span>checkgroup<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getId</span><span style="color:#000;font-weight:bold">());</span>
</span></span><span style="display:flex;"><span>         checkgroupCheckitemMapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">deleteByMap</span><span style="color:#000;font-weight:bold">(</span>map<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>         <span style="color:#998;font-style:italic">//从新添加检查组和检查项的中间表数据
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        <span style="color:#000;font-weight:bold">for</span><span style="color:#000;font-weight:bold">(</span>Integer id<span style="color:#000;font-weight:bold">:</span>checkitemIds<span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>            CheckgroupCheckitem checkgroupCheckitem <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> CheckgroupCheckitem<span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>            checkgroupCheckitem<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setCheckgroupId</span><span style="color:#000;font-weight:bold">(</span>checkgroup<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getId</span><span style="color:#000;font-weight:bold">());</span>
</span></span><span style="display:flex;"><span>            checkgroupCheckitem<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setCheckitemId</span><span style="color:#000;font-weight:bold">(</span>id<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>            checkgroupCheckitemMapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">insert</span><span style="color:#000;font-weight:bold">(</span>checkgroupCheckitem<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h2 id="三删除检查组操作">三、删除检查组操作</h2>
<h3 id="一-前端页面内容编写">(一) 前端页面内容编写</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Js" data-lang="Js"><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">// 删除
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            handleDelete(row) {
</span></span><span style="display:flex;"><span>                <span style="color:#998;font-style:italic">//删除组操作
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>                <span style="color:#000;font-weight:bold">this</span>.$confirm(<span style="color:#d14">&#34;确认删除选中的数据么?&#34;</span>,<span style="color:#d14">&#34;提示&#34;</span>,{type<span style="color:#000;font-weight:bold">:</span><span style="color:#d14">&#34;warning&#34;</span>}).then(() =&gt; {
</span></span><span style="display:flex;"><span>                     <span style="color:#998;font-style:italic">//使用ajax方式完成数据的删除
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>                     axios.get(<span style="color:#d14">&#34;/checkgroup/deleteInfoById?id=&#34;</span><span style="color:#000;font-weight:bold">+</span>row.id).then((res) =&gt; {
</span></span><span style="display:flex;"><span>                          <span style="color:#000;font-weight:bold">if</span>(res.data.flag){
</span></span><span style="display:flex;"><span>                              <span style="color:#000;font-weight:bold">this</span>.$message({
</span></span><span style="display:flex;"><span>                                  message<span style="color:#000;font-weight:bold">:</span> res.data.message,
</span></span><span style="display:flex;"><span>                                  type<span style="color:#000;font-weight:bold">:</span><span style="color:#d14">&#39;success&#39;</span>
</span></span><span style="display:flex;"><span>                              });
</span></span><span style="display:flex;"><span>                          }<span style="color:#000;font-weight:bold">else</span>{
</span></span><span style="display:flex;"><span>                              <span style="color:#000;font-weight:bold">this</span>.$message.error(res.data.message);
</span></span><span style="display:flex;"><span>                          }
</span></span><span style="display:flex;"><span>                     }).<span style="color:#000;font-weight:bold">finally</span>(() =&gt; {
</span></span><span style="display:flex;"><span>                          <span style="color:#000;font-weight:bold">this</span>.findPage();
</span></span><span style="display:flex;"><span>                     })
</span></span><span style="display:flex;"><span>                }).<span style="color:#000;font-weight:bold">catch</span>(() =&gt; {
</span></span><span style="display:flex;"><span>                    <span style="color:#000;font-weight:bold">this</span>.$message({
</span></span><span style="display:flex;"><span>                        message<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;取消了当前删除检查组操作&#39;</span>,
</span></span><span style="display:flex;"><span>                        type<span style="color:#000;font-weight:bold">:</span> <span style="color:#d14">&#39;info&#39;</span>
</span></span><span style="display:flex;"><span>                    });
</span></span><span style="display:flex;"><span>                });
</span></span><span style="display:flex;"><span>            }
</span></span></code></pre></div><h3 id="二-删除检查组的后台内容">(二) 删除检查组的后台内容</h3>
<h4 id="1控制器方法-5">1：控制器方法</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span> <span style="color:#998;font-style:italic">//删除检查组
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#3c5d5d;font-weight:bold">@RequestMapping</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;/deleteInfoById&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> Result <span style="color:#900;font-weight:bold">deleteInfoById</span><span style="color:#000;font-weight:bold">(</span>Integer id<span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>         <span style="color:#000;font-weight:bold">try</span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>             checkGroupService<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">deleteInfoById</span><span style="color:#000;font-weight:bold">(</span>id<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>         <span style="color:#000;font-weight:bold">}</span><span style="color:#000;font-weight:bold">catch</span> <span style="color:#000;font-weight:bold">(</span>Exception e<span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>             e<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">printStackTrace</span><span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>             <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">new</span> Result<span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">false</span><span style="color:#000;font-weight:bold">,</span>MessageConstant<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">DELETE_CHECKGROUP_FAIL</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>         <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>         <span style="color:#000;font-weight:bold">return</span>  <span style="color:#000;font-weight:bold">new</span> Result<span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">true</span><span style="color:#000;font-weight:bold">,</span>MessageConstant<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">DELETE_CHECKGROUP_SUCCESS</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h4 id="2-接口方法">2: 接口方法</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">deleteInfoById</span><span style="color:#000;font-weight:bold">(</span>Integer id<span style="color:#000;font-weight:bold">);</span>
</span></span></code></pre></div><h4 id="3接口的实现方法">3:接口的实现方法</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span> <span style="color:#998;font-style:italic">//删除检查组
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#3c5d5d;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">deleteInfoById</span><span style="color:#000;font-weight:bold">(</span>Integer id<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">//删除中间表数据
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        Map<span style="color:#000;font-weight:bold">&lt;</span>String<span style="color:#000;font-weight:bold">,</span>Object<span style="color:#000;font-weight:bold">&gt;</span> map <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> HashMap<span style="color:#000;font-weight:bold">&lt;&gt;();</span>
</span></span><span style="display:flex;"><span>        map<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">put</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;checkgroup_id&#34;</span><span style="color:#000;font-weight:bold">,</span>id<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        checkgroupCheckitemMapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">deleteByMap</span><span style="color:#000;font-weight:bold">(</span>map<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">//删除检查组
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        checkgroupMapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">deleteById</span><span style="color:#000;font-weight:bold">(</span>id<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h1 id="医疗管家-套餐管理维护">医疗管家-套餐管理维护</h1>
<h2 id="一体检套餐管理">一、体检套餐管理</h2>
<p>套餐其实就是检查组的集合，例如有一个套餐为“老年套餐”，这个体检套餐可以包括多个检查组：心脑血管检查、甲状腺检查、肺部筛查等。所以在添加套餐时需要选择这 个套餐包括的检查组。 套餐对应的实体类为Setmeal，对应的数据表为t_setmeal。套餐和检查组为多对多关 系，所以需要中间表t_setmeal_checkgroup进行关联</p>
<h3 id="一添加套餐功能">(一)添加套餐功能</h3>
<p>添加套餐功能中涉及到两部分，一部分是添加套餐信息还有一部分是添加套餐对应的检查组的信息，所以在点击套餐页面中的新建的时候在弹出一个已经准备好的隐藏框，在弹出的窗口中需要加载出所有的检查组的信息，每个套餐还有对应的配套图片，我们使用element-ui提供的上传组件完成上传功能</p>
<h4 id="1-弹出添加套餐窗口">1： 弹出添加套餐窗口</h4>
<h5 id="1前台页面">(1)前台页面</h5>
<h6 id="a编写新建套餐按钮事件">a:编写新建套餐按钮事件</h6>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#998;font-style:italic">// 弹出添加窗口
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>   handleCreate() {
</span></span><span style="display:flex;"><span>       <span style="color:#998;font-style:italic">//重置表单
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>       <span style="color:#000;font-weight:bold">this</span>.resetForm();
</span></span><span style="display:flex;"><span>       <span style="color:#998;font-style:italic">//显示弹出窗口
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>       <span style="color:#000;font-weight:bold">this</span>.dialogFormVisible <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">true</span>;
</span></span><span style="display:flex;"><span>       axios.get(<span style="color:#d14">&#34;/checkgroup/showAllGroupInfo&#34;</span>).then((res) =&gt; {
</span></span><span style="display:flex;"><span>           <span style="color:#000;font-weight:bold">if</span>(res.data.flag){
</span></span><span style="display:flex;"><span>               <span style="color:#000;font-weight:bold">this</span>.tableData <span style="color:#000;font-weight:bold">=</span> res.data.data;
</span></span><span style="display:flex;"><span>            }<span style="color:#000;font-weight:bold">else</span>{
</span></span><span style="display:flex;"><span>                <span style="color:#000;font-weight:bold">this</span>.$message.erro(res.data.message);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>       });
</span></span><span style="display:flex;"><span>   },
</span></span></code></pre></div><h6 id="b重置表单事件">b:重置表单事件</h6>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span> <span style="color:#998;font-style:italic">// 重置表单
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>   resetForm() {
</span></span><span style="display:flex;"><span>      <span style="color:#998;font-style:italic">//清空表单数据
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>      <span style="color:#000;font-weight:bold">this</span>.formData <span style="color:#000;font-weight:bold">=</span> {};
</span></span><span style="display:flex;"><span>      <span style="color:#998;font-style:italic">//清空选中的检查组
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>      <span style="color:#000;font-weight:bold">this</span>.checkitemIds <span style="color:#000;font-weight:bold">=</span> [];
</span></span><span style="display:flex;"><span>      <span style="color:#998;font-style:italic">//默认选中第一个选项卡
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>      <span style="color:#000;font-weight:bold">this</span>.activeName <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#39;first&#39;</span>;
</span></span><span style="display:flex;"><span>      <span style="color:#998;font-style:italic">//清空图片的预览url
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>      <span style="color:#000;font-weight:bold">this</span>.imageUrl <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">null</span>;
</span></span><span style="display:flex;"><span>   },
</span></span></code></pre></div><h5 id="2后台代码实现">(2)后台代码实现</h5>
<h6 id="a控制器方法">a:控制器方法</h6>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#998;font-style:italic">//展示所有的检查组信息
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#3c5d5d;font-weight:bold">@RequestMapping</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;/showAllGroupInfo&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> Result <span style="color:#900;font-weight:bold">showAllGroupInfo</span><span style="color:#000;font-weight:bold">(){</span>
</span></span><span style="display:flex;"><span>        List<span style="color:#000;font-weight:bold">&lt;</span>Checkgroup<span style="color:#000;font-weight:bold">&gt;</span> list <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">null</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">try</span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>            list <span style="color:#000;font-weight:bold">=</span> checkGroupService<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">showAllGroupInfo</span><span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">}</span><span style="color:#000;font-weight:bold">catch</span> <span style="color:#000;font-weight:bold">(</span>Exception  e<span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>            e<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">printStackTrace</span><span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">new</span> Result<span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">false</span><span style="color:#000;font-weight:bold">,</span>MessageConstant<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">QUERY_CHECKITEM_FAIL</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">new</span> Result<span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">true</span><span style="color:#000;font-weight:bold">,</span>MessageConstant<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">QUERY_CHECKGROUP_SUCCESS</span><span style="color:#000;font-weight:bold">,</span>list<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h6 id="b服务接口">b:服务接口</h6>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span> List<span style="color:#000;font-weight:bold">&lt;</span>Checkgroup<span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#900;font-weight:bold">showAllGroupInfo</span><span style="color:#000;font-weight:bold">();</span>
</span></span></code></pre></div><h6 id="c实现接口提供服务">c:实现接口提供服务</h6>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span> <span style="color:#3c5d5d;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span> <span style="color:#000;font-weight:bold">public</span> List<span style="color:#000;font-weight:bold">&lt;</span>Checkgroup<span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#900;font-weight:bold">showAllGroupInfo</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>     <span style="color:#000;font-weight:bold">return</span> checkgroupMapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">selectList</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">null</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span> <span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h4 id="2处理上传图片功能">2:处理上传图片功能</h4>
<h5 id="1前台页面-1">(1)前台页面</h5>
<h6 id="aelement-ui上传组件">a:element-ui上传组件</h6>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">&lt;</span>el<span style="color:#000;font-weight:bold">-</span>form<span style="color:#000;font-weight:bold">-</span>item label<span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;上传图片&#34;</span><span style="color:#000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">&lt;</span>el<span style="color:#000;font-weight:bold">-</span>upload
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">class</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;avatar-uploader&#34;</span>
</span></span><span style="display:flex;"><span>		action<span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;/setmeal/uploadpic&#34;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">:</span>auto<span style="color:#000;font-weight:bold">-</span>upload<span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;autoUpload&#34;</span>
</span></span><span style="display:flex;"><span>		name<span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;imgFile&#34;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">:</span>show<span style="color:#000;font-weight:bold">-</span>file<span style="color:#000;font-weight:bold">-</span>list<span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;false&#34;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">:</span>on<span style="color:#000;font-weight:bold">-</span>success<span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;handleAvatarSuccess&#34;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">:</span>before<span style="color:#000;font-weight:bold">-</span>upload<span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;beforeAvatarUpload&#34;</span><span style="color:#000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">&lt;</span>img v<span style="color:#000;font-weight:bold">-</span><span style="color:#000;font-weight:bold">if</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;imageUrl&#34;</span> <span style="color:#000;font-weight:bold">:</span>src<span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;imageUrl&#34;</span> <span style="color:#000;font-weight:bold">class</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;avatar&#34;</span><span style="color:#000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">&lt;</span>i v<span style="color:#000;font-weight:bold">-</span><span style="color:#000;font-weight:bold">else</span> <span style="color:#000;font-weight:bold">class</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;el-icon-plus avatar-uploader-icon&#34;</span><span style="color:#000;font-weight:bold">&gt;&lt;</span><span style="color:#a61717;background-color:#e3d2d2">/i&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">&lt;</span><span style="color:#a61717;background-color:#e3d2d2">/el-upload&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">&lt;</span><span style="color:#a61717;background-color:#e3d2d2">/el-form-item&gt;</span>
</span></span></code></pre></div><p>当前页面使用elementui的上传组件
action: 上传文件的地址
auto-upload: 自动上传
name：上传文件的名称
on-success: 上传成功后的回调函数
before-upload: 上传之前回调的函数</p>
<h6 id="b编辑上传组件的js函数">b:编辑上传组件的js函数</h6>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#998;font-style:italic">//上传图片之前执行 规范了上传图片的类型和上传图片的大小
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>beforeAvatarUpload<span style="color:#000;font-weight:bold">(</span>file<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">const</span> isJPG <span style="color:#000;font-weight:bold">=</span> file<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">type</span> <span style="color:#000;font-weight:bold">===</span> <span style="color:#a61717;background-color:#e3d2d2">&#39;</span>image<span style="color:#000;font-weight:bold">/</span>jpeg<span style="color:#a61717;background-color:#e3d2d2">&#39;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">const</span> isLt2M <span style="color:#000;font-weight:bold">=</span> file<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">size</span> <span style="color:#000;font-weight:bold">/</span> 1024 <span style="color:#000;font-weight:bold">/</span> 1024 <span style="color:#000;font-weight:bold">&lt;</span> 2<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(!</span>isJPG<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>		    <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">$message</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">error</span><span style="color:#000;font-weight:bold">(</span><span style="color:#a61717;background-color:#e3d2d2">&#39;</span>上传套餐图片只能是 JPG 格式<span style="color:#000;font-weight:bold">!</span><span style="color:#a61717;background-color:#e3d2d2">&#39;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(!</span>isLt2M<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>		    <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">$message</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">error</span><span style="color:#000;font-weight:bold">(</span><span style="color:#a61717;background-color:#e3d2d2">&#39;</span>上传套餐图片大小不能超过 2MB<span style="color:#000;font-weight:bold">!</span><span style="color:#a61717;background-color:#e3d2d2">&#39;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">return</span> isJPG <span style="color:#000;font-weight:bold">&amp;&amp;</span> isLt2M<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">//文件上传成功后的钩子，response为服务端返回的值，file为当前上传的文件封装成的js对象
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>handleAvatarSuccess<span style="color:#000;font-weight:bold">(</span>response<span style="color:#000;font-weight:bold">,</span> file<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">imageUrl</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;http://localhost:9003/setmealpic/&#34;</span><span style="color:#000;font-weight:bold">+</span>response<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">data</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//设置模型数据（图片名称），后续提交ajax请求时会提交到后台最终保存到数据库
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">formData</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">img</span> <span style="color:#000;font-weight:bold">=</span> response<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">data</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">},</span>
</span></span></code></pre></div><h5 id="2后台功能实现代码">(2)后台功能实现代码</h5>
<h6 id="a控制方法">a:控制方法</h6>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#998;font-style:italic">//上传图片方法
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#3c5d5d;font-weight:bold">@RequestMapping</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;/uploadpic&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> Result <span style="color:#900;font-weight:bold">uploadpic</span><span style="color:#000;font-weight:bold">(</span><span style="color:#3c5d5d;font-weight:bold">@RequestParam</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;imgFile&#34;</span><span style="color:#000;font-weight:bold">)</span> MultipartFile multipartFile<span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>        String originalFilename <span style="color:#000;font-weight:bold">=</span> multipartFile<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getOriginalFilename</span><span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>        <span style="color:#458;font-weight:bold">int</span> lastIndexOf <span style="color:#000;font-weight:bold">=</span> originalFilename<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">lastIndexOf</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;.&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">//获取文件后缀
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        String suffix <span style="color:#000;font-weight:bold">=</span> originalFilename<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">substring</span><span style="color:#000;font-weight:bold">(</span>lastIndexOf <span style="color:#000;font-weight:bold">-</span> 1<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        String fileName  <span style="color:#000;font-weight:bold">=</span> UUID<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">randomUUID</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">toString</span><span style="color:#000;font-weight:bold">()+</span>suffix<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>        File file <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> File<span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;D:/upload/&#34;</span><span style="color:#000;font-weight:bold">+</span>fileName<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">try</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>            multipartFile<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">transferTo</span><span style="color:#000;font-weight:bold">(</span>file<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">new</span> Result<span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">false</span><span style="color:#000;font-weight:bold">,</span> MessageConstant<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">PIC_UPLOAD_FAIL</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">}</span> <span style="color:#000;font-weight:bold">catch</span> <span style="color:#000;font-weight:bold">(</span>Exception e<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>            e<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">printStackTrace</span><span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">new</span> Result<span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">true</span><span style="color:#000;font-weight:bold">,</span>MessageConstant<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">PIC_UPLOAD_SUCCESS</span><span style="color:#000;font-weight:bold">,</span>fileName<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h6 id="b设置虚拟路径完成图片的存储和访问">b：设置虚拟路径完成图片的存储和访问</h6>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@Configuration</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">class</span> <span style="color:#458;font-weight:bold">MyConfiguration</span> <span style="color:#000;font-weight:bold">extends</span> WebMvcConfigurerAdapter <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#3c5d5d;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">addResourceHandlers</span><span style="color:#000;font-weight:bold">(</span>ResourceHandlerRegistry registry<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        registry<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">addResourceHandler</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;/setmealpic/**&#34;</span><span style="color:#000;font-weight:bold">).</span><span style="color:#008080">addResourceLocations</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;file:D:/upload/&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h4 id="heading"></h4>

    </div>

    

    


    <div class="container-prevnext">
    <div><a href="https://lovemjh.vercel.app/posts/project/20220522222541/">← 小课堂</a></div>
    <div><a href="https://lovemjh.vercel.app/posts/blog/20220430231253/">hexo博客git版本制控制  →</a></div>
</div>
</div>

        </div>
        <div id="footer"><div class="container-footer">
    
    <a href="//beian.miit.gov.cn" target="_blank">
        
        豫ICP备2022002918号
        
    </a>
    <a id="s" href="/secrets">&nbsp;</a>
</div></div>
    </body>
</html>
