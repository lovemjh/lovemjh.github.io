<!DOCTYPE html>
<html lang="zh-CN"><head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <meta name="description" content="è§„æ ¼ç®¡ç†ã€æ¨¡æ¿ç®¡ç†ã€åˆ†ç±»ç®¡ç†ä»¥åŠå•†å“å‘å¸ƒ - https://lovemjh.github.io/posts/project-0/20220527221560/">
    
    <meta name="msvalidate.01" content="B46311949B856F2A7015F366FB3CE878" />
    <title>è§„æ ¼ç®¡ç†ã€æ¨¡æ¿ç®¡ç†ã€åˆ†ç±»ç®¡ç†ä»¥åŠå•†å“å‘å¸ƒ</title>
    <link rel="icon" type="image/png" href="/favicon.ico">
    
    <link rel="stylesheet" href="https://lovemjh.github.io/style.min.824365c118b34524ce845ac2a294220354719cca11af5b27a81b04c173bbba57.css">
    
    <script type="text/javascript" src="/main.js" defer></script>
    
</head>
<body class="active-animate cool">
        <div id="header"><div class="container-header">
    <div id="vars" class="container-vars" style="display: none;">
	{
		"hasFoldAllCodeBlocks": false,
		"svgColor": "#6c757d",
		"en": false,
		"dark": false
	}
</div>
    <h1 class="title">
        
            è§„æ ¼ç®¡ç†ã€æ¨¡æ¿ç®¡ç†ã€åˆ†ç±»ç®¡ç†ä»¥åŠå•†å“å‘å¸ƒ
            
        
    </h1>

    <div class="container-breadcrumb-nav">
    
    <div class="breadcrumb-nav-bar">
        <div><a href="/"><svg t="1656411084410" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2954" width="16" height="16"><path d="M947.5 390.6l-377-290c-34.5-26.5-82.6-26.5-117.1 0l-377 290c-14 10.8-16.6 30.9-5.9 44.9 10.8 14 30.9 16.6 44.9 5.9l28.5-21.9V768c0 88.2 71.8 160 160 160h80c35.3 0 64-28.7 64-64V640c0-17.6 14.4-32 32-32h64c17.6 0 32 14.4 32 32v224c0 35.3 28.7 64 64 64h80c88.2 0 160-71.8 160-160V419.4l28.5 21.9c5.8 4.5 12.7 6.6 19.5 6.6 9.6 0 19.1-4.3 25.4-12.5 10.8-13.9 8.2-34-5.8-44.8zM816 768c0 52.9-43.1 96-96 96h-80V640c0-52.9-43.1-96-96-96h-64c-52.9 0-96 43.1-96 96v224h-80c-52.9 0-96-43.1-96-96V370.2l284.5-218.8c11.5-8.8 27.5-8.8 39 0L816 370.2V768z" fill=#6c757d p-id="2955"></path></svg></a></div>
        <div><a href="/nav"><svg t="1656411531924" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5827" width="16" height="16"><path d="M849.59197473 125.23018519L139.22930586 391.72854662a23.35052669 23.35052669 0 0 0-14.95414244 21.65490745c-0.12257519 9.70384955 5.61801843 18.46795771 14.40255493 22.04306141l318.42928099 129.25528056 119.51057092 320.39047893c3.06437293 8.23295069 10.35758221 13.89182751 18.7335381 14.87242563l2.7170774 0.14300521a22.79893918 22.79893918 0 0 0 21.20546682-15.36272638l259.51158924-729.54564933a23.8612558 23.8612558 0 0 0-5.31158128-24.55584682 22.3290685 22.3290685 0 0 0-23.9021142-5.43415649zM793.65694081 211.64552314l-196.63064161 552.75171747-91.91077952-246.37564122-253.62799211-102.96295445 542.16941324-203.4131218z" p-id="5828" fill=#6c757d></path></svg></a></div>
        <div><a href="/search"><svg t="1656411627509" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1730" width="14" height="14"><path d="M469.333333 85.333333c211.968 0 384 172.032 384 384s-172.032 384-384 384-384-172.032-384-384 172.032-384 384-384z m0 682.666667c164.992 0 298.666667-133.674667 298.666667-298.666667 0-165.034667-133.674667-298.666667-298.666667-298.666666-165.034667 0-298.666667 133.632-298.666666 298.666666 0 164.992 133.632 298.666667 298.666666 298.666667z m362.026667 3.029333l120.704 120.661334-60.373333 60.373333-120.661334-120.704 60.330667-60.330667z" p-id="1731" fill=#6c757d></path></svg></a></div>
        <div><a href="/posts"><svg t="1656411724198" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5655" width="12" height="12"><path d="M811.705761 1024H212.294239c-93.1199 0-174.823046-87.570975-174.823046-187.387854V162.322018C37.471193 69.776145 112.604921 0 212.294239 0H596.190595l7.015883 5.93161c111.74388 95.479788 185.857116 170.741078 279.614824 266.093304 29.65805 30.040735 61.165743 62.122454 96.436499 97.393211l7.271006 7.334787v459.859234c-0.063781 99.816879-81.703145 187.387854-174.823046 187.387854zM212.294239 49.94033c-72.391155 0-124.882716 47.261538-124.882716 112.381688v674.290128c0 71.94469 59.507443 137.383743 124.882716 137.383743h599.411522c65.311492 0 124.882716-65.439053 124.882716-137.383743V397.417876c-32.528184-32.464404-61.73977-62.250016-89.356836-90.377328-90.951355-92.418312-163.278729-165.957521-269.601245-257.163999H212.294239z" fill=#6c757d p-id="5656"></path><path d="M936.588477 449.526752h-212.326129c-99.753099 0-187.324073-81.703145-187.324073-174.823046V49.94033a25.002055 25.002055 0 0 1 49.94033 0v224.763376c0 65.311492 65.502834 124.882716 137.383743 124.882716h212.326129a25.002055 25.002055 0 1 1 0 49.94033z" fill=#6c757d p-id="5657"></path></svg></a></div>
        <div><a href="/archive"><svg t="1656411795742" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7334" width="12" height="12"><path d="M884.224 522.24H504.32V141.824c0-16.896-13.824-30.72-30.72-30.72-120.32 0-233.472 47.616-317.952 134.144S26.112 445.952 29.184 566.784c2.56 114.688 49.152 222.72 131.072 304.128 81.92 81.408 189.952 128 304.64 130.56h10.24c117.76 0 227.84-45.568 312.32-128.512 86.528-85.504 133.632-199.68 132.608-321.024-0.512-2.048-1.536-29.696-35.84-29.696z m-140.288 307.712c-74.752 73.728-173.056 112.64-277.504 110.592-205.824-4.608-370.688-169.472-375.296-374.784-3.072-104.448 35.84-202.752 108.544-277.504 65.536-67.072 151.552-107.52 243.712-114.688v378.88c0 16.896 13.824 30.72 30.72 30.72 129.024 0 311.296 0 382.976 0.512-6.144 93.184-46.08 179.712-113.152 246.272z" fill=#6c757d p-id="7335"></path><path d="M603.136 11.264c-8.192-0.512-15.872 3.072-22.016 8.704-5.632 5.632-9.216 13.824-9.216 22.016v378.88c0 16.896 13.824 30.72 30.72 30.72h378.88c16.896 0 30.72-13.824 30.72-30.72 0-223.744-183.808-407.552-409.088-409.6z m30.208 378.88V74.24c167.424 16.384 301.056 150.016 315.904 315.904h-315.904z" fill=#6c757d p-id="7336"></path></svg></a></div>
        <div id="light-dark" style="cursor: pointer;"><a><svg t="1656411842215" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5086" width="12" height="12"><path d="M1007.492874 384.513055c-8.795694-34.58307-21.189627-67.666874-36.682043-99.05151-2.698679-5.397358-10.894667-3.498287-10.894666 2.598728v0.299853c0 32.484098-6.896624 63.868734-19.890263 92.554691-10.694764 23.488501-25.487523 45.077933-43.978471 64.068635-41.779547 42.679107-99.05151 66.967217-158.722299 67.26707-61.869712 0.299853-119.941284-24.188159-162.920244-68.966238-40.280281-41.979449-62.56937-98.251902-62.269516-156.323473 0.399804-59.270984 23.588452-114.94373 65.567901-156.823229 19.59041-19.59041 42.179351-35.082826 66.667364-46.077443C672.956643 71.166451 704.041426 64.469729 736.125719 64.469729h1.299364c6.097015 0 8.096037-8.096037 2.598728-10.794715C708.739126 37.982696 675.655322 25.488812 641.172203 16.493216 599.492607 5.598549 555.714038-0.098662 510.536154 0.001289 222.37722 0.700947-7.41029 237.38508 0.185992 525.444064c7.096526 271.667008 225.889418 490.559851 497.456474 497.856279 287.559228 7.796183 524.14341-220.891864 525.842579-508.551044 0.299853-44.977981-5.297407-88.656599-15.992171-130.236244z m-83.15929 301.552378c-22.588942 53.27392-54.873137 101.250434-95.953027 142.330323-41.179841 41.179841-89.056403 73.464036-142.330324 95.953027-55.172991 23.288599-113.744317 35.182777-174.314666 35.182777s-119.141675-11.794226-174.314666-35.182777c-53.27392-22.588942-101.250434-54.873137-142.330323-95.953027-41.179841-41.179841-73.464036-89.056403-95.953027-142.330323C75.749001 630.892442 63.954774 572.221164 63.954774 511.750767s11.794226-119.141675 35.182777-174.314666c22.588942-53.27392 54.873137-101.250434 95.953027-142.330323 41.179841-41.179841 89.056403-73.464036 142.330323-95.953027C392.593892 75.7642 451.26517 63.969974 511.735567 63.969974c13.99315 0 27.886348 0.599706 41.679596 1.89907C489.246577 118.643209 448.266638 198.704016 448.266638 288.360126c0 159.022152 128.836929 287.859081 287.859081 287.859081 89.156354 0 168.817357-40.580134 221.691473-104.149015 1.099462 13.09359 1.699168 26.387082 1.699168 39.680575 0 60.470397-11.794226 119.141675-35.182776 174.314666z" p-id="5087" fill=#6c757d></path></svg></a></div>
        
    </div>

    
</div>

            <div id="toc">ğŸ“œ</div>
        
    
    
</div>
</div>
        <div id="content">












<div class="container-main 
     container-page 
">

    <div class="desc">
        
        <span>
            
            <svg t="1656736000388" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7409" width="12" height="12"><path d="M524.885333 338.986667L200.362667 663.466667c-17.28 15.274667-27.989333 36.693333-29.696 56.234666v133.76l130.730666 0.085334c22.784-1.621333 43.989333-12.245333 61.013334-31.701334l322.688-322.645333-160.213334-160.213333z m60.373334-60.330667l160.170666 160.213333 102.144-102.144a19.712 19.712 0 0 0 0-27.861333L715.093333 176.426667a19.456 19.456 0 0 0-27.605333 0L585.258667 278.613333zM701.312 85.333333c27.946667 0 54.741333 11.136 74.282667 30.848l132.309333 132.309334a105.045333 105.045333 0 0 1 0 148.565333L424.874667 879.957333c-29.824 34.346667-72.106667 55.466667-120.448 58.794667H85.333333v-42.666667l0.128-179.84c3.626667-44.970667 24.576-86.826667 56.448-114.944l485.12-485.034666A104.789333 104.789333 0 0 1 701.269333 85.333333z" p-id="7410" fill="#adb5bd"></path></svg>
            2022-05-27&nbsp;
        </span>
        <span>
            
            <svg t="1656737270708" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="23838" width="11" height="11"><path d="M824.264 95.36c0-23.859 25.043-44.16 48.902-44.16s49.714 20.301 49.714 44.16v190.08c0 23.859-19.054 52.868-42.913 52.868h-190.08c-23.859 0-46.696-25.96-46.696-49.819s22.55-46.249 46.409-46.249h82.025C702.344 175.534 610.22 155.853 512 155.853c-206.775 0-360.398 149.372-360.398 356.147 0 206.775 153.623 358.23 360.398 358.23 206.775 0 357.467-151.455 357.467-358.23 0-23.859 23.634-50.706 53.413-50.706 29.78 0 49.92 26.847 49.92 50.706 0 254.493-206.307 460.8-460.8 460.8-254.493 0-460.8-206.307-460.8-460.8C51.2 257.507 257.507 51.2 512 51.2c122.4 0 226.684 33.296 312.264 117.369 0.358 0.351 0.358-24.052 0-73.209z" p-id="23839" fill="#adb5bd"></path></svg>
            2022-05-27&nbsp;&nbsp;&nbsp;
        </span>
        <span>
            
            <svg t="1656737548689" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="33866" width="12" height="12"><path d="M832.038608 64.662657H192.030028C121.255125 64.662657 63.940169 121.98845 63.940169 192.694717v446.793671C63.940169 710.205493 121.255125 767.643272 192.030028 767.643272h133.353183a63.940169 63.940169 0 0 1 55.219742 31.576328l76.099638 129.83828c12.358154 21.093031 33.790754 31.626903 55.216129 31.626903s42.832688-10.544709 55.198067-31.619678l76.222461-129.870792a63.940169 63.940169 0 0 1 55.212517-31.551041h133.54103c70.576219 0 127.732228-57.289669 127.732227-127.800865V192.391272C959.825022 121.85479 902.643727 64.662657 832.038608 64.662657zM895.884854 639.842407A63.85347 63.85347 0 0 1 832.092795 703.703103h-133.54103a127.753903 127.753903 0 0 0-110.349172 63.09847l-76.222461 129.856342a0.274545 0.274545 0 0 1 0-0.050574h-0.032512s-0.021675 0.061411-0.032512 0.061412l-76.1466-129.85273A127.804477 127.804477 0 0 0 325.383211 703.703103H192.030028A64.207489 64.207489 0 0 1 127.880338 639.488388V192.694717A64.102729 64.102729 0 0 1 192.030028 128.602826h640.00858A63.799284 63.799284 0 0 1 895.884854 192.391272v447.451135z" fill="#adb5bd" p-id="33867"></path><path d="M608.154093 288.092004A31.970084 31.970084 0 0 0 576.184009 320.062089v160.078006l-134.650049-179.278119A31.970084 31.970084 0 0 0 384.002258 320.062089v255.760676a31.970084 31.970084 0 0 0 63.940169 0v-159.958796l134.650048 179.274507a31.970084 31.970084 0 0 0 57.531703-19.200113V320.062089a31.970084 31.970084 0 0 0-31.970085-31.970085z" fill="#adb5bd" p-id="33868"></path></svg>
            16847 å­—</span>&nbsp;
        <span>
            
            <svg t="1656737462334" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="32892" width="12" height="12"><path d="M512 74.666667C270.933333 74.666667 74.666667 270.933333 74.666667 512S270.933333 949.333333 512 949.333333 949.333333 753.066667 949.333333 512 753.066667 74.666667 512 74.666667z m0 810.666666c-204.8 0-373.333333-168.533333-373.333333-373.333333S307.2 138.666667 512 138.666667 885.333333 307.2 885.333333 512 716.8 885.333333 512 885.333333z" p-id="32893" fill="#adb5bd"></path><path d="M695.466667 567.466667l-151.466667-70.4V277.333333c0-17.066667-14.933333-32-32-32s-32 14.933333-32 32v238.933334c0 12.8 6.4 23.466667 19.2 29.866666l170.666667 81.066667c4.266667 2.133333 8.533333 2.133333 12.8 2.133333 12.8 0 23.466667-6.4 29.866666-19.2 6.4-14.933333 0-34.133333-17.066666-42.666666z" p-id="32894" fill="#adb5bd"></path></svg>
            34 åˆ†é’Ÿ</span><div class="container-ctgtag">
	<div class="taxonomy">
		
		<div class="ctg">
			
			
			<a href="/categories/"></a>
			
		</div>
		<div class="tag">
			
			 - 
			
			<a href="/tags/"></a>
			
		</div>
	</div>
</div>
    </div>
    
    <div class="toc">
        
        <div class="page-operation">
            <div><a href="#"><img src="/imgs/icons/arrow-up-circle.svg" alt=""></a></div>
            <div><a href="https://lovemjh.github.io/posts/project-0/20220527233134/"><img src="/imgs/icons/arrow-left-circle.svg" alt=""></a></div>
            <div><a href="https://lovemjh.github.io/posts/tool/20220526204447/"><img src="/imgs/icons/arrow-right-circle.svg" alt=""></a></div>
        </div>
        
        <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#å­¦ä¹ ç›®æ ‡">å­¦ä¹ ç›®æ ‡</a></li>
      </ul>
    </li>
    <li><a href="#ä¸€-ä»£ç ç”Ÿæˆå™¨">ä¸€ ä»£ç ç”Ÿæˆå™¨</a>
      <ul>
        <li>
          <ul>
            <li><a href="#1-ä»£ç ç”Ÿæˆ">1 ä»£ç ç”Ÿæˆ</a></li>
            <li><a href="#2-ä»£ç æ‹·è´">2 ä»£ç æ‹·è´</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#äºŒ-swagger2çš„ä½¿ç”¨">äºŒ Swagger2çš„ä½¿ç”¨</a>
      <ul>
        <li>
          <ul>
            <li><a href="#1-é…ç½®swaggeræ–‡æ¡£">1 é…ç½®Swaggeræ–‡æ¡£</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#ä¸‰-è§„æ ¼ç®¡ç†">ä¸‰ è§„æ ¼ç®¡ç†</a>
      <ul>
        <li><a href="#1-éœ€æ±‚åˆ†æ">1 éœ€æ±‚åˆ†æ</a></li>
        <li><a href="#2-è¡¨ç»“æ„åˆ†æ">2 è¡¨ç»“æ„åˆ†æ</a></li>
        <li><a href="#3-ä»£ç å®ç°">3 ä»£ç å®ç°</a>
          <ul>
            <li><a href="#31--æ–°å¢è§„æ ¼">3.1  æ–°å¢è§„æ ¼</a></li>
            <li><a href="#32-æ ¹æ®idæŸ¥è¯¢è§„æ ¼">3.2 æ ¹æ®IDæŸ¥è¯¢è§„æ ¼</a></li>
            <li><a href="#33-ä¿®æ”¹è§„æ ¼">3.3 ä¿®æ”¹è§„æ ¼</a></li>
            <li><a href="#34-åˆ é™¤è§„æ ¼">3.4 åˆ é™¤è§„æ ¼</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#å››-æ¨¡æ¿ç®¡ç†">å›› æ¨¡æ¿ç®¡ç†</a>
      <ul>
        <li><a href="#1-éœ€æ±‚åˆ†æ-1">**1 **éœ€æ±‚åˆ†æ</a></li>
        <li><a href="#2-è¡¨ç»“æ„åˆ†æ-1">2 <strong>è¡¨ç»“æ„åˆ†æ</strong></a></li>
        <li><a href="#3å“ç‰Œä¸‹æ‹‰åˆ—è¡¨">3.å“ç‰Œä¸‹æ‹‰åˆ—è¡¨</a>
          <ul>
            <li>
              <ul>
                <li><a href="#31-å“ç‰Œä¸‹æ‹‰åˆ—è¡¨ä»£ç å®ç°">3.1 å“ç‰Œä¸‹æ‹‰åˆ—è¡¨ä»£ç å®ç°</a></li>
                <li><a href="#32-è§„æ ¼ä¸‹æ‹‰åˆ—è¡¨ä»£ç å®ç°">3.2 è§„æ ¼ä¸‹æ‹‰åˆ—è¡¨ä»£ç å®ç°</a></li>
              </ul>
            </li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#äº”-å•†å“åˆ†ç±»">äº” å•†å“åˆ†ç±»</a>
      <ul>
        <li><a href="#1-éœ€æ±‚åˆ†æ-2">1 éœ€æ±‚åˆ†æ</a></li>
        <li><a href="#2-è¡¨ç»“æ„åˆ†æ-2">2 è¡¨ç»“æ„åˆ†æ</a></li>
        <li><a href="#3-æŸ¥è¯¢ä¸‹çº§ä»£ç å®ç°">3 æŸ¥è¯¢ä¸‹çº§ä»£ç å®ç°</a></li>
        <li><a href="#4-æ–°å¢å•†å“åˆ†ç±»å­¦å‘˜å®ç°">4 æ–°å¢å•†å“åˆ†ç±»ï¼ˆå­¦å‘˜å®ç°ï¼‰</a>
          <ul>
            <li>
              <ul>
                <li><a href="#41æ–°å¢å•†å“åˆ†ç±»--å®ç°æ¨¡æ¿ä¸‹æ‹‰åˆ—è¡¨å­¦å‘˜å®ç°">4.1æ–°å¢å•†å“åˆ†ç±»&ndash;å®ç°æ¨¡æ¿ä¸‹æ‹‰åˆ—è¡¨ï¼ˆå­¦å‘˜å®ç°ï¼‰</a></li>
              </ul>
            </li>
          </ul>
        </li>
        <li><a href="#5-ä¿®æ”¹å•†å“åˆ†ç±»å­¦å‘˜å®ç°">5 ä¿®æ”¹å•†å“åˆ†ç±»ï¼ˆå­¦å‘˜å®ç°ï¼‰</a></li>
        <li><a href="#6-åˆ é™¤å•†å“åˆ†ç±»å­¦å‘˜å®ç°">6 åˆ é™¤å•†å“åˆ†ç±»ï¼ˆå­¦å‘˜å®ç°ï¼‰</a></li>
      </ul>
    </li>
    <li><a href="#å…­-ç”µå•†æ¦‚å¿µåŠè¡¨ç»“æ„åˆ†æ">å…­ ç”µå•†æ¦‚å¿µåŠè¡¨ç»“æ„åˆ†æ</a>
      <ul>
        <li><a href="#1-spuä¸skuæ¦‚å¿µ">1. SPUä¸SKUæ¦‚å¿µ</a></li>
        <li><a href="#2-è¡¨ç»“æ„åˆ†æ-3">2 è¡¨ç»“æ„åˆ†æ</a></li>
      </ul>
    </li>
    <li><a href="#ä¸ƒ--æ–°å¢å’Œä¿®æ”¹å•†å“">ä¸ƒ  æ–°å¢å’Œä¿®æ”¹å•†å“</a>
      <ul>
        <li><a href="#1-éœ€æ±‚åˆ†æ-3">1 éœ€æ±‚åˆ†æ</a></li>
        <li><a href="#2-å®ç°æ€è·¯">2 å®ç°æ€è·¯</a></li>
        <li><a href="#3-æŸ¥è¯¢åˆ†ç±»çº§è”æ•°æ®">3 æŸ¥è¯¢åˆ†ç±»çº§è”æ•°æ®</a>
          <ul>
            <li><a href="#31-éœ€æ±‚åˆ†æ">3.1 éœ€æ±‚åˆ†æ</a></li>
            <li><a href="#32-ä»£ç å®ç°">3.2 ä»£ç å®ç°</a></li>
          </ul>
        </li>
        <li><a href="#4-æŸ¥è¯¢åˆ†ç±»ä¸‹å“ç‰Œæ•°æ®">4 æŸ¥è¯¢åˆ†ç±»ä¸‹å“ç‰Œæ•°æ®</a>
          <ul>
            <li><a href="#41-åˆ†æ">4.1 åˆ†æ</a></li>
            <li><a href="#42-ä»£ç å®ç°">4.2 ä»£ç å®ç°</a></li>
          </ul>
        </li>
        <li><a href="#5-è§„æ ¼æŸ¥è¯¢">5 è§„æ ¼æŸ¥è¯¢</a>
          <ul>
            <li><a href="#51-åˆ†æ">5.1 åˆ†æ</a></li>
            <li><a href="#52-ä»£ç å®ç°">5.2 ä»£ç å®ç°</a></li>
          </ul>
        </li>
        <li><a href="#6-spuskuä¿å­˜">6 SPU+SKUä¿å­˜</a>
          <ul>
            <li><a href="#61-åˆ†æ">6.1 åˆ†æ</a></li>
            <li><a href="#62-ä»£ç å®ç°">6.2 ä»£ç å®ç°</a></li>
          </ul>
        </li>
        <li><a href="#7-æ ¹æ®idæŸ¥è¯¢å•†å“">7 æ ¹æ®IDæŸ¥è¯¢å•†å“</a>
          <ul>
            <li><a href="#71-éœ€æ±‚åˆ†æ">7.1 éœ€æ±‚åˆ†æ</a></li>
            <li><a href="#72-ä»£ç å®ç°">7.2 ä»£ç å®ç°</a></li>
          </ul>
        </li>
        <li><a href="#8-ä¿å­˜ä¿®æ”¹">8 ä¿å­˜ä¿®æ”¹</a></li>
      </ul>
    </li>
    <li><a href="#å…«-å•†å“å®¡æ ¸ä¸ä¸Šä¸‹æ¶å­¦å‘˜å®ç°">å…« å•†å“å®¡æ ¸ä¸ä¸Šä¸‹æ¶ï¼ˆå­¦å‘˜å®ç°ï¼‰</a>
      <ul>
        <li><a href="#1-éœ€æ±‚åˆ†æ-4">1 éœ€æ±‚åˆ†æ</a></li>
        <li><a href="#2-å®ç°æ€è·¯-1">2 å®ç°æ€è·¯</a></li>
        <li><a href="#3-ä»£ç å®ç°-1">3 ä»£ç å®ç°</a>
          <ul>
            <li><a href="#31-å•†å“å®¡æ ¸">3.1 å•†å“å®¡æ ¸</a></li>
            <li><a href="#32-ä¸‹æ¶å•†å“">3.2 ä¸‹æ¶å•†å“</a></li>
            <li><a href="#33-ä¸Šæ¶å•†å“">3.3 ä¸Šæ¶å•†å“</a></li>
            <li><a href="#34-æ‰¹é‡ä¸Šæ¶">3.4 æ‰¹é‡ä¸Šæ¶</a></li>
            <li><a href="#35-æ‰¹é‡ä¸‹æ¶">3.5 æ‰¹é‡ä¸‹æ¶</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#ä¹-åˆ é™¤ä¸è¿˜åŸå•†å“">ä¹ åˆ é™¤ä¸è¿˜åŸå•†å“</a>
      <ul>
        <li><a href="#1-éœ€æ±‚åˆ†æ-5">1 éœ€æ±‚åˆ†æ</a></li>
        <li><a href="#2-å®ç°æ€è·¯-2">2 å®ç°æ€è·¯</a></li>
        <li><a href="#3-ä»£ç å®ç°-2">3 ä»£ç å®ç°</a>
          <ul>
            <li><a href="#31-é€»è¾‘åˆ é™¤å•†å“">3.1 é€»è¾‘åˆ é™¤å•†å“</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#å-æ³¨è§£å¼äº‹åŠ¡é…ç½®">å æ³¨è§£å¼äº‹åŠ¡é…ç½®</a>
      <ul>
        <li><a href="#1-äº‹åŠ¡å¼‚å¸¸æµ‹è¯•">1 äº‹åŠ¡å¼‚å¸¸æµ‹è¯•</a></li>
        <li><a href="#2-æ³¨è§£å¼äº‹åŠ¡è§£å†³æ–¹æ¡ˆ">2 æ³¨è§£å¼äº‹åŠ¡è§£å†³æ–¹æ¡ˆ</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>

    <div class='content  content '>
        <h1 align = "center">ç¬¬å››ç« </h1>
<h1 align = "center">è§„æ ¼ç®¡ç†ã€æ¨¡æ¿ç®¡ç†ã€åˆ†ç±»ç®¡ç†ä»¥åŠå•†å“å‘å¸ƒ</h1>
<h3 align="center">ä¼˜å°±ä¸š.JAVAæ•™ç ”å®¤</h3>
<h2 id="å­¦ä¹ ç›®æ ‡">å­¦ä¹ ç›®æ ‡</h2>
<p>ç›®æ ‡ä¸€ï¼šè§„æ ¼ç®¡ç†</p>
<p>ç›®æ ‡äºŒï¼šæ¨¡æ¿ç®¡ç†</p>
<p>ç›®æ ‡ä¸‰ï¼šå•†å“åˆ†ç±»ç®¡ç†</p>
<p>ç›®æ ‡å››ï¼šäº†è§£ç”µå•†æ¦‚å¿µSPU å’ŒSKU</p>
<p>ç›®æ ‡äº”ï¼šæ–°å¢å•†å“ã€ä¿®æ”¹å•†å“</p>
<p>ç›®æ ‡å…­ï¼šåˆ é™¤å•†å“</p>
<p>ç›®æ ‡ä¸ƒï¼šå®¡æ ¸å•†å“</p>
<p>ç›®æ ‡å…«ï¼šæ³¨è§£å¼äº‹åŠ¡</p>
<h1 id="ä¸€-ä»£ç ç”Ÿæˆå™¨">ä¸€ ä»£ç ç”Ÿæˆå™¨</h1>
<h3 id="1-ä»£ç ç”Ÿæˆ">1 ä»£ç ç”Ÿæˆ</h3>
<p>æˆ‘ä»¬æ¥ä¸‹æ¥ä½¿ç”¨ã€Šä¼˜å°±ä¸šJAVAä»£ç ç”Ÿæˆå™¨1.0ã€‹æ¥å®Œæˆä»£ç çš„ç¼–å†™ã€‚ç”Ÿæˆåå°†ä»£ç æ‹·è´åˆ°å·¥ç¨‹ä¸­ã€‚å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<p>ï¼ˆ1ï¼‰å¯¼å…¥ï¼ˆèµ„æº\é…å¥—è½¯ä»¶\dongyimaiMakeCode)ä»£ç ç”Ÿæˆå™¨å·¥ç¨‹åˆ°å¼€å‘å·¥å…·ã€‚
<img src="/posts/project-0/20220527221560/image-20220527221703944.png"
    
    
    
    loading="lazy"
    
    
></p>
<p>ï¼ˆ2ï¼‰ä¿®æ”¹æ•°æ®åº“è¿æ¥é…ç½®ï¼šæ‰“å¼€src/main/resources/properties/db.properties</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-properties" data-lang="properties"><span style="display:flex;"><span><span style="color:#998;font-style:italic">#pojoå®ä½“ç±»æ‰€åœ¨åŒ…</span>
</span></span><span style="display:flex;"><span><span style="color:#008080">pojoPackage</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">com.offcn.sellergoods.pojo</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#Daoæ¥å£æ‰€åœ¨åŒ…</span>
</span></span><span style="display:flex;"><span><span style="color:#008080">mapperPackage</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">com.offcn.sellergoods.dao</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#serviceæœåŠ¡æ¥å£æ‰€åœ¨åŒ…</span>
</span></span><span style="display:flex;"><span><span style="color:#008080">serviceInterfacePackage</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">com.offcn.sellergoods.service</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#serviceæœåŠ¡å®ç°ç±»æ‰€åœ¨åŒ…</span>
</span></span><span style="display:flex;"><span><span style="color:#008080">serviceInterfaceImplPackage</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">com.offcn.sellergoods.service.impl</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#controlleræ§åˆ¶å™¨æ‰€åœ¨åŒ…</span>
</span></span><span style="display:flex;"><span><span style="color:#008080">controllerPackage</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">com.offcn.sellergoods.controller</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#feignFeignè°ƒç”¨æ¥å£æ‰€åœ¨åŒ…</span>
</span></span><span style="display:flex;"><span><span style="color:#008080">feignPackage</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">com.offcn.sellergoods.feign</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#æ˜¯å¦å¼€å¯swaggeræ³¨è§£</span>
</span></span><span style="display:flex;"><span><span style="color:#008080">enableSwagger</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">true</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#swagger-uiæ‰€åœ¨ç›®å½•</span>
</span></span><span style="display:flex;"><span><span style="color:#008080">swaggeruipath</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">com.offcn.swagger</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#æœåŠ¡åï¼Œæä¾›feignè°ƒç”¨</span>
</span></span><span style="display:flex;"><span><span style="color:#008080">serviceName</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">sellergoods</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#æ•°æ®åº“åœ°å€ã€è´¦å·å¯†ç </span>
</span></span><span style="display:flex;"><span><span style="color:#008080">url</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">jdbc:mysql://192.168.188.1:3306/dongyimai-db</span>
</span></span><span style="display:flex;"><span><span style="color:#008080">uname</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">root</span>
</span></span><span style="display:flex;"><span><span style="color:#008080">pwd</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">root</span>
</span></span><span style="display:flex;"><span><span style="color:#008080">driver</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">com.mysql.jdbc.Driver</span>
</span></span></code></pre></div><p>ï¼ˆ3ï¼‰è¿è¡Œä»£ç ç”Ÿæˆä¸»ç¨‹åº:CodeApplicationåŠå¯ç”Ÿæˆä»£ç ã€‚</p>
<p>ï¼ˆ4ï¼‰æç¤ºæˆåŠŸåï¼Œåˆ°ç”Ÿæˆè·¯å¾„å»æ‰¾ç”Ÿæˆçš„ä»£ç ï¼Œå¹¶æ‹·è´åˆ°æˆ‘ä»¬çš„å·¥ç¨‹ä¸­ã€‚</p>
<p><strong>Pojo</strong>ã€<strong>Dao</strong>ã€<strong>Service</strong>ã€<strong>ServiceImpl</strong>ã€<strong>Controller</strong>éƒ½ç”Ÿæˆåˆ°äº† <strong>/src/main/java</strong>ç›®å½•ä¸‹
<img src="/posts/project-0/20220527221560/image-20220527221715561.png"
    
    
    
    loading="lazy"
    
    
></p>
<h3 id="2-ä»£ç æ‹·è´">2 ä»£ç æ‹·è´</h3>
<p>å°†å•†å“ç›¸å…³ä»£ç æ‹·è´åˆ°å·¥ç¨‹</p>
<p>ï¼ˆ1ï¼‰æ‹·è´å®ä½“ç±»
<img src="/posts/project-0/20220527221560/image-20220527221724474.png"
    
    
    
    loading="lazy"
    
    
></p>
<p>ï¼ˆ2ï¼‰æ‹·è´Daoå±‚æ¥å£
<img src="/posts/project-0/20220527221560/image-20220527221729800.png"
    
    
    
    loading="lazy"
    
    
></p>
<p>ï¼ˆ3ï¼‰æ‹·è´æœåŠ¡æ¥å£
<img src="/posts/project-0/20220527221560/image-20220527221737915.png"
    
    
    
    loading="lazy"
    
    
></p>
<p>ï¼ˆ4ï¼‰æ‹·è´æœåŠ¡å®ç°ç±»
<img src="/posts/project-0/20220527221560/image-20220527221743980.png"
    
    
    
    loading="lazy"
    
    
></p>
<p>ï¼ˆ5ï¼‰æ‹·è´æ§åˆ¶å™¨
<img src="/posts/project-0/20220527221560/image-20220527221748957.png"
    
    
    
    loading="lazy"
    
    
></p>
<h1 id="äºŒ-swagger2çš„ä½¿ç”¨">äºŒ Swagger2çš„ä½¿ç”¨</h1>
<h3 id="1-é…ç½®swaggeræ–‡æ¡£">1 é…ç½®Swaggeræ–‡æ¡£</h3>
<p>Swagger æ˜¯ä¸€ä¸ªè§„èŒƒå’Œå®Œæ•´çš„æ¡†æ¶,ç”¨äºç”Ÿæˆã€æè¿°ã€è°ƒç”¨å’Œå¯è§†åŒ– RESTful é£æ ¼çš„ Web æœåŠ¡ã€‚æ€»ä½“ç›®æ ‡æ˜¯ä½¿å®¢æˆ·ç«¯å’Œæ–‡ä»¶ç³»ç»Ÿä½œä¸ºæœåŠ¡å™¨ä»¥åŒæ ·çš„é€Ÿåº¦æ¥æ›´æ–°ã€‚æ–‡ä»¶çš„æ–¹æ³•,å‚æ•°å’Œæ¨¡å‹ç´§å¯†é›†æˆåˆ°æœåŠ¡å™¨ç«¯çš„ä»£ç ,å…è®¸APIæ¥å§‹ç»ˆä¿æŒåŒæ­¥ã€‚Swagger è®©éƒ¨ç½²ç®¡ç†å’Œä½¿ç”¨åŠŸèƒ½å¼ºå¤§çš„APIä»æœªå¦‚æ­¤ç®€å•ã€‚</p>
<p><strong>1) åœ¨dongyimai-parentå·¥ç¨‹ä¸­pom.xmlå¼•å…¥Swagger2å’Œswagger ui</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#998;font-style:italic">&lt;!-- springfox-swagger2 --&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;groupId&gt;</span>io.springfox<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;artifactId&gt;</span>springfox-swagger2<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;version&gt;</span>2.9.2<span style="color:#000080">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">&lt;!-- springfox-swagger-ui --&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;groupId&gt;</span>io.springfox<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;artifactId&gt;</span>springfox-swagger-ui<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;version&gt;</span>2.9.2<span style="color:#000080">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;/dependency&gt;</span>
</span></span></code></pre></div><p><strong>2) åœ¨æ¨¡å—ä¸­ç¼–å†™é…ç½®ç±»ï¼ˆ@EnableSwagger2 å¼€å¯swagger2è‡ªåŠ¨ç”Ÿæˆapiæ–‡æ¡£åŠŸèƒ½ï¼‰</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@Configuration</span>
</span></span><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@EnableSwagger2</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">class</span> <span style="color:#458;font-weight:bold">SwaggerConfig</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//é…ç½®æ–‡æ¡£å±æ€§
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">private</span> ApiInfo <span style="color:#900;font-weight:bold">getApiInfo</span><span style="color:#000;font-weight:bold">(){</span>
</span></span><span style="display:flex;"><span>      <span style="color:#000;font-weight:bold">return</span>   <span style="color:#000;font-weight:bold">new</span> ApiInfoBuilder<span style="color:#000;font-weight:bold">().</span><span style="color:#008080">title</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;å•†å“å¾®æœåŠ¡æ¥å£æ–‡æ¡£&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000;font-weight:bold">.</span><span style="color:#008080">description</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;ç»™å‰ç«¯å¦¹å­çœ‹çš„&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000;font-weight:bold">.</span><span style="color:#008080">version</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;1.0&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000;font-weight:bold">.</span><span style="color:#008080">termsOfServiceUrl</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;http://www.ujiuye.com&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000;font-weight:bold">.</span><span style="color:#008080">build</span><span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//åˆ›å»ºæ–‡æ¡£é…ç½®å¯¹è±¡
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#3c5d5d;font-weight:bold">@Bean</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> Docket <span style="color:#900;font-weight:bold">docket</span><span style="color:#000;font-weight:bold">(){</span>
</span></span><span style="display:flex;"><span>      <span style="color:#000;font-weight:bold">return</span>   <span style="color:#000;font-weight:bold">new</span> Docket<span style="color:#000;font-weight:bold">(</span>DocumentationType<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">SWAGGER_2</span><span style="color:#000;font-weight:bold">).</span><span style="color:#008080">apiInfo</span><span style="color:#000;font-weight:bold">(</span>getApiInfo<span style="color:#000;font-weight:bold">())</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000;font-weight:bold">.</span><span style="color:#008080">groupName</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;group1&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000;font-weight:bold">.</span><span style="color:#008080">select</span><span style="color:#000;font-weight:bold">()</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000;font-weight:bold">.</span><span style="color:#008080">build</span><span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p><strong>3)è®¿é—®æ–‡æ¡£</strong></p>
<p>http://localhost:9001/swagger-ui.html</p>
<p>è¯•ç€æ“ä½œä¸€ä¸‹å“ç‰Œç®¡ç†çš„å†…å®¹~</p>
<h1 id="ä¸‰-è§„æ ¼ç®¡ç†">ä¸‰ è§„æ ¼ç®¡ç†</h1>
<h2 id="1-éœ€æ±‚åˆ†æ">1 éœ€æ±‚åˆ†æ</h2>
<p>è§„æ ¼ç®¡ç†æ˜¯ç”¨äºç®¡ç†è§„æ ¼é€‰é¡¹çš„å•å…ƒã€‚è§„æ ¼æ˜¯ä¾‹å¦‚é¢œè‰²ã€æ‰‹æœºè¿è¡Œå†…å­˜ç­‰ä¿¡æ¯ï¼Œé€‰é¡¹æ˜¯ä¾‹å¦‚ç³»ç»Ÿï¼šå®‰å“ï¼ˆAndroidï¼‰åç½®æ‘„åƒå¤´åƒç´ ï¼š2000ä¸‡åŠä»¥ä¸Š  çƒ­ç‚¹ï¼šå¿«é€Ÿå……ç”µç­‰ä¿¡æ¯ ã€‚</p>
<p>å‰ç«¯äº¤äº’æ–¹å¼è§ç®¡ç†åå°çš„é™æ€åŸå‹</p>
<p><img src="/posts/project-0/20220527221560/image-20220527221808611.png"
    
    
    
    loading="lazy"
    
    
></p>
<h2 id="2-è¡¨ç»“æ„åˆ†æ">2 è¡¨ç»“æ„åˆ†æ</h2>
<p><strong>tb_specification</strong> <strong>è§„æ ¼è¡¨</strong></p>
<table>
<thead>
<tr>
<th>å­—æ®µ</th>
<th>ç±»å‹</th>
<th>é•¿åº¦</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>Bigint</td>
<td></td>
<td>ä¸»é”®</td>
</tr>
<tr>
<td>spec_name</td>
<td>Varchar</td>
<td>255</td>
<td>è§„æ ¼åç§°</td>
</tr>
</tbody>
</table>
<p><strong>tb_specification_option</strong> <strong>è§„æ ¼é€‰é¡¹è¡¨</strong></p>
<table>
<thead>
<tr>
<th>å­—æ®µ</th>
<th>ç±»å‹</th>
<th>é•¿åº¦</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>Bigint</td>
<td></td>
<td>ä¸»é”®</td>
</tr>
<tr>
<td>option_name</td>
<td>Varchar</td>
<td>200</td>
<td>è§„æ ¼é€‰é¡¹åç§°</td>
</tr>
<tr>
<td>spec_id</td>
<td>Bigint</td>
<td>30</td>
<td>è§„æ ¼ID</td>
</tr>
<tr>
<td>orders</td>
<td>Int</td>
<td>11</td>
<td>æ’åº</td>
</tr>
</tbody>
</table>
<h2 id="3-ä»£ç å®ç°">3 ä»£ç å®ç°</h2>
<h3 id="31--æ–°å¢è§„æ ¼">3.1  æ–°å¢è§„æ ¼</h3>
<p>å®ç°æ€è·¯ï¼šæˆ‘ä»¬å°†è§„æ ¼å’Œè§„æ ¼é€‰é¡¹æ•°æ®åˆå¹¶æˆä¸€ä¸ªå¯¹è±¡æ¥ä¼ é€’ï¼Œè¿™æ—¶æˆ‘ä»¬éœ€è¦ç”¨ä¸€ä¸ªå¯¹è±¡å°†è¿™ä¸¤ä¸ªå¯¹è±¡ç»„åˆèµ·æ¥ã€‚åœ¨ä¸šåŠ¡é€»è¾‘ä¸­ï¼Œå¾—åˆ°ç»„åˆå¯¹è±¡ä¸­çš„è§„æ ¼å’Œè§„æ ¼é€‰é¡¹åˆ—è¡¨ï¼Œæ’å…¥è§„æ ¼è¿”å›è§„æ ¼IDï¼Œç„¶åå¾ªç¯æ’å…¥è§„æ ¼é€‰é¡¹ã€‚</p>
<p>ï¼ˆ1ï¼‰åœ¨dongyimai-sellergoods-service-api å»ºç«‹com.offcn.sellergoods.groupåŒ…ï¼ŒåŒ…ä¸‹å»ºç«‹SpecEntityç±»</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@ApiModel</span><span style="color:#000;font-weight:bold">(</span>description <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;è§„æ ¼å¤åˆå®ä½“ç±»&#34;</span><span style="color:#000;font-weight:bold">,</span>value <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;SpecEntity&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">class</span> <span style="color:#458;font-weight:bold">SpecEntity</span> <span style="color:#000;font-weight:bold">implements</span> Serializable <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#3c5d5d;font-weight:bold">@ApiModelProperty</span><span style="color:#000;font-weight:bold">(</span>value <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;è§„æ ¼å¯¹è±¡&#34;</span><span style="color:#000;font-weight:bold">,</span>required <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">false</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">private</span> Specification specification<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#3c5d5d;font-weight:bold">@ApiModelProperty</span><span style="color:#000;font-weight:bold">(</span>value <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;è§„æ ¼é€‰é¡¹å¯¹è±¡&#34;</span><span style="color:#000;font-weight:bold">,</span>required <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">false</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">private</span> List<span style="color:#000;font-weight:bold">&lt;</span>SpecificationOption<span style="color:#000;font-weight:bold">&gt;</span> specificationOptionList<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> Specification <span style="color:#900;font-weight:bold">getSpecification</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> specification<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">setSpecification</span><span style="color:#000;font-weight:bold">(</span>Specification specification<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">specification</span> <span style="color:#000;font-weight:bold">=</span> specification<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> List<span style="color:#000;font-weight:bold">&lt;</span>SpecificationOption<span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#900;font-weight:bold">getSpecificationOptionList</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> specificationOptionList<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">setSpecificationOptionList</span><span style="color:#000;font-weight:bold">(</span>List<span style="color:#000;font-weight:bold">&lt;</span>SpecificationOption<span style="color:#000;font-weight:bold">&gt;</span> specificationOptionList<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">specificationOptionList</span> <span style="color:#000;font-weight:bold">=</span> specificationOptionList<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>ï¼ˆ2ï¼‰ä¸šåŠ¡å±‚</p>
<p>ä¿®æ”¹com.offcn.sellergoods.service.SpecificationServiceï¼Œæ–°å¢æ–¹æ³•</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#998;font-style:italic">/***
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">* æ–°å¢Specification
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">* @param specEntity
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">*/</span>
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">add</span><span style="color:#000;font-weight:bold">(</span>SpecEntity specEntity<span style="color:#000;font-weight:bold">);</span>
</span></span></code></pre></div><p>ä¿®æ”¹com.offcn.sellergoods.service.impl.SpecificationServiceImplï¼Œæ–°å¢å¢åŠ è§„æ ¼æ–¹æ³•ä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#998;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">     * å¢åŠ Specification
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">     * @param specEntity
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#3c5d5d;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">add</span><span style="color:#000;font-weight:bold">(</span>SpecEntity specEntity<span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">//1.ä¿å­˜è§„æ ¼åç§°
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">save</span><span style="color:#000;font-weight:bold">(</span>specEntity<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getSpecification</span><span style="color:#000;font-weight:bold">());</span>
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">//2.å¾—åˆ°è§„æ ¼åç§°ID
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        <span style="color:#000;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">null</span> <span style="color:#000;font-weight:bold">!=</span> specEntity<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getSpecificationOptionList</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">&amp;&amp;</span> specEntity<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getSpecificationOptionList</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">size</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">&gt;</span> 0<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span>SpecificationOption specificationOption <span style="color:#000;font-weight:bold">:</span> specEntity<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getSpecificationOptionList</span><span style="color:#000;font-weight:bold">())</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>                <span style="color:#998;font-style:italic">//3.å‘è§„æ ¼é€‰é¡¹ä¸­è®¾ç½®è§„æ ¼ID
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>                specificationOption<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setSpecId</span><span style="color:#000;font-weight:bold">(</span>specEntity<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getSpecification</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">getId</span><span style="color:#000;font-weight:bold">());</span>
</span></span><span style="display:flex;"><span>                <span style="color:#998;font-style:italic">//4.ä¿å­˜è§„æ ¼é€‰é¡¹
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>                specificationOptionMapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">insert</span><span style="color:#000;font-weight:bold">(</span>specificationOption<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>ï¼ˆ3ï¼‰æ§åˆ¶å±‚</p>
<p>ä¿®æ”¹SpecificationControlleræ–°å¢æ–¹æ³•</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">/***
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">     * æ–°å¢Specificationæ•°æ®
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">     * @param specEntity
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">     * @return
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#3c5d5d;font-weight:bold">@ApiOperation</span><span style="color:#000;font-weight:bold">(</span>value <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;Specificationæ·»åŠ &#34;</span><span style="color:#000;font-weight:bold">,</span>notes <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;æ·»åŠ Specificationæ–¹æ³•è¯¦æƒ…&#34;</span><span style="color:#000;font-weight:bold">,</span>tags <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">{</span><span style="color:#d14">&#34;SpecificationController&#34;</span><span style="color:#000;font-weight:bold">})</span>
</span></span><span style="display:flex;"><span>    <span style="color:#3c5d5d;font-weight:bold">@PostMapping</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> Result <span style="color:#900;font-weight:bold">add</span><span style="color:#000;font-weight:bold">(</span><span style="color:#3c5d5d;font-weight:bold">@RequestBody</span>  <span style="color:#3c5d5d;font-weight:bold">@ApiParam</span><span style="color:#000;font-weight:bold">(</span>name <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;SpecEntityå¤åˆå®ä½“&#34;</span><span style="color:#000;font-weight:bold">,</span>value <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;ä¼ å…¥JSONæ•°æ®&#34;</span><span style="color:#000;font-weight:bold">,</span>required <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">true</span><span style="color:#000;font-weight:bold">)</span> SpecEntity specEntity<span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">//è°ƒç”¨SpecificationServiceå®ç°æ·»åŠ Specification
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        specificationService<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">add</span><span style="color:#000;font-weight:bold">(</span>specEntity<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">new</span> Result<span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">true</span><span style="color:#000;font-weight:bold">,</span>StatusCode<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">OK</span><span style="color:#000;font-weight:bold">,</span><span style="color:#d14">&#34;æ·»åŠ æˆåŠŸ&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>æµ‹è¯•æ•°æ®</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	<span style="color:#000080">&#34;specification&#34;</span>: {
</span></span><span style="display:flex;"><span>		<span style="color:#000080">&#34;specName&#34;</span>: <span style="color:#d14">&#34;æµ‹è¯•è§„æ ¼01&#34;</span>
</span></span><span style="display:flex;"><span>	},
</span></span><span style="display:flex;"><span>	<span style="color:#000080">&#34;specificationOptionList&#34;</span>: [
</span></span><span style="display:flex;"><span>		{
</span></span><span style="display:flex;"><span>			<span style="color:#000080">&#34;optionName&#34;</span>: <span style="color:#d14">&#34;16G&#34;</span>,
</span></span><span style="display:flex;"><span>			<span style="color:#000080">&#34;orders&#34;</span>: <span style="color:#d14">&#34;1&#34;</span>
</span></span><span style="display:flex;"><span>		},
</span></span><span style="display:flex;"><span>		{
</span></span><span style="display:flex;"><span>			<span style="color:#000080">&#34;optionName&#34;</span>: <span style="color:#d14">&#34;21G&#34;</span>,
</span></span><span style="display:flex;"><span>			<span style="color:#000080">&#34;orders&#34;</span>: <span style="color:#d14">&#34;2&#34;</span>
</span></span><span style="display:flex;"><span>		},
</span></span><span style="display:flex;"><span>		{
</span></span><span style="display:flex;"><span>			<span style="color:#000080">&#34;optionName&#34;</span>: <span style="color:#d14">&#34;33G&#34;</span>,
</span></span><span style="display:flex;"><span>			<span style="color:#000080">&#34;orders&#34;</span>: <span style="color:#d14">&#34;3&#34;</span>
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>	]
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><img src="/posts/project-0/20220527221560/image-20220527221826442.png"
    
    
    
    loading="lazy"
    
    
></p>
<h3 id="32-æ ¹æ®idæŸ¥è¯¢è§„æ ¼">3.2 æ ¹æ®IDæŸ¥è¯¢è§„æ ¼</h3>
<p>ï¼ˆ1ï¼‰ä¸šåŠ¡å±‚</p>
<p>ä¿®æ”¹com.offcn.sellergoods.service.SpecificationServiceï¼ŒæŸ¥è¯¢è§„æ ¼æ–¹æ³•ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>SpecEntity <span style="color:#900;font-weight:bold">findById</span><span style="color:#000;font-weight:bold">(</span>Long id<span style="color:#000;font-weight:bold">);</span>
</span></span></code></pre></div><p>ï¼ˆ2ï¼‰ä¿®æ”¹com.offcn.sellergoods.service.impl.SpecificationServiceImplï¼ŒæŸ¥è¯¢è§„æ ¼æ–¹æ³•ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> SpecEntity <span style="color:#900;font-weight:bold">findById</span><span style="color:#000;font-weight:bold">(</span>Long id<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    Specification specification <span style="color:#000;font-weight:bold">=</span> specificationMapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">selectById</span><span style="color:#000;font-weight:bold">(</span>id<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    QueryWrapper<span style="color:#000;font-weight:bold">&lt;</span>SpecificationOption<span style="color:#000;font-weight:bold">&gt;</span> queryWrapper <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> QueryWrapper<span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>    queryWrapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">eq</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;spec_id&#34;</span><span style="color:#000;font-weight:bold">,</span>id<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    List<span style="color:#000;font-weight:bold">&lt;</span>SpecificationOption<span style="color:#000;font-weight:bold">&gt;</span> specificationOptionList <span style="color:#000;font-weight:bold">=</span>  specificationOptionMapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">selectList</span><span style="color:#000;font-weight:bold">(</span>queryWrapper<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    SpecEntity specEntity <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> SpecEntity<span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>    specEntity<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setSpecification</span><span style="color:#000;font-weight:bold">(</span>specification<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    specEntity<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setSpecificationOptionList</span><span style="color:#000;font-weight:bold">(</span>specificationOptionList<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> specEntity<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>ï¼ˆ3ï¼‰æ§åˆ¶å±‚</p>
<p>SpecificationControllerä¿®æ”¹æ–¹æ³•</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@ApiOperation</span><span style="color:#000;font-weight:bold">(</span>value <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;Specificationæ ¹æ®IDæŸ¥è¯¢&#34;</span><span style="color:#000;font-weight:bold">,</span>notes <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;æ ¹æ®IDæŸ¥è¯¢Specificationæ–¹æ³•è¯¦æƒ…&#34;</span><span style="color:#000;font-weight:bold">,</span>tags <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">{</span><span style="color:#d14">&#34;SpecificationController&#34;</span><span style="color:#000;font-weight:bold">})</span>
</span></span><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@ApiImplicitParam</span><span style="color:#000;font-weight:bold">(</span>paramType <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;path&#34;</span><span style="color:#000;font-weight:bold">,</span> name <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;id&#34;</span><span style="color:#000;font-weight:bold">,</span> value <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;ä¸»é”®ID&#34;</span><span style="color:#000;font-weight:bold">,</span> required <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">true</span><span style="color:#000;font-weight:bold">,</span> dataType <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;Long&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@GetMapping</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;/{id}&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> Result<span style="color:#000;font-weight:bold">&lt;</span>SpecEntity<span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#900;font-weight:bold">findById</span><span style="color:#000;font-weight:bold">(</span><span style="color:#3c5d5d;font-weight:bold">@PathVariable</span> Long id<span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//è°ƒç”¨SpecificationServiceå®ç°æ ¹æ®ä¸»é”®æŸ¥è¯¢Specification
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    SpecEntity specification <span style="color:#000;font-weight:bold">=</span> specificationService<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">findById</span><span style="color:#000;font-weight:bold">(</span>id<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">new</span> Result<span style="color:#000;font-weight:bold">&lt;</span>SpecEntity<span style="color:#000;font-weight:bold">&gt;(</span><span style="color:#000;font-weight:bold">true</span><span style="color:#000;font-weight:bold">,</span>StatusCode<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">OK</span><span style="color:#000;font-weight:bold">,</span><span style="color:#d14">&#34;æŸ¥è¯¢æˆåŠŸ&#34;</span><span style="color:#000;font-weight:bold">,</span>specification<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h3 id="33-ä¿®æ”¹è§„æ ¼">3.3 ä¿®æ”¹è§„æ ¼</h3>
<p>ï¼ˆ1ï¼‰ä¸šåŠ¡å±‚</p>
<p>ä¿®æ”¹com.offcn.sellergoods.service.SpecificationServiceï¼Œä¿®æ”¹è§„æ ¼æ–¹æ³•ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">/***
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">     * ä¿®æ”¹Specificationæ•°æ®
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">     * @param specEntity
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">update</span><span style="color:#000;font-weight:bold">(</span>SpecEntity specEntity<span style="color:#000;font-weight:bold">);</span>
</span></span></code></pre></div><p>ä¿®æ”¹com.offcn.sellergoods.service.impl.SpecificationServiceImplï¼Œä¿®æ”¹å“ç‰Œæ–¹æ³•ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">     * ä¿®æ”¹Specification
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">     * @param specEntity
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#3c5d5d;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">update</span><span style="color:#000;font-weight:bold">(</span>SpecEntity specEntity<span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">//1.ä¿®æ”¹è§„æ ¼åç§°å¯¹è±¡
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">updateById</span><span style="color:#000;font-weight:bold">(</span>specEntity<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getSpecification</span><span style="color:#000;font-weight:bold">());</span>
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">//2.æ ¹æ®IDåˆ é™¤è§„æ ¼é€‰é¡¹é›†åˆ
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        QueryWrapper<span style="color:#000;font-weight:bold">&lt;</span>SpecificationOption<span style="color:#000;font-weight:bold">&gt;</span> queryWrapper <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> QueryWrapper<span style="color:#000;font-weight:bold">&lt;</span>SpecificationOption<span style="color:#000;font-weight:bold">&gt;();</span>
</span></span><span style="display:flex;"><span>        queryWrapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">eq</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;spec_id&#34;</span><span style="color:#000;font-weight:bold">,</span> specEntity<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getSpecification</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">getId</span><span style="color:#000;font-weight:bold">());</span>
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">//æ‰§è¡Œåˆ é™¤
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        specificationOptionMapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">delete</span><span style="color:#000;font-weight:bold">(</span>queryWrapper<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">//3.é‡æ–°æ’å…¥è§„æ ¼é€‰é¡¹
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        <span style="color:#000;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(!</span>CollectionUtils<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">isEmpty</span><span style="color:#000;font-weight:bold">(</span>specEntity<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getSpecificationOptionList</span><span style="color:#000;font-weight:bold">()))</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span>SpecificationOption specificationOption <span style="color:#000;font-weight:bold">:</span> specEntity<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getSpecificationOptionList</span><span style="color:#000;font-weight:bold">())</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>                <span style="color:#998;font-style:italic">//å…ˆè®¾ç½®è§„æ ¼åç§°çš„ID
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>                specificationOption<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setSpecId</span><span style="color:#000;font-weight:bold">(</span>specEntity<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getSpecification</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">getId</span><span style="color:#000;font-weight:bold">());</span>
</span></span><span style="display:flex;"><span>                specificationOptionMapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">insert</span><span style="color:#000;font-weight:bold">(</span>specificationOption<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>(2)æ§åˆ¶å±‚</p>
<p>SpecificationControllerä¿®æ”¹æ–¹æ³•</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">/***
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">     * ä¿®æ”¹Specificationæ•°æ®
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">     * @param specEntity
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">     * @param id
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">     * @return
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#3c5d5d;font-weight:bold">@ApiOperation</span><span style="color:#000;font-weight:bold">(</span>value <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;Specificationæ ¹æ®IDä¿®æ”¹&#34;</span><span style="color:#000;font-weight:bold">,</span>notes <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;æ ¹æ®IDä¿®æ”¹Specificationæ–¹æ³•è¯¦æƒ…&#34;</span><span style="color:#000;font-weight:bold">,</span>tags <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">{</span><span style="color:#d14">&#34;SpecificationController&#34;</span><span style="color:#000;font-weight:bold">})</span>
</span></span><span style="display:flex;"><span>    <span style="color:#3c5d5d;font-weight:bold">@ApiImplicitParam</span><span style="color:#000;font-weight:bold">(</span>paramType <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;path&#34;</span><span style="color:#000;font-weight:bold">,</span> name <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;id&#34;</span><span style="color:#000;font-weight:bold">,</span> value <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;ä¸»é”®ID&#34;</span><span style="color:#000;font-weight:bold">,</span> required <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">true</span><span style="color:#000;font-weight:bold">,</span> dataType <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;Long&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#3c5d5d;font-weight:bold">@PutMapping</span><span style="color:#000;font-weight:bold">(</span>value<span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;/{id}&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> Result <span style="color:#900;font-weight:bold">update</span><span style="color:#000;font-weight:bold">(</span><span style="color:#3c5d5d;font-weight:bold">@RequestBody</span> <span style="color:#3c5d5d;font-weight:bold">@ApiParam</span><span style="color:#000;font-weight:bold">(</span>name <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;Specificationå¯¹è±¡&#34;</span><span style="color:#000;font-weight:bold">,</span>value <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;ä¼ å…¥JSONæ•°æ®&#34;</span><span style="color:#000;font-weight:bold">,</span>required <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">false</span><span style="color:#000;font-weight:bold">)</span> SpecEntity specEntity<span style="color:#000;font-weight:bold">,</span><span style="color:#3c5d5d;font-weight:bold">@PathVariable</span> Long id<span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">//è®¾ç½®ä¸»é”®å€¼
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        specEntity<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getSpecification</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">setId</span><span style="color:#000;font-weight:bold">(</span>id<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        specificationService<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">update</span><span style="color:#000;font-weight:bold">(</span>specEntity<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">new</span> Result<span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">true</span><span style="color:#000;font-weight:bold">,</span>StatusCode<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">OK</span><span style="color:#000;font-weight:bold">,</span><span style="color:#d14">&#34;ä¿®æ”¹æˆåŠŸ&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>æµ‹è¯•æ•°æ®</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	<span style="color:#000080">&#34;specification&#34;</span>: {
</span></span><span style="display:flex;"><span>		<span style="color:#000080">&#34;specName&#34;</span>: <span style="color:#d14">&#34;æµ‹è¯•è§„æ ¼01_update&#34;</span>
</span></span><span style="display:flex;"><span>	},
</span></span><span style="display:flex;"><span>	<span style="color:#000080">&#34;specificationOptionList&#34;</span>: [
</span></span><span style="display:flex;"><span>		{
</span></span><span style="display:flex;"><span>			<span style="color:#000080">&#34;optionName&#34;</span>: <span style="color:#d14">&#34;21G_update&#34;</span>,
</span></span><span style="display:flex;"><span>			<span style="color:#000080">&#34;orders&#34;</span>: <span style="color:#d14">&#34;2&#34;</span>
</span></span><span style="display:flex;"><span>		},
</span></span><span style="display:flex;"><span>		{
</span></span><span style="display:flex;"><span>			<span style="color:#000080">&#34;optionName&#34;</span>: <span style="color:#d14">&#34;33G&#34;</span>,
</span></span><span style="display:flex;"><span>			<span style="color:#000080">&#34;orders&#34;</span>: <span style="color:#d14">&#34;3&#34;</span>
</span></span><span style="display:flex;"><span>		},
</span></span><span style="display:flex;"><span>		{
</span></span><span style="display:flex;"><span>			<span style="color:#000080">&#34;optionName&#34;</span>: <span style="color:#d14">&#34;48G&#34;</span>,
</span></span><span style="display:flex;"><span>			<span style="color:#000080">&#34;orders&#34;</span>: <span style="color:#d14">&#34;4&#34;</span>
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>	]
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><img src="/posts/project-0/20220527221560/image-20220527221839743.png"
    
    
    
    loading="lazy"
    
    
></p>
<h3 id="34-åˆ é™¤è§„æ ¼">3.4 åˆ é™¤è§„æ ¼</h3>
<p>(1)ä¸šåŠ¡å±‚</p>
<p>ä¿®æ”¹com.offcn.sellergoods.service.SpecificationServiceImplï¼Œåˆ é™¤è§„æ ¼æ–¹æ³•ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">     * åˆ é™¤
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">     * @param id
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#3c5d5d;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">delete</span><span style="color:#000;font-weight:bold">(</span>Long id<span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">//1.åˆ é™¤è§„æ ¼åç§°å¯¹è±¡
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">removeById</span><span style="color:#000;font-weight:bold">(</span>id<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">//2.å…³è”åˆ é™¤è§„æ ¼é€‰é¡¹é›†åˆ
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        QueryWrapper<span style="color:#000;font-weight:bold">&lt;</span>SpecificationOption<span style="color:#000;font-weight:bold">&gt;</span> queryWrapper <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> QueryWrapper<span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>        queryWrapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">eq</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;spec_id&#34;</span><span style="color:#000;font-weight:bold">,</span> id<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">//æ‰§è¡Œåˆ é™¤
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        specificationOptionMapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">delete</span><span style="color:#000;font-weight:bold">(</span>queryWrapper<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>(2)æ§åˆ¶å±‚</p>
<p>SpecificationControlleråˆ é™¤æ–¹æ³•</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">/***
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">     * æ ¹æ®IDåˆ é™¤å“ç‰Œæ•°æ®
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">     * @param id
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">     * @return
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#3c5d5d;font-weight:bold">@ApiOperation</span><span style="color:#000;font-weight:bold">(</span>value <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;Specificationæ ¹æ®IDåˆ é™¤&#34;</span><span style="color:#000;font-weight:bold">,</span>notes <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;æ ¹æ®IDåˆ é™¤Specificationæ–¹æ³•è¯¦æƒ…&#34;</span><span style="color:#000;font-weight:bold">,</span>tags <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">{</span><span style="color:#d14">&#34;SpecificationController&#34;</span><span style="color:#000;font-weight:bold">})</span>
</span></span><span style="display:flex;"><span>    <span style="color:#3c5d5d;font-weight:bold">@ApiImplicitParam</span><span style="color:#000;font-weight:bold">(</span>paramType <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;path&#34;</span><span style="color:#000;font-weight:bold">,</span> name <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;id&#34;</span><span style="color:#000;font-weight:bold">,</span> value <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;ä¸»é”®ID&#34;</span><span style="color:#000;font-weight:bold">,</span> required <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">true</span><span style="color:#000;font-weight:bold">,</span> dataType <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;Long&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#3c5d5d;font-weight:bold">@DeleteMapping</span><span style="color:#000;font-weight:bold">(</span>value <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;/{id}&#34;</span> <span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> Result <span style="color:#900;font-weight:bold">delete</span><span style="color:#000;font-weight:bold">(</span><span style="color:#3c5d5d;font-weight:bold">@PathVariable</span> Long id<span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">//è°ƒç”¨SpecificationServiceå®ç°æ ¹æ®ä¸»é”®åˆ é™¤
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        specificationService<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">delete</span><span style="color:#000;font-weight:bold">(</span>id<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">new</span> Result<span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">true</span><span style="color:#000;font-weight:bold">,</span>StatusCode<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">OK</span><span style="color:#000;font-weight:bold">,</span><span style="color:#d14">&#34;åˆ é™¤æˆåŠŸ&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h1 id="å››-æ¨¡æ¿ç®¡ç†">å›› æ¨¡æ¿ç®¡ç†</h1>
<h2 id="1-éœ€æ±‚åˆ†æ-1">**1 **éœ€æ±‚åˆ†æ</h2>
<p>é¦–å…ˆæˆ‘ä»¬éœ€è¦ç†è§£æ¨¡æ¿çš„ä½œç”¨ã€‚æ¨¡æ¿ä¸»è¦æœ‰ä¸¤ä¸ªï¼š</p>
<p>1æ˜¯ç”¨äºå…³è”å“ç‰Œä¸è§„æ ¼</p>
<p>2å®šä¹‰æ‰©å……å±æ€§</p>
<h2 id="2-è¡¨ç»“æ„åˆ†æ-1">2 <strong>è¡¨ç»“æ„åˆ†æ</strong></h2>
<p><strong>tb_type_template</strong> <strong>æ¨¡æ¿è¡¨</strong></p>
<table>
<thead>
<tr>
<th>å­—æ®µ</th>
<th>ç±»å‹</th>
<th>é•¿åº¦</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td>Id</td>
<td>Bigint</td>
<td></td>
<td>ä¸»é”®</td>
</tr>
<tr>
<td>name</td>
<td>Varchar</td>
<td>80</td>
<td>æ¨¡æ¿åç§°</td>
</tr>
<tr>
<td>spec_ids</td>
<td>Varchar</td>
<td>1000</td>
<td>å…³è”è§„æ ¼ï¼ˆjsonæ ¼å¼ï¼‰</td>
</tr>
<tr>
<td>brand_ids</td>
<td>Varchar</td>
<td>1000</td>
<td>å…³è”å“ç‰Œï¼ˆjsonæ ¼å¼ï¼‰</td>
</tr>
<tr>
<td>custom_attribute_items</td>
<td>Varchar</td>
<td>2000</td>
<td>æ‰©å±•å±æ€§ï¼ˆJsonæ ¼å¼ï¼‰</td>
</tr>
</tbody>
</table>
<h2 id="3å“ç‰Œä¸‹æ‹‰åˆ—è¡¨">3.å“ç‰Œä¸‹æ‹‰åˆ—è¡¨</h2>
<p>åœ¨å¼¹å‡ºçª—å£ä¸­æœ‰ä¸ªå“ç‰Œä¸‹æ‹‰åˆ—è¡¨ï¼Œè¦æ±‚å“ç‰Œæ˜¯å¯ä»¥é€‰æ‹©å¤šä¸ªï¼Œéœ€è¦åå°æä¾›æ•°æ®æ”¯æŒ
<img src="/posts/project-0/20220527221560/image-20220527221853550.png"
    
    
    
    loading="lazy"
    
    
></p>
<h4 id="31-å“ç‰Œä¸‹æ‹‰åˆ—è¡¨ä»£ç å®ç°">3.1 å“ç‰Œä¸‹æ‹‰åˆ—è¡¨ä»£ç å®ç°</h4>
<p>ï¼ˆ1ï¼‰ä¿®æ”¹daoå±‚ ï¼Œåœ¨BrandMapperä¸­æ·»åŠ æŸ¥è¯¢</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@Select</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;select id,name as text from tb_brand&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> List<span style="color:#000;font-weight:bold">&lt;</span>Map<span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#900;font-weight:bold">selectOptions</span><span style="color:#000;font-weight:bold">();</span>
</span></span></code></pre></div><p>ï¼ˆ2ï¼‰ä¿®æ”¹com.offcn.sellergoods.service.BrandServiceï¼Œå¢åŠ æ–¹æ³•å®šä¹‰</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#998;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * æŸ¥è¯¢å“ç‰Œä¸‹æ‹‰åˆ—è¡¨
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * @return
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">*/</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> List<span style="color:#000;font-weight:bold">&lt;</span>Map<span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#900;font-weight:bold">selectOptions</span><span style="color:#000;font-weight:bold">();</span>
</span></span></code></pre></div><p>ï¼ˆ3ï¼‰ä¿®æ”¹com.offcn.sellergoods.service.impl.BrandServiceImplï¼Œå¢åŠ æ–¹æ³•</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">     * æŸ¥è¯¢å“ç‰Œä¸‹æ‹‰åˆ—è¡¨
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">     *
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">     * @return
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#3c5d5d;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> List<span style="color:#000;font-weight:bold">&lt;</span>Map<span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#900;font-weight:bold">selectOptions</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>       <span style="color:#000;font-weight:bold">return</span> brandMapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">selectOptions</span><span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>ï¼ˆ4ï¼‰ä¿®æ”¹BrandController.java</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@ApiOperation</span><span style="color:#000;font-weight:bold">(</span>value <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;æŸ¥è¯¢å“ç‰Œä¸‹æ‹‰åˆ—è¡¨&#34;</span><span style="color:#000;font-weight:bold">,</span>notes <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;æŸ¥è¯¢å“ç‰Œä¸‹æ‹‰åˆ—è¡¨&#34;</span><span style="color:#000;font-weight:bold">,</span>tags <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">{</span><span style="color:#d14">&#34;BrandController&#34;</span><span style="color:#000;font-weight:bold">})</span>
</span></span><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@GetMapping</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;/selectOptions&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> ResponseEntity<span style="color:#000;font-weight:bold">&lt;</span>List<span style="color:#000;font-weight:bold">&lt;</span>Map<span style="color:#000;font-weight:bold">&gt;&gt;</span> <span style="color:#900;font-weight:bold">selectOptions</span><span style="color:#000;font-weight:bold">(){</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> ResponseEntity<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">ok</span><span style="color:#000;font-weight:bold">(</span>brandService<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">selectOptions</span><span style="color:#000;font-weight:bold">());</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h4 id="32-è§„æ ¼ä¸‹æ‹‰åˆ—è¡¨ä»£ç å®ç°">3.2 è§„æ ¼ä¸‹æ‹‰åˆ—è¡¨ä»£ç å®ç°</h4>
<p>ï¼ˆ1ï¼‰ä¿®æ”¹daoå±‚ ï¼Œåœ¨SpecificationMapperä¸­æ·»åŠ æŸ¥è¯¢</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@Select</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;select id,spec_name as text from tb_specification&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> List<span style="color:#000;font-weight:bold">&lt;</span>Map<span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#900;font-weight:bold">selectOptions</span><span style="color:#000;font-weight:bold">();</span>
</span></span></code></pre></div><p>ï¼ˆ2ï¼‰ä¿®æ”¹com.offcn.sellergoods.service.SpecificationServiceï¼Œå¢åŠ æ–¹æ³•å®šä¹‰</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">     * æŸ¥è¯¢è§„æ ¼ä¸‹æ‹‰åˆ—è¡¨
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">     * @return
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> List<span style="color:#000;font-weight:bold">&lt;</span>Map<span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#900;font-weight:bold">selectOptions</span><span style="color:#000;font-weight:bold">();</span>
</span></span></code></pre></div><p>ï¼ˆ3ï¼‰ä¿®æ”¹com.offcn.sellergoods.service.impl.SpecificationServiceImplï¼Œå¢åŠ æ–¹æ³•</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">     * æŸ¥è¯¢è§„æ ¼ä¸‹æ‹‰åˆ—è¡¨
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">     *
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">     * @return
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#3c5d5d;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> List<span style="color:#000;font-weight:bold">&lt;</span>Map<span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#900;font-weight:bold">selectOptions</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> specificationMapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">selectOptions</span><span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>ï¼ˆ4ï¼‰ä¿®æ”¹SpecificationController.java</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@ApiOperation</span><span style="color:#000;font-weight:bold">(</span>value <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;æŸ¥è¯¢è§„æ ¼ä¸‹æ‹‰åˆ—è¡¨&#34;</span><span style="color:#000;font-weight:bold">,</span>notes <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;æŸ¥è¯¢è§„æ ¼ä¸‹æ‹‰åˆ—è¡¨&#34;</span><span style="color:#000;font-weight:bold">,</span>tags <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">{</span><span style="color:#d14">&#34;SpecificationController&#34;</span><span style="color:#000;font-weight:bold">})</span>
</span></span><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@GetMapping</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;/selectOptions&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> List<span style="color:#000;font-weight:bold">&lt;</span>Map<span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#900;font-weight:bold">selectOptions</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> specificationService<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">selectOptions</span><span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h1 id="äº”-å•†å“åˆ†ç±»">äº” å•†å“åˆ†ç±»</h1>
<h2 id="1-éœ€æ±‚åˆ†æ-2">1 éœ€æ±‚åˆ†æ</h2>
<p>å®ç°ä¸‰çº§å•†å“åˆ†ç±»åˆ—è¡¨æŸ¥è¯¢åŠŸèƒ½</p>
<p>è¿›å…¥é¡µé¢é¦–å…ˆæ˜¾ç¤ºæ‰€ä»¥ä¸€çº§åˆ†ç±»ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š
<img src="/posts/project-0/20220527221560/image-20220527221904896.png"
    
    
    
    loading="lazy"
    
    
></p>
<p>ç‚¹å‡»åˆ—è¡¨è¡Œçš„æŸ¥è¯¢ä¸‹çº§æŒ‰é’®ï¼Œè¿›å…¥ä¸‹çº§åˆ†ç±»åˆ—è¡¨ï¼ŒåŒæ—¶æ›´æ–°é¢åŒ…å±‘å¯¼èˆª
<img src="/posts/project-0/20220527221560/image-20220527221909389.png"
    
    
    
    loading="lazy"
    
    
></p>
<h2 id="2-è¡¨ç»“æ„åˆ†æ-2">2 è¡¨ç»“æ„åˆ†æ</h2>
<p><strong>tb_item_cat</strong> <strong>å•†å“åˆ†ç±»è¡¨</strong></p>
<table>
<thead>
<tr>
<th>å­—æ®µ</th>
<th>ç±»å‹</th>
<th>é•¿åº¦</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>Bigint</td>
<td></td>
<td>ä¸»é”®</td>
</tr>
<tr>
<td>parent_id</td>
<td>Bigint</td>
<td></td>
<td>ä¸Šçº§ID</td>
</tr>
<tr>
<td>name</td>
<td>varchar</td>
<td></td>
<td>åˆ†ç±»åç§°</td>
</tr>
<tr>
<td>type_id</td>
<td>Bigint</td>
<td></td>
<td>æ¨¡æ¿ID</td>
</tr>
</tbody>
</table>
<h2 id="3-æŸ¥è¯¢ä¸‹çº§ä»£ç å®ç°">3 æŸ¥è¯¢ä¸‹çº§ä»£ç å®ç°</h2>
<p>ï¼ˆ1ï¼‰ä¿®æ”¹com.offcn.sellergoods.service.ItemCatServiceæ¥å£ï¼Œæ–°å¢æ–¹æ³•å®šä¹‰</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>  <span style="color:#998;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">   * æ ¹æ®çˆ¶çº§IDæŸ¥è¯¢åˆ†ç±»åˆ—è¡¨
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">   * @param parentId
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">   * @return
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">   */</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">public</span> List<span style="color:#000;font-weight:bold">&lt;</span>ItemCat<span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#900;font-weight:bold">findByParentId</span><span style="color:#000;font-weight:bold">(</span>Long parentId<span style="color:#000;font-weight:bold">);</span>
</span></span></code></pre></div><p>ï¼ˆ2ï¼‰ä¿®æ”¹com.offcn.sellergoods.service.impl.ItemCatServiceImpl ï¼Œå®ç°æ–¹æ³•</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">     * æ ¹æ®çˆ¶çº§IDæŸ¥è¯¢åˆ†ç±»åˆ—è¡¨
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">     *
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">     * @param parentId
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">     * @return
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> List<span style="color:#000;font-weight:bold">&lt;</span>ItemCat<span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#900;font-weight:bold">findByParentId</span><span style="color:#000;font-weight:bold">(</span>Long parentId<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        ItemCat itemCat <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> ItemCat<span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>        itemCat<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setParentId</span><span style="color:#000;font-weight:bold">(</span>parentId<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        QueryWrapper<span style="color:#000;font-weight:bold">&lt;</span>ItemCat<span style="color:#000;font-weight:bold">&gt;</span> queryWrapper <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">createQueryWrapper</span><span style="color:#000;font-weight:bold">(</span>itemCat<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">list</span><span style="color:#000;font-weight:bold">(</span>queryWrapper<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>ï¼ˆ3ï¼‰ä¿®æ”¹ItemCatController.java</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@ApiOperation</span><span style="color:#000;font-weight:bold">(</span>value <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;æ ¹æ®çˆ¶çº§IDæŸ¥è¯¢ItemCat&#34;</span><span style="color:#000;font-weight:bold">,</span>notes <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;æ ¹æ®çˆ¶çº§IDæŸ¥è¯¢ItemCat&#34;</span><span style="color:#000;font-weight:bold">,</span>tags <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">{</span><span style="color:#d14">&#34;ItemCatController&#34;</span><span style="color:#000;font-weight:bold">})</span>
</span></span><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@GetMapping</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;/findByParentId&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> Result<span style="color:#000;font-weight:bold">&lt;</span>List<span style="color:#000;font-weight:bold">&lt;</span>ItemCat<span style="color:#000;font-weight:bold">&gt;&gt;</span> <span style="color:#900;font-weight:bold">findByParentId</span><span style="color:#000;font-weight:bold">(</span>Long parentId<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        List<span style="color:#000;font-weight:bold">&lt;</span>ItemCat<span style="color:#000;font-weight:bold">&gt;</span> list <span style="color:#000;font-weight:bold">=</span> itemCatService<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">findByParentId</span><span style="color:#000;font-weight:bold">(</span>parentId<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">new</span> Result<span style="color:#000;font-weight:bold">&lt;</span>List<span style="color:#000;font-weight:bold">&lt;</span>ItemCat<span style="color:#000;font-weight:bold">&gt;&gt;(</span><span style="color:#000;font-weight:bold">true</span><span style="color:#000;font-weight:bold">,</span> StatusCode<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">OK</span><span style="color:#000;font-weight:bold">,</span><span style="color:#d14">&#34;æŸ¥è¯¢æˆåŠŸ&#34;</span><span style="color:#000;font-weight:bold">,</span>list<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h2 id="4-æ–°å¢å•†å“åˆ†ç±»å­¦å‘˜å®ç°">4 æ–°å¢å•†å“åˆ†ç±»ï¼ˆå­¦å‘˜å®ç°ï¼‰</h2>
<h4 id="41æ–°å¢å•†å“åˆ†ç±»--å®ç°æ¨¡æ¿ä¸‹æ‹‰åˆ—è¡¨å­¦å‘˜å®ç°">4.1æ–°å¢å•†å“åˆ†ç±»&ndash;å®ç°æ¨¡æ¿ä¸‹æ‹‰åˆ—è¡¨ï¼ˆå­¦å‘˜å®ç°ï¼‰</h4>
<h2 id="5-ä¿®æ”¹å•†å“åˆ†ç±»å­¦å‘˜å®ç°">5 ä¿®æ”¹å•†å“åˆ†ç±»ï¼ˆå­¦å‘˜å®ç°ï¼‰</h2>
<h2 id="6-åˆ é™¤å•†å“åˆ†ç±»å­¦å‘˜å®ç°">6 åˆ é™¤å•†å“åˆ†ç±»ï¼ˆå­¦å‘˜å®ç°ï¼‰</h2>
<h1 id="å…­-ç”µå•†æ¦‚å¿µåŠè¡¨ç»“æ„åˆ†æ">å…­ ç”µå•†æ¦‚å¿µåŠè¡¨ç»“æ„åˆ†æ</h1>
<h2 id="1-spuä¸skuæ¦‚å¿µ">1. SPUä¸SKUæ¦‚å¿µ</h2>
<p><strong>SPU = Standard Product Unit Â ï¼ˆæ ‡å‡†äº§å“å•ä½ï¼‰</strong></p>
<ul>
<li>
<p>æ¦‚å¿µ : SPU æ˜¯å•†å“ä¿¡æ¯èšåˆçš„æœ€å°å•ä½ï¼Œæ˜¯ä¸€ç»„å¯å¤ç”¨ã€æ˜“æ£€ç´¢çš„æ ‡å‡†åŒ–ä¿¡æ¯çš„é›†åˆï¼Œè¯¥é›†åˆæè¿°äº†ä¸€ä¸ªäº§å“çš„ç‰¹æ€§ã€‚</p>
</li>
<li>
<p>é€šä¿—ç‚¹è®²ï¼Œå±æ€§å€¼ã€ç‰¹æ€§ç›¸åŒçš„è´§å“å°±å¯ä»¥ç§°ä¸ºä¸€ä¸ª SPU</p>
<p>==åŒæ¬¾å•†å“çš„å…¬å…±å±æ€§æŠ½å–==</p>
<p>ä¾‹å¦‚ï¼š
<strong>Iphone12å°±æ˜¯ä¸€ä¸ªSPUï¼Œä¸å•†å®¶ï¼Œä¸é¢œè‰²ã€æ¬¾å¼ã€å¥—é¤éƒ½æ— å…³</strong></p>
</li>
</ul>
<p><strong>SKU = stock keeping unit( åº“å­˜é‡å•ä½)</strong></p>
<ul>
<li>
<p>SKU å³åº“å­˜è¿›å‡ºè®¡é‡çš„å•ä½ï¼Œ å¯ä»¥æ˜¯ä»¥ä»¶ã€ç›’ã€æ‰˜ç›˜ç­‰ä¸ºå•ä½ã€‚</p>
</li>
<li>
<p>SKU æ˜¯ç‰©ç†ä¸Šä¸å¯åˆ†å‰²çš„æœ€å°å­˜è´§å•å…ƒã€‚åœ¨ä½¿ç”¨æ—¶è¦æ ¹æ®ä¸åŒä¸šæ€ï¼Œä¸åŒç®¡ç†æ¨¡å¼æ¥å¤„ç†ã€‚</p>
</li>
<li>
<p>åœ¨æœè£…ã€é‹ç±»å•†å“ä¸­ä½¿ç”¨æœ€å¤šæœ€æ™®éã€‚</p>
<p>==æŸä¸ªåº“å­˜å•ä½çš„å•†å“ç‹¬æœ‰å±æ€§(æŸä¸ªå•†å“çš„ç‹¬æœ‰å±æ€§)==</p>
<p>ä¾‹å¦‚ï¼š<strong>Iphone12 é»‘è‰² 128G å…¨ç½‘é€š å°±æ˜¯ä¸€ä¸ª SKU</strong></p>
</li>
</ul>
<h2 id="2-è¡¨ç»“æ„åˆ†æ-3">2 è¡¨ç»“æ„åˆ†æ</h2>
<p>Tb_goods å•†å“è¡¨
<img src="/posts/project-0/20220527221560/image-20220527221924495.png"
    
    
    
    loading="lazy"
    
    
></p>
<p>Tb_goods_desc å•†å“æ‰©å±•ä¿¡æ¯è¡¨
<img src="/posts/project-0/20220527221560/image-20220527221930115.png"
    
    
    
    loading="lazy"
    
    
></p>
<p>Tb_item  SKUè¡¨
<img src="/posts/project-0/20220527221560/image-20220527222005089.png"
    
    
    
    loading="lazy"
    
    
></p>
<h1 id="ä¸ƒ--æ–°å¢å’Œä¿®æ”¹å•†å“">ä¸ƒ  æ–°å¢å’Œä¿®æ”¹å•†å“</h1>
<h2 id="1-éœ€æ±‚åˆ†æ-3">1 éœ€æ±‚åˆ†æ</h2>
<p>å®ç°å•†å“çš„æ–°å¢ä¸ä¿®æ”¹åŠŸèƒ½ã€‚</p>
<p>(1)å…ˆé€‰æ‹©æ·»åŠ çš„å•†å“æ‰€å±åˆ†ç±»ï¼Œé€‰æ‹©å…³è”å“ç‰Œï¼Œå¹¶å¡«å†™ç›¸å…³ä¿¡æ¯
<img src="/posts/project-0/20220527221560/image-20220527222035594.png"
    
    
    
    loading="lazy"
    
    
></p>
<p>ï¼ˆ2)ä¸Šä¼ å›¾ç‰‡ä»¥åŠå¡«å†™å…³è”æ‰©å±•å±æ€§çš„ä¿¡æ¯
<img src="/posts/project-0/20220527221560/image-20220527222041118.png"
    
    
    
    loading="lazy"
    
    
></p>
<p><img src="/posts/project-0/20220527221560/image-20220527222047431.png"
    
    
    
    loading="lazy"
    
    
></p>
<p>(3)å¡«å†™SKUä¿¡æ¯
<img src="/posts/project-0/20220527221560/image-20220527222054045.png"
    
    
    
    loading="lazy"
    
    
></p>
<h2 id="2-å®ç°æ€è·¯">2 å®ç°æ€è·¯</h2>
<p>å‰ç«¯ä¼ é€’ç»™åç«¯çš„æ•°æ®æ ¼å¼ æ˜¯ä¸€ä¸ªspuå¯¹è±¡å’Œskuåˆ—è¡¨ç»„æˆçš„å¯¹è±¡,å¦‚ä¸‹å›¾:
<img src="/posts/project-0/20220527221560/image-20220527222101710.png"
    
    
    
    loading="lazy"
    
    
></p>
<p>ä¸Šå›¾JSONæ•°æ®å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#000080">&#34;goods&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&#34;brandId&#34;</span>: <span style="color:#099">1</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&#34;caption&#34;</span>: <span style="color:#d14">&#34;æµ‹è¯•å•†å“01å‰¯æ ‡é¢˜&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&#34;category1Id&#34;</span>: <span style="color:#099">558</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&#34;category2Id&#34;</span>: <span style="color:#099">559</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&#34;category3Id&#34;</span>: <span style="color:#099">560</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&#34;goodsName&#34;</span>: <span style="color:#d14">&#34;æµ‹è¯•å•†å“01&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&#34;isEnableSpec&#34;</span>: <span style="color:#d14">&#34;1&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&#34;price&#34;</span>: <span style="color:#d14">&#34;1000&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&#34;typeTemplateId&#34;</span>: <span style="color:#099">35</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#000080">&#34;goodsDesc&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&#34;customAttributeItems&#34;</span>: <span style="color:#d14">&#34;[{&#34;</span><span style="color:#a61717;background-color:#e3d2d2">text</span><span style="color:#d14">&#34;:&#34;</span><span style="color:#a61717;background-color:#e3d2d2">å†…å­˜å¤§å°</span><span style="color:#d14">&#34;,&#34;</span><span style="color:#a61717;background-color:#e3d2d2">value</span><span style="color:#d14">&#34;:&#34;</span><span style="color:#099">16</span><span style="color:#a61717;background-color:#e3d2d2">G</span><span style="color:#d14">&#34;},{&#34;</span><span style="color:#a61717;background-color:#e3d2d2">text</span><span style="color:#d14">&#34;:&#34;</span><span style="color:#a61717;background-color:#e3d2d2">é¢œè‰²</span><span style="color:#d14">&#34;,&#34;</span><span style="color:#a61717;background-color:#e3d2d2">value</span><span style="color:#d14">&#34;:&#34;</span><span style="color:#a61717;background-color:#e3d2d2">ç»¿è‰²</span><span style="color:#d14">&#34;}]&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&#34;introduction&#34;</span>: <span style="color:#d14">&#34;&lt;span style=&#34;</span><span style="color:#a61717;background-color:#e3d2d2">color</span>:<span style="color:#a61717;background-color:#e3d2d2">#</span><span style="color:#099">666666</span><span style="color:#a61717;background-color:#e3d2d2">;font-family</span>:<span style="color:#a61717;background-color:#e3d2d2">tahoma</span>, <span style="color:#a61717;background-color:#e3d2d2">arial,</span> <span style="color:#a61717;background-color:#e3d2d2">&amp;quot;font-size:14px;background-color:#FFFFFF;</span><span style="color:#000080">&#34;&gt;æµ‹è¯•æè¿°&lt;/span&gt;&lt;br /&gt;&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&#34;itemImages&#34;</span>: <span style="color:#d14">&#34;[{&#34;</span><span style="color:#a61717;background-color:#e3d2d2">color</span><span style="color:#d14">&#34;:&#34;</span><span style="color:#a61717;background-color:#e3d2d2">çº¢è‰²</span><span style="color:#d14">&#34;,&#34;</span><span style="color:#a61717;background-color:#e3d2d2">url</span><span style="color:#d14">&#34;:&#34;</span><span style="color:#a61717;background-color:#e3d2d2">http</span>:<span style="color:#998;font-style:italic">//192.168.188.146/group1/M00/00/00/wKi8kly5gXGAZ9X_AAQQPbR_emI045.png&#34;},{&#34;color&#34;:&#34;ç»¿è‰²&#34;,&#34;url&#34;:&#34;http://192.168.188.146/group1/M00/00/00/wKi8kly5gXmANvndAAI1bFuIUJE180.jpg&#34;}]&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#d14">&#34;packageList&#34;</span>: <span style="color:#d14">&#34;æµ‹è¯•åŒ…è£…&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&#34;saleService&#34;</span>: <span style="color:#d14">&#34;æµ‹è¯•å”®åæœåŠ¡&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&#34;specificationItems&#34;</span>: <span style="color:#d14">&#34;[{&#34;</span><span style="color:#a61717;background-color:#e3d2d2">attributeValue</span><span style="color:#d14">&#34;:[&#34;</span><span style="color:#a61717;background-color:#e3d2d2">ç§»åŠ¨</span><span style="color:#099">3</span><span style="color:#a61717;background-color:#e3d2d2">G</span><span style="color:#d14">&#34;,&#34;</span><span style="color:#a61717;background-color:#e3d2d2">ç§»åŠ¨</span><span style="color:#099">4</span><span style="color:#a61717;background-color:#e3d2d2">G</span><span style="color:#d14">&#34;],&#34;</span><span style="color:#a61717;background-color:#e3d2d2">attributeName</span><span style="color:#d14">&#34;:&#34;</span><span style="color:#a61717;background-color:#e3d2d2">ç½‘ç»œ</span><span style="color:#d14">&#34;},{&#34;</span><span style="color:#a61717;background-color:#e3d2d2">attributeValue</span><span style="color:#d14">&#34;:[&#34;</span><span style="color:#099">16</span><span style="color:#a61717;background-color:#e3d2d2">G</span><span style="color:#d14">&#34;,&#34;</span><span style="color:#099">32</span><span style="color:#a61717;background-color:#e3d2d2">G</span><span style="color:#d14">&#34;],&#34;</span><span style="color:#a61717;background-color:#e3d2d2">attributeName</span><span style="color:#d14">&#34;:&#34;</span><span style="color:#a61717;background-color:#e3d2d2">æœºèº«å†…å­˜</span><span style="color:#d14">&#34;}]&#34;</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#000080">&#34;itemList&#34;</span>: [
</span></span><span style="display:flex;"><span>    {     
</span></span><span style="display:flex;"><span>      <span style="color:#000080">&#34;isDefault&#34;</span>: <span style="color:#d14">&#34;1&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#000080">&#34;num&#34;</span>: <span style="color:#099">9999</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#000080">&#34;price&#34;</span>: <span style="color:#d14">&#34;1000&#34;</span>, 
</span></span><span style="display:flex;"><span>      <span style="color:#000080">&#34;spec&#34;</span>: <span style="color:#d14">&#34;{&#34;</span><span style="color:#a61717;background-color:#e3d2d2">æœºèº«å†…å­˜</span><span style="color:#d14">&#34;:&#34;</span><span style="color:#099">16</span><span style="color:#a61717;background-color:#e3d2d2">G</span><span style="color:#d14">&#34;,&#34;</span><span style="color:#a61717;background-color:#e3d2d2">ç½‘ç»œ</span><span style="color:#d14">&#34;:&#34;</span><span style="color:#a61717;background-color:#e3d2d2">ç§»åŠ¨</span><span style="color:#099">3</span><span style="color:#a61717;background-color:#e3d2d2">G</span><span style="color:#d14">&#34;}&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#000080">&#34;status&#34;</span>: <span style="color:#d14">&#34;1&#34;</span>,
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>	{     
</span></span><span style="display:flex;"><span>      <span style="color:#000080">&#34;isDefault&#34;</span>: <span style="color:#d14">&#34;0&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#000080">&#34;num&#34;</span>: <span style="color:#099">9999</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#000080">&#34;price&#34;</span>: <span style="color:#d14">&#34;2000&#34;</span>, 
</span></span><span style="display:flex;"><span>      <span style="color:#000080">&#34;spec&#34;</span>: <span style="color:#d14">&#34;{&#34;</span><span style="color:#a61717;background-color:#e3d2d2">æœºèº«å†…å­˜</span><span style="color:#d14">&#34;:&#34;</span><span style="color:#099">16</span><span style="color:#a61717;background-color:#e3d2d2">G</span><span style="color:#d14">&#34;,&#34;</span><span style="color:#a61717;background-color:#e3d2d2">ç½‘ç»œ</span><span style="color:#d14">&#34;:&#34;</span><span style="color:#a61717;background-color:#e3d2d2">ç§»åŠ¨</span><span style="color:#099">4</span><span style="color:#a61717;background-color:#e3d2d2">G</span><span style="color:#d14">&#34;}&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#000080">&#34;status&#34;</span>: <span style="color:#d14">&#34;1&#34;</span>,
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>	{     
</span></span><span style="display:flex;"><span>      <span style="color:#000080">&#34;isDefault&#34;</span>: <span style="color:#d14">&#34;0&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#000080">&#34;num&#34;</span>: <span style="color:#099">9999</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#000080">&#34;price&#34;</span>: <span style="color:#d14">&#34;2001&#34;</span>, 
</span></span><span style="display:flex;"><span>      <span style="color:#000080">&#34;spec&#34;</span>: <span style="color:#d14">&#34;{&#34;</span><span style="color:#a61717;background-color:#e3d2d2">æœºèº«å†…å­˜</span><span style="color:#d14">&#34;:&#34;</span><span style="color:#099">24</span><span style="color:#a61717;background-color:#e3d2d2">G</span><span style="color:#d14">&#34;,&#34;</span><span style="color:#a61717;background-color:#e3d2d2">ç½‘ç»œ</span><span style="color:#d14">&#34;:&#34;</span><span style="color:#a61717;background-color:#e3d2d2">ç§»åŠ¨</span><span style="color:#099">3</span><span style="color:#a61717;background-color:#e3d2d2">G</span><span style="color:#d14">&#34;}&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#000080">&#34;status&#34;</span>: <span style="color:#d14">&#34;1&#34;</span>,
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>	{     
</span></span><span style="display:flex;"><span>      <span style="color:#000080">&#34;isDefault&#34;</span>: <span style="color:#d14">&#34;0&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#000080">&#34;num&#34;</span>: <span style="color:#099">9999</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#000080">&#34;price&#34;</span>: <span style="color:#d14">&#34;2002&#34;</span>, 
</span></span><span style="display:flex;"><span>      <span style="color:#000080">&#34;spec&#34;</span>: <span style="color:#d14">&#34;{&#34;</span><span style="color:#a61717;background-color:#e3d2d2">æœºèº«å†…å­˜</span><span style="color:#d14">&#34;:&#34;</span><span style="color:#099">24</span><span style="color:#a61717;background-color:#e3d2d2">G</span><span style="color:#d14">&#34;,&#34;</span><span style="color:#a61717;background-color:#e3d2d2">ç½‘ç»œ</span><span style="color:#d14">&#34;:&#34;</span><span style="color:#a61717;background-color:#e3d2d2">ç§»åŠ¨</span><span style="color:#099">4</span><span style="color:#a61717;background-color:#e3d2d2">G</span><span style="color:#d14">&#34;}&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#000080">&#34;status&#34;</span>: <span style="color:#d14">&#34;1&#34;</span>,
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  ]
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="3-æŸ¥è¯¢åˆ†ç±»çº§è”æ•°æ®">3 æŸ¥è¯¢åˆ†ç±»çº§è”æ•°æ®</h2>
<h3 id="31-éœ€æ±‚åˆ†æ">3.1 éœ€æ±‚åˆ†æ</h3>
<p><img src="/posts/project-0/20220527221560/image-20220527222111582.png"
    
    
    
    loading="lazy"
    
    
></p>
<p>åœ¨å®ç°å•†å“å¢åŠ ä¹‹å‰ï¼Œéœ€è¦å…ˆé€‰æ‹©å¯¹åº”çš„åˆ†ç±»ï¼Œé€‰æ‹©åˆ†ç±»çš„æ—¶å€™ï¼Œé¦–é€‰é€‰æ‹©ä¸€çº§åˆ†ç±»ï¼Œç„¶åæ ¹æ®é€‰ä¸­çš„åˆ†ç±»ï¼Œå°†é€‰ä¸­çš„åˆ†ç±»ä½œä¸ºæŸ¥è¯¢çš„çˆ¶IDï¼Œå†æŸ¥è¯¢å¯¹åº”çš„å­åˆ†ç±»é›†åˆã€‚è¿™å—åœ¨æ˜¨å¤©çš„ä»£ç ä¸­å·²ç»æœ‰ä¸€ä¸ªæ ¹æ®çˆ¶èŠ‚ç‚¹IDæŸ¥è¯¢åˆ†ç±»ä¿¡æ¯çš„æ–¹æ³•ï¼Œå‚è€ƒfindByPrantIdæ–¹æ³•ï¼Œé¦–å…ˆæŸ¥è¯¢é¡¶çº§åˆ†ç±»ï¼Œä¹Ÿå°±æ˜¯pid=0ï¼Œç„¶åæ ¹æ®ç”¨æˆ·é€‰æ‹©çš„åˆ†ç±»ï¼Œå°†é€‰æ‹©çš„åˆ†ç±»ä½œä¸ºpidæŸ¥è¯¢å­åˆ†ç±»ã€‚</p>
<h3 id="32-ä»£ç å®ç°">3.2 ä»£ç å®ç°</h3>
<p>(1)Daoå®ç°ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">interface</span> <span style="color:#458;font-weight:bold">ItemCatMapper</span> <span style="color:#000;font-weight:bold">extends</span> BaseMapper<span style="color:#000;font-weight:bold">&lt;</span>ItemCat<span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>(2)Serviceå±‚ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">     * æ ¹æ®çˆ¶çº§IDæŸ¥è¯¢åˆ†ç±»åˆ—è¡¨
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">     * @param parentId
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">     * @return
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> List<span style="color:#000;font-weight:bold">&lt;</span>ItemCat<span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#900;font-weight:bold">findByParentId</span><span style="color:#000;font-weight:bold">(</span>Long parentId<span style="color:#000;font-weight:bold">);</span>
</span></span></code></pre></div><p>æœåŠ¡å®ç°ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">     * æ ¹æ®çˆ¶çº§IDæŸ¥è¯¢åˆ†ç±»åˆ—è¡¨
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">     *
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">     * @param parentId
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">     * @return
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> List<span style="color:#000;font-weight:bold">&lt;</span>ItemCat<span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#900;font-weight:bold">findByParentId</span><span style="color:#000;font-weight:bold">(</span>Long parentId<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        ItemCat itemCat <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> ItemCat<span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>        itemCat<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setParentId</span><span style="color:#000;font-weight:bold">(</span>parentId<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        QueryWrapper<span style="color:#000;font-weight:bold">&lt;</span>ItemCat<span style="color:#000;font-weight:bold">&gt;</span> queryWrapper <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">createQueryWrapper</span><span style="color:#000;font-weight:bold">(</span>itemCat<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">list</span><span style="color:#000;font-weight:bold">(</span>queryWrapper<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>(3)Controllerå±‚ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@ApiOperation</span><span style="color:#000;font-weight:bold">(</span>value <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;æ ¹æ®çˆ¶çº§IDæŸ¥è¯¢ItemCat&#34;</span><span style="color:#000;font-weight:bold">,</span>notes <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;æ ¹æ®çˆ¶çº§IDæŸ¥è¯¢ItemCat&#34;</span><span style="color:#000;font-weight:bold">,</span>tags <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">{</span><span style="color:#d14">&#34;ItemCatController&#34;</span><span style="color:#000;font-weight:bold">})</span>
</span></span><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@GetMapping</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;/findByParentId&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> Result<span style="color:#000;font-weight:bold">&lt;</span>List<span style="color:#000;font-weight:bold">&lt;</span>ItemCat<span style="color:#000;font-weight:bold">&gt;&gt;</span> <span style="color:#900;font-weight:bold">findByParentId</span><span style="color:#000;font-weight:bold">(</span>Long parentId<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>       List<span style="color:#000;font-weight:bold">&lt;</span>ItemCat<span style="color:#000;font-weight:bold">&gt;</span> list <span style="color:#000;font-weight:bold">=</span> itemCatService<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">findByParentId</span><span style="color:#000;font-weight:bold">(</span>parentId<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>       <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">new</span> Result<span style="color:#000;font-weight:bold">&lt;</span>List<span style="color:#000;font-weight:bold">&lt;</span>ItemCat<span style="color:#000;font-weight:bold">&gt;&gt;(</span><span style="color:#000;font-weight:bold">true</span><span style="color:#000;font-weight:bold">,</span> StatusCode<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">OK</span><span style="color:#000;font-weight:bold">,</span><span style="color:#d14">&#34;æŸ¥è¯¢æˆåŠŸ&#34;</span><span style="color:#000;font-weight:bold">,</span>list<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h2 id="4-æŸ¥è¯¢åˆ†ç±»ä¸‹å“ç‰Œæ•°æ®">4 æŸ¥è¯¢åˆ†ç±»ä¸‹å“ç‰Œæ•°æ®</h2>
<h3 id="41-åˆ†æ">4.1 åˆ†æ</h3>
<p><img src="/posts/project-0/20220527221560/image-20220527222120962.png"
    
    
    
    loading="lazy"
    
    
></p>
<p>ç”¨æˆ·æ¯æ¬¡é€‰æ‹©äº†åˆ†ç±»ä¹‹åï¼Œå¯ä»¥æ ¹æ®ç”¨æˆ·é€‰æ‹©çš„åˆ†ç±»åˆ°<code>tb_item_cat</code>è¡¨ä¸­æ ¹æ®æ¨¡æ¿IDå…³è”åˆ°<code>tb_type_template</code>è¡¨ä¸­æŸ¥è¯¢å“ç‰Œï¼Œå†å°†å“ç‰Œé›†åˆæ•°æ®æ”¾åˆ°å‰ç«¯æ¥å±•ç¤ºå³å¯å®ç°ä¸Šè¿°åŠŸèƒ½ã€‚</p>
<h3 id="42-ä»£ç å®ç°">4.2 ä»£ç å®ç°</h3>
<p>(1)Daoå®ç°</p>
<p><code>com.offcn.sellergoods.dao.TypeTemplateMapper</code>ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">interface</span> <span style="color:#458;font-weight:bold">TypeTemplateMapper</span> <span style="color:#000;font-weight:bold">extends</span> BaseMapper<span style="color:#000;font-weight:bold">&lt;</span>TypeTemplate<span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>(2)Serviceå±‚ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#998;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">* æ ¹æ®IDæŸ¥è¯¢TypeTemplate
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">* @param id
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">* @return
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">*/</span>
</span></span><span style="display:flex;"><span>TypeTemplate <span style="color:#900;font-weight:bold">findById</span><span style="color:#000;font-weight:bold">(</span>Long id<span style="color:#000;font-weight:bold">);</span>
</span></span></code></pre></div><p>æœåŠ¡å®ç°ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#998;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">* æ ¹æ®IDæŸ¥è¯¢TypeTemplate
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">* @param id
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">* @return
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">*/</span>
</span></span><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> TypeTemplate <span style="color:#900;font-weight:bold">findById</span><span style="color:#000;font-weight:bold">(</span>Long id<span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>      <span style="color:#000;font-weight:bold">return</span>  <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getById</span><span style="color:#000;font-weight:bold">(</span>id<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>(3)Controllerå±‚ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#998;font-style:italic">/***
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">* æ ¹æ®IDæŸ¥è¯¢TypeTemplateæ•°æ®
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">* @param id
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">* @return
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">*/</span>
</span></span><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@ApiOperation</span><span style="color:#000;font-weight:bold">(</span>value <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;TypeTemplateæ ¹æ®IDæŸ¥è¯¢&#34;</span><span style="color:#000;font-weight:bold">,</span>notes <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;æ ¹æ®IDæŸ¥è¯¢TypeTemplateæ–¹æ³•è¯¦æƒ…&#34;</span><span style="color:#000;font-weight:bold">,</span>tags <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">{</span><span style="color:#d14">&#34;TypeTemplateController&#34;</span><span style="color:#000;font-weight:bold">})</span>
</span></span><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@ApiImplicitParam</span><span style="color:#000;font-weight:bold">(</span>paramType <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;path&#34;</span><span style="color:#000;font-weight:bold">,</span> name <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;id&#34;</span><span style="color:#000;font-weight:bold">,</span> value <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;ä¸»é”®ID&#34;</span><span style="color:#000;font-weight:bold">,</span> required <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">true</span><span style="color:#000;font-weight:bold">,</span> dataType <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;Long&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@GetMapping</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;/{id}&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> Result<span style="color:#000;font-weight:bold">&lt;</span>TypeTemplate<span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#900;font-weight:bold">findById</span><span style="color:#000;font-weight:bold">(</span><span style="color:#3c5d5d;font-weight:bold">@PathVariable</span> Long id<span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">//è°ƒç”¨TypeTemplateServiceå®ç°æ ¹æ®ä¸»é”®æŸ¥è¯¢TypeTemplate
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        TypeTemplate typeTemplate <span style="color:#000;font-weight:bold">=</span> typeTemplateService<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">findById</span><span style="color:#000;font-weight:bold">(</span>id<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">new</span> Result<span style="color:#000;font-weight:bold">&lt;</span>TypeTemplate<span style="color:#000;font-weight:bold">&gt;(</span><span style="color:#000;font-weight:bold">true</span><span style="color:#000;font-weight:bold">,</span>StatusCode<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">OK</span><span style="color:#000;font-weight:bold">,</span><span style="color:#d14">&#34;æŸ¥è¯¢æˆåŠŸ&#34;</span><span style="color:#000;font-weight:bold">,</span>typeTemplate<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h2 id="5-è§„æ ¼æŸ¥è¯¢">5 è§„æ ¼æŸ¥è¯¢</h2>
<h3 id="51-åˆ†æ">5.1 åˆ†æ</h3>
<p><img src="/posts/project-0/20220527221560/image-20220527222130769.png"
    
    
    
    loading="lazy"
    
    
></p>
<p>ç”¨æˆ·é€‰æ‹©åˆ†ç±»åï¼Œéœ€è¦æ ¹æ®æ‰€é€‰åˆ†ç±»å¯¹åº”çš„æ¨¡æ¿IDæŸ¥è¯¢å¯¹åº”çš„è§„æ ¼ä»¥åŠè§„æ ¼é€‰é¡¹ï¼Œéœ€è¦å•ç‹¬ç¼–å†™æ–¹æ³•æŸ¥è¯¢å‡ºè§„æ ¼é€‰é¡¹ã€‚
<img src="/posts/project-0/20220527221560/image-20220527222136681.png"
    
    
    
    loading="lazy"
    
    
></p>
<p>ä¸Šå›¾JSONæ•°æ®å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	<span style="color:#000080">&#34;options&#34;</span>: [
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>          <span style="color:#000080">&#34;id&#34;</span>: <span style="color:#099">114</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#000080">&#34;optionName&#34;</span>: <span style="color:#d14">&#34;ç§»åŠ¨2G&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#000080">&#34;specId&#34;</span>: <span style="color:#099">27</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#000080">&#34;orders&#34;</span>: <span style="color:#099">7</span>
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>          <span style="color:#000080">&#34;id&#34;</span>: <span style="color:#099">115</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#000080">&#34;optionName&#34;</span>: <span style="color:#d14">&#34;è”é€š2G&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#000080">&#34;specId&#34;</span>: <span style="color:#099">27</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#000080">&#34;orders&#34;</span>: <span style="color:#099">8</span>
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>          <span style="color:#000080">&#34;id&#34;</span>: <span style="color:#099">116</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#000080">&#34;optionName&#34;</span>: <span style="color:#d14">&#34;ç”µä¿¡2G&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#000080">&#34;specId&#34;</span>: <span style="color:#099">27</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#000080">&#34;orders&#34;</span>: <span style="color:#099">9</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>      ],
</span></span><span style="display:flex;"><span>      <span style="color:#000080">&#34;id&#34;</span>: <span style="color:#099">27</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#000080">&#34;text&#34;</span>: <span style="color:#d14">&#34;ç½‘ç»œ&#34;</span>
</span></span><span style="display:flex;"><span>    }<span style="color:#a61717;background-color:#e3d2d2">,</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>      <span style="color:#000080">&#34;options&#34;</span>: [
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>          <span style="color:#000080">&#34;id&#34;</span>: <span style="color:#099">118</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#000080">&#34;optionName&#34;</span>: <span style="color:#d14">&#34;16G&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#000080">&#34;specId&#34;</span>: <span style="color:#099">32</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#000080">&#34;orders&#34;</span>: <span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>          <span style="color:#000080">&#34;id&#34;</span>: <span style="color:#099">119</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#000080">&#34;optionName&#34;</span>: <span style="color:#d14">&#34;32G&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#000080">&#34;specId&#34;</span>: <span style="color:#099">32</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#000080">&#34;orders&#34;</span>: <span style="color:#099">2</span>
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>          <span style="color:#000080">&#34;id&#34;</span>: <span style="color:#099">120</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#000080">&#34;optionName&#34;</span>: <span style="color:#d14">&#34;64G&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#000080">&#34;specId&#34;</span>: <span style="color:#099">32</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#000080">&#34;orders&#34;</span>: <span style="color:#099">3</span>
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>          <span style="color:#000080">&#34;id&#34;</span>: <span style="color:#099">121</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#000080">&#34;optionName&#34;</span>: <span style="color:#d14">&#34;128G&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#000080">&#34;specId&#34;</span>: <span style="color:#099">32</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#000080">&#34;orders&#34;</span>: <span style="color:#099">4</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>      ],
</span></span><span style="display:flex;"><span>      <span style="color:#000080">&#34;id&#34;</span>: <span style="color:#099">32</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#000080">&#34;text&#34;</span>: <span style="color:#d14">&#34;æœºèº«å†…å­˜&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="52-ä»£ç å®ç°">5.2 ä»£ç å®ç°</h3>
<p>(1)Serviceå±‚</p>
<p>ä¿®æ”¹<code>com.offcn.sellergoods.service.TypeTemplateService</code>æ·»åŠ æ ¹æ®åˆ†ç±»IDæŸ¥è¯¢è§„æ ¼åˆ—è¡¨ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#998;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * æ ¹æ®æ¨¡æ¿IDæŸ¥è¯¢è§„æ ¼åˆ—è¡¨
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * @param typeId
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * @return
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> List<span style="color:#000;font-weight:bold">&lt;</span>Map<span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#900;font-weight:bold">findSpecList</span><span style="color:#000;font-weight:bold">(</span>Long typeId<span style="color:#000;font-weight:bold">);</span>
</span></span></code></pre></div><p>ï¼ˆ2ï¼‰æœåŠ¡å®ç°ï¼Œä¿®æ”¹<code>com.offcn.sellergoods.service.impl.TypeTemplateService</code>æ·»åŠ ä¸Šé¢æ–¹æ³•çš„å®ç°ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@Autowired</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">private</span> SpecificationOptionMapper specificationOptionMapper<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * æ ¹æ®æ¨¡æ¿IDæŸ¥è¯¢è§„æ ¼åˆ—è¡¨
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> *
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * @param typeId
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * @return
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> List<span style="color:#000;font-weight:bold">&lt;</span>Map<span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#900;font-weight:bold">findSpecList</span><span style="color:#000;font-weight:bold">(</span>Long typeId<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//1.æ ¹æ®æ¨¡æ¿IDæŸ¥è¯¢æ¨¡æ¿å¯¹è±¡
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    TypeTemplate typeTemplate <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">findById</span><span style="color:#000;font-weight:bold">(</span>typeId<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//2.å°†è§„æ ¼åç§°JSONç»“æ„çš„å­—ç¬¦ä¸²è½¬æ¢æˆJSONå¯¹è±¡   [{&#34;id&#34;:27,&#34;text&#34;:&#34;ç½‘ç»œ&#34;},{&#34;id&#34;:32,&#34;text&#34;:&#34;æœºèº«å†…å­˜&#34;}]
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    List<span style="color:#000;font-weight:bold">&lt;</span>Map<span style="color:#000;font-weight:bold">&gt;</span> specList <span style="color:#000;font-weight:bold">=</span> JSON<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">parseArray</span><span style="color:#000;font-weight:bold">(</span>typeTemplate<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getSpecIds</span><span style="color:#000;font-weight:bold">(),</span> Map<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">class</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(!</span>CollectionUtils<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">isEmpty</span><span style="color:#000;font-weight:bold">(</span>specList<span style="color:#000;font-weight:bold">))</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span>Map map <span style="color:#000;font-weight:bold">:</span> specList<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>            Long specId <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> Long<span style="color:#000;font-weight:bold">((</span>Integer<span style="color:#000;font-weight:bold">)</span> map<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">get</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;id&#34;</span><span style="color:#000;font-weight:bold">));</span>    <span style="color:#998;font-style:italic">//Mapé›†åˆä¸­å–å¾—æ•°å€¼ç±»å‹çš„å€¼é»˜è®¤æ˜¯æ•´å‹
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            <span style="color:#998;font-style:italic">//3.æ ¹æ®è§„æ ¼IDæŸ¥è¯¢è§„æ ¼é€‰é¡¹é›†åˆ
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            QueryWrapper<span style="color:#000;font-weight:bold">&lt;</span>SpecificationOption<span style="color:#000;font-weight:bold">&gt;</span> queryWrapper <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> QueryWrapper<span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            queryWrapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">eq</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;spec_id&#34;</span><span style="color:#000;font-weight:bold">,</span> specId<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>            List<span style="color:#000;font-weight:bold">&lt;</span>SpecificationOption<span style="color:#000;font-weight:bold">&gt;</span> specificationOptionList <span style="color:#000;font-weight:bold">=</span> specificationOptionMapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">selectList</span><span style="color:#000;font-weight:bold">(</span>queryWrapper<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#998;font-style:italic">//4.é‡æ–°å°†è§„æ ¼é€‰é¡¹é›†åˆè®¾ç½®å›JSONå¯¹è±¡ä¸­  {&#34;id&#34;:27,&#34;text&#34;:&#34;ç½‘ç»œ&#34;,&#34;options&#34;:[{},{},{}]}
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            map<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">put</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;options&#34;</span><span style="color:#000;font-weight:bold">,</span> specificationOptionList<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> specList<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>(3)Controllerå±‚</p>
<p>ä¿®æ”¹<code>com.offcn.sellergoods.controller.TypeTemplateController</code>æ·»åŠ æ ¹æ®åˆ†ç±»IDæŸ¥è¯¢è§„æ ¼æ•°æ®ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@ApiOperation</span><span style="color:#000;font-weight:bold">(</span>value <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;æŸ¥è¯¢è§„æ ¼åŠè§„æ ¼é€‰é¡¹ä¿¡æ¯&#34;</span><span style="color:#000;font-weight:bold">,</span>notes <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;æŸ¥è¯¢è§„æ ¼åŠè§„æ ¼é€‰é¡¹ä¿¡æ¯&#34;</span><span style="color:#000;font-weight:bold">,</span>tags <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">{</span><span style="color:#d14">&#34;TypeTemplateController&#34;</span><span style="color:#000;font-weight:bold">})</span>
</span></span><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@ApiImplicitParam</span><span style="color:#000;font-weight:bold">(</span>paramType <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;path&#34;</span><span style="color:#000;font-weight:bold">,</span> name <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;id&#34;</span><span style="color:#000;font-weight:bold">,</span> value <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;ä¸»é”®ID&#34;</span><span style="color:#000;font-weight:bold">,</span> required <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">true</span><span style="color:#000;font-weight:bold">,</span> dataType <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;Long&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@GetMapping</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;/findSpecList/{id}&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> Result<span style="color:#000;font-weight:bold">&lt;</span>List<span style="color:#000;font-weight:bold">&lt;</span>Map<span style="color:#000;font-weight:bold">&gt;&gt;</span> <span style="color:#900;font-weight:bold">findSpecList</span><span style="color:#000;font-weight:bold">(</span><span style="color:#3c5d5d;font-weight:bold">@PathVariable</span> Long id<span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    List<span style="color:#000;font-weight:bold">&lt;</span>Map<span style="color:#000;font-weight:bold">&gt;</span> list <span style="color:#000;font-weight:bold">=</span>  typeTemplateService<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">findSpecList</span><span style="color:#000;font-weight:bold">(</span>id<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">new</span> Result<span style="color:#000;font-weight:bold">&lt;</span>List<span style="color:#000;font-weight:bold">&lt;</span>Map<span style="color:#000;font-weight:bold">&gt;&gt;(</span><span style="color:#000;font-weight:bold">true</span><span style="color:#000;font-weight:bold">,</span> StatusCode<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">OK</span><span style="color:#000;font-weight:bold">,</span><span style="color:#d14">&#34;æŸ¥è¯¢æˆåŠŸ&#34;</span><span style="color:#000;font-weight:bold">,</span>list<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h2 id="6-spuskuä¿å­˜">6 SPU+SKUä¿å­˜</h2>
<h3 id="61-åˆ†æ">6.1 åˆ†æ</h3>
<p>ä¿å­˜å•†å“æ•°æ®çš„æ—¶å€™ï¼Œéœ€è¦ä¿å­˜Spuå’ŒSkuï¼Œä¸€ä¸ªSpuå¯¹åº”å¤šä¸ªSkuï¼Œæˆ‘ä»¬å¯ä»¥å…ˆæ„å»ºä¸€ä¸ªGoodså¯¹è±¡ï¼Œå°†<code>Spu</code>å’Œ<code>List&lt;Sku&gt;</code>ç»„åˆåˆ°ä¸€èµ·,å‰ç«¯å°†2è€…æ•°æ®æäº¤è¿‡æ¥ï¼Œå†å®ç°æ·»åŠ æ“ä½œã€‚</p>
<h3 id="62-ä»£ç å®ç°">6.2 ä»£ç å®ç°</h3>
<p>(1)Pojoæ”¹é€ </p>
<p>ä¿®æ”¹<code>dongyimai-sellergoods-service-api</code>å·¥ç¨‹åˆ›å»ºç»„åˆå®ä½“ç±»ï¼Œåˆ›å»ºcom.offcn.sellergoods.group.GoodsEntity,ä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">class</span> <span style="color:#458;font-weight:bold">GoodsEntity</span> <span style="color:#000;font-weight:bold">implements</span> Serializable <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">private</span> Goods goods<span style="color:#000;font-weight:bold">;</span>      <span style="color:#998;font-style:italic">//å•†å“ä¿¡æ¯ SPU
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">private</span> GoodsDesc goodsDesc<span style="color:#000;font-weight:bold">;</span>   <span style="color:#998;font-style:italic">//å•†å“æ‰©å±•ä¿¡æ¯
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">private</span> List<span style="color:#000;font-weight:bold">&lt;</span>Item<span style="color:#000;font-weight:bold">&gt;</span> itemList<span style="color:#000;font-weight:bold">;</span>   <span style="color:#998;font-style:italic">//å•†å“è¯¦æƒ… SKU
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//..get..set..toString
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>å› ä¸ºæ‰©å±•ä¿¡æ¯æ˜¯ä½¿ç”¨SPUçš„ä¸»é”®ï¼Œæ‰€ä»¥éœ€è¦ä¿®æ”¹æ‰©å±•ä¿¡æ¯çš„Pojoçš„IDç”Ÿæˆæ–¹å¼ä¸º<strong>input</strong>ç±»å‹ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@ApiModelProperty</span><span style="color:#000;font-weight:bold">(</span>value <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;SPU_ID&#34;</span><span style="color:#000;font-weight:bold">,</span>required <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">false</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@TableId</span><span style="color:#000;font-weight:bold">(</span>type <span style="color:#000;font-weight:bold">=</span> IdType<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">INPUT</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@TableField</span><span style="color:#000;font-weight:bold">(</span>value <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;goods_id&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">private</span> Long goodsId<span style="color:#000;font-weight:bold">;</span><span style="color:#998;font-style:italic">//SPU_ID
</span></span></span></code></pre></div><p>(2) ä¸šåŠ¡å±‚</p>
<p>ä¿®æ”¹com.offcn.sellergoods.service.GoodsServiceæ¥å£ï¼Œæ·»åŠ ä¿å­˜Goodsæ–¹æ³•ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#998;font-style:italic">/***
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * æ–°å¢Goods
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * @param goodsEntity
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">add</span><span style="color:#000;font-weight:bold">(</span>GoodsEntity goodsEntity<span style="color:#000;font-weight:bold">);</span>
</span></span></code></pre></div><p>ä¿®æ”¹com.offcn.sellergoods.service.impl.GoodsServiceImplç±»ï¼Œæ·»åŠ ä¿å­˜Goodsçš„æ–¹æ³•å®ç°ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@Autowired</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">private</span> GoodsMapper goodsMapper<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@Autowired</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">private</span> GoodsDescMapper goodsDescMapper<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@Autowired</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">private</span> ItemMapper itemMapper<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@Autowired</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">private</span> ItemCatMapper itemCatMapper<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@Autowired</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">private</span> BrandMapper brandMapper<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * å¢åŠ Goods
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> *
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * @param goods
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">add</span><span style="color:#000;font-weight:bold">(</span>GoodsEntity goodsEntity<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    goodsEntity<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getGoods</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">setAuditStatus</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;0&#34;</span><span style="color:#000;font-weight:bold">);</span>  <span style="color:#998;font-style:italic">//å®¡æ ¸çŠ¶æ€ æœªå®¡æ ¸
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#998;font-style:italic">//1.ä¿å­˜SPU å•†å“ä¿¡æ¯å¯¹è±¡
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    goodsMapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">insert</span><span style="color:#000;font-weight:bold">(</span>goodsEntity<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getGoods</span><span style="color:#000;font-weight:bold">());</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//2.è·å–å•†å“ä¿¡æ¯å¯¹è±¡ä¸»é”®ID ,å‘å•†å“æ‰©å±•ä¿¡æ¯å¯¹è±¡ä¸­è®¾ç½®ä¸»é”®
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    goodsEntity<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getGoodsDesc</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">setGoodsId</span><span style="color:#000;font-weight:bold">(</span>goodsEntity<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getGoods</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">getId</span><span style="color:#000;font-weight:bold">());</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//3.ä¿å­˜å•†å“æ‰©å±•ä¿¡æ¯
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    goodsDescMapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">insert</span><span style="color:#000;font-weight:bold">(</span>goodsEntity<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getGoodsDesc</span><span style="color:#000;font-weight:bold">());</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//4.ä¿å­˜SKU å•†å“è¯¦æƒ…ä¿¡æ¯
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;1&#34;</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">equals</span><span style="color:#000;font-weight:bold">(</span>goodsEntity<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getGoods</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">getIsEnableSpec</span><span style="color:#000;font-weight:bold">()))</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#998;font-style:italic">//5.ä¿å­˜SKU å•†å“è¯¦æƒ…ä¿¡æ¯
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            <span style="color:#000;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(!</span>CollectionUtils<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">isEmpty</span><span style="color:#000;font-weight:bold">(</span>goodsEntity<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getItemList</span><span style="color:#000;font-weight:bold">()))</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span>Item item <span style="color:#000;font-weight:bold">:</span> goodsEntity<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getItemList</span><span style="color:#000;font-weight:bold">())</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>                    String title <span style="color:#000;font-weight:bold">=</span> goodsEntity<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getGoods</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">getGoodsName</span><span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#998;font-style:italic">//è®¾ç½®SKUçš„åç§°  å•†å“å+è§„æ ¼é€‰é¡¹
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>                    Map<span style="color:#000;font-weight:bold">&lt;</span>String<span style="color:#000;font-weight:bold">,</span> String<span style="color:#000;font-weight:bold">&gt;</span> specMap <span style="color:#000;font-weight:bold">=</span> JSON<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">parseObject</span><span style="color:#000;font-weight:bold">(</span>item<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getSpec</span><span style="color:#000;font-weight:bold">(),</span> Map<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">class</span><span style="color:#000;font-weight:bold">);</span>    <span style="color:#998;font-style:italic">//å–å¾—SKUçš„è§„æ ¼é€‰é¡¹ï¼Œå¹¶åšJSONç±»å‹è½¬æ¢
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>                    <span style="color:#000;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span>String key <span style="color:#000;font-weight:bold">:</span> specMap<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">keySet</span><span style="color:#000;font-weight:bold">())</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>                        title <span style="color:#000;font-weight:bold">+=</span> specMap<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">get</span><span style="color:#000;font-weight:bold">(</span>key<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">+</span> <span style="color:#d14">&#34; &#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>                    item<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setTitle</span><span style="color:#000;font-weight:bold">(</span>title<span style="color:#000;font-weight:bold">);</span>                                       <span style="color:#998;font-style:italic">//SKUåç§°
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>                    item<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setCategoryId</span><span style="color:#000;font-weight:bold">(</span>goodsEntity<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getGoods</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">getCategory3Id</span><span style="color:#000;font-weight:bold">());</span>     <span style="color:#998;font-style:italic">//å•†å“åˆ†ç±» ä¸‰çº§
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        			item<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setCreateTime</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">new</span> Date<span style="color:#000;font-weight:bold">());</span>                             <span style="color:#998;font-style:italic">//åˆ›å»ºæ—¶é—´
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        			item<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setUpdateTime</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">new</span> Date<span style="color:#000;font-weight:bold">());</span>                             <span style="color:#998;font-style:italic">//æ›´æ–°æ—¶é—´
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        			item<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setGoodsId</span><span style="color:#000;font-weight:bold">(</span>goodsEntity<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getGoods</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">getId</span><span style="color:#000;font-weight:bold">());</span>                   <span style="color:#998;font-style:italic">//SPU ID
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        			item<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setSellerId</span><span style="color:#000;font-weight:bold">(</span>goodsEntity<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getGoods</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">getSellerId</span><span style="color:#000;font-weight:bold">());</span>           <span style="color:#998;font-style:italic">//å•†å®¶ID
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        			<span style="color:#998;font-style:italic">//æŸ¥è¯¢åˆ†ç±»å¯¹è±¡
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        			ItemCat itemCat <span style="color:#000;font-weight:bold">=</span> itemCatMapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">selectById</span><span style="color:#000;font-weight:bold">(</span>goodsEntity<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getGoods</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">getCategory3Id</span><span style="color:#000;font-weight:bold">());</span>
</span></span><span style="display:flex;"><span>        			item<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setCategory</span><span style="color:#000;font-weight:bold">(</span>itemCat<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getName</span><span style="color:#000;font-weight:bold">());</span>                            <span style="color:#998;font-style:italic">//åˆ†ç±»åç§°
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        			<span style="color:#998;font-style:italic">//æŸ¥è¯¢å“ç‰Œå¯¹è±¡
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        			Brand tbBrand <span style="color:#000;font-weight:bold">=</span> brandMapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">selectById</span><span style="color:#000;font-weight:bold">(</span>goodsEntity<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getGoods</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">getBrandId</span><span style="color:#000;font-weight:bold">());</span>
</span></span><span style="display:flex;"><span>        			item<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setBrand</span><span style="color:#000;font-weight:bold">(</span>tbBrand<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getName</span><span style="color:#000;font-weight:bold">());</span>                               <span style="color:#998;font-style:italic">//å“ç‰Œåç§°
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        			List<span style="color:#000;font-weight:bold">&lt;</span>Map<span style="color:#000;font-weight:bold">&gt;</span> imageList <span style="color:#000;font-weight:bold">=</span> JSON<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">parseArray</span><span style="color:#000;font-weight:bold">(</span>goodsEntity<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getGoodsDesc</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">getItemImages</span><span style="color:#000;font-weight:bold">(),</span> Map<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">class</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        			<span style="color:#000;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span>imageList<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">size</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">&gt;</span> 0<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>            			item<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setImage</span><span style="color:#000;font-weight:bold">((</span>String<span style="color:#000;font-weight:bold">)</span> imageList<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">get</span><span style="color:#000;font-weight:bold">(</span>0<span style="color:#000;font-weight:bold">).</span><span style="color:#008080">get</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;url&#34;</span><span style="color:#000;font-weight:bold">));</span>           <span style="color:#998;font-style:italic">//å•†å“å›¾ç‰‡
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        			<span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#998;font-style:italic">//ä¿å­˜SKUä¿¡æ¯
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>                    itemMapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">insert</span><span style="color:#000;font-weight:bold">(</span>item<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">}</span> <span style="color:#000;font-weight:bold">else</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#998;font-style:italic">//ä¸å¯ç”¨è§„æ ¼  SKUä¿¡æ¯ä¸ºé»˜è®¤å€¼
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            Item item <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> Item<span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>            item<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setTitle</span><span style="color:#000;font-weight:bold">(</span>goodsEntity<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getGoods</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">getGoodsName</span><span style="color:#000;font-weight:bold">());</span>     <span style="color:#998;font-style:italic">//å•†å“åç§°
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            item<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setPrice</span><span style="color:#000;font-weight:bold">(</span>goodsEntity<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getGoods</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">getPrice</span><span style="color:#000;font-weight:bold">());</span>      <span style="color:#998;font-style:italic">//é»˜è®¤ä½¿ç”¨SPUçš„ä»·æ ¼
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            item<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setNum</span><span style="color:#000;font-weight:bold">(</span>9999<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>            item<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setStatus</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;1&#34;</span><span style="color:#000;font-weight:bold">);</span>            <span style="color:#998;font-style:italic">//æ˜¯å¦å¯ç”¨
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            item<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setIsDefault</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;1&#34;</span><span style="color:#000;font-weight:bold">);</span>         <span style="color:#998;font-style:italic">//æ˜¯å¦é»˜è®¤
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            item<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setSpec</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;{}&#34;</span><span style="color:#000;font-weight:bold">);</span>             <span style="color:#998;font-style:italic">//æ²¡æœ‰é€‰æ‹©è§„æ ¼ï¼Œåˆ™æ”¾ç½®ç©ºJSONç»“æ„
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setItemValue</span><span style="color:#000;font-weight:bold">(</span>goodsEntity<span style="color:#000;font-weight:bold">,</span> item<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>            itemMapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">insert</span><span style="color:#000;font-weight:bold">(</span>item<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>(3)Controllerå±‚</p>
<p>ä¿®æ”¹com.offcn.sellergoods.controller.GoodsControllerï¼Œå¢åŠ ä¿å­˜Goodsæ–¹æ³•ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#998;font-style:italic">/***
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * æ–°å¢Goodsæ•°æ®
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * @param goods
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * @return
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@ApiOperation</span><span style="color:#000;font-weight:bold">(</span>value <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;Goodsæ·»åŠ &#34;</span><span style="color:#000;font-weight:bold">,</span>notes <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;æ·»åŠ Goodsæ–¹æ³•è¯¦æƒ…&#34;</span><span style="color:#000;font-weight:bold">,</span>tags <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">{</span><span style="color:#d14">&#34;GoodsController&#34;</span><span style="color:#000;font-weight:bold">})</span>
</span></span><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@PostMapping</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> Result <span style="color:#900;font-weight:bold">add</span><span style="color:#000;font-weight:bold">(</span><span style="color:#3c5d5d;font-weight:bold">@RequestBody</span>  <span style="color:#3c5d5d;font-weight:bold">@ApiParam</span><span style="color:#000;font-weight:bold">(</span>name <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;Goodså¤åˆå®ä½“å¯¹è±¡&#34;</span><span style="color:#000;font-weight:bold">,</span>value <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;ä¼ å…¥JSONæ•°æ®&#34;</span><span style="color:#000;font-weight:bold">,</span>required <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">true</span><span style="color:#000;font-weight:bold">)</span> GoodsEntity goodsEntity<span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//è°ƒç”¨GoodsServiceå®ç°æ·»åŠ Goods
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    goodsService<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">add</span><span style="color:#000;font-weight:bold">(</span>goodsEntity<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">new</span> Result<span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">true</span><span style="color:#000;font-weight:bold">,</span>StatusCode<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">OK</span><span style="color:#000;font-weight:bold">,</span><span style="color:#d14">&#34;æ·»åŠ æˆåŠŸ&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>æµ‹è¯•æ•°æ®</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	<span style="color:#000080">&#34;goods&#34;</span>: {
</span></span><span style="display:flex;"><span>		<span style="color:#000080">&#34;brandId&#34;</span>: <span style="color:#099">1</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#000080">&#34;caption&#34;</span>: <span style="color:#d14">&#34;æµ‹è¯•å•†å“01å‰¯æ ‡é¢˜&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#000080">&#34;category1Id&#34;</span>: <span style="color:#099">558</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#000080">&#34;category2Id&#34;</span>: <span style="color:#099">559</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#000080">&#34;category3Id&#34;</span>: <span style="color:#099">560</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#000080">&#34;goodsName&#34;</span>: <span style="color:#d14">&#34;æµ‹è¯•å•†å“01&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#000080">&#34;isEnableSpec&#34;</span>: <span style="color:#d14">&#34;1&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#000080">&#34;price&#34;</span>: <span style="color:#d14">&#34;1000&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#000080">&#34;typeTemplateId&#34;</span>: <span style="color:#099">35</span>
</span></span><span style="display:flex;"><span>	},
</span></span><span style="display:flex;"><span>	<span style="color:#000080">&#34;goodsDesc&#34;</span>: {
</span></span><span style="display:flex;"><span>		<span style="color:#000080">&#34;customAttributeItems&#34;</span>: <span style="color:#d14">&#34;[{\&#34;text\&#34;:\&#34;å†…å­˜å¤§å°\&#34;,\&#34;value\&#34;:\&#34;16G\&#34;},{\&#34;text\&#34;:\&#34;é¢œè‰²\&#34;,\&#34;value\&#34;:\&#34;ç»¿è‰²\&#34;}]&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#000080">&#34;introduction&#34;</span>: <span style="color:#d14">&#34;&lt;span style=\&#34;color:#666666;font-family:tahoma, arial, &amp;quot;font-size:14px;background-color:#FFFFFF;\&#34;&gt;æµ‹è¯•æè¿°&lt;/span&gt;&lt;br /&gt;&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#000080">&#34;itemImages&#34;</span>: <span style="color:#d14">&#34;[{\&#34;color\&#34;:\&#34;çº¢è‰²\&#34;,\&#34;url\&#34;:\&#34;http://192.168.188.146/group1/M00/00/00/wKi8kly5gXGAZ9X_AAQQPbR_emI045.png\&#34;},{\&#34;color\&#34;:\&#34;ç»¿è‰²\&#34;,\&#34;url\&#34;:\&#34;http://192.168.188.146/group1/M00/00/00/wKi8kly5gXmANvndAAI1bFuIUJE180.jpg\&#34;}]&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#000080">&#34;packageList&#34;</span>: <span style="color:#d14">&#34;æµ‹è¯•åŒ…è£…&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#000080">&#34;saleService&#34;</span>: <span style="color:#d14">&#34;æµ‹è¯•å”®åæœåŠ¡&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#000080">&#34;specificationItems&#34;</span>: <span style="color:#d14">&#34;[{\&#34;attributeValue\&#34;:[\&#34;ç§»åŠ¨3G\&#34;,\&#34;ç§»åŠ¨4G\&#34;],\&#34;attributeName\&#34;:\&#34;ç½‘ç»œ\&#34;},{\&#34;attributeValue\&#34;:[\&#34;16G\&#34;,\&#34;32G\&#34;],\&#34;attributeName\&#34;:\&#34;æœºèº«å†…å­˜\&#34;}]&#34;</span>
</span></span><span style="display:flex;"><span>	},
</span></span><span style="display:flex;"><span>	<span style="color:#000080">&#34;itemList&#34;</span>: [
</span></span><span style="display:flex;"><span>		{
</span></span><span style="display:flex;"><span>			<span style="color:#000080">&#34;isDefault&#34;</span>: <span style="color:#d14">&#34;1&#34;</span>,
</span></span><span style="display:flex;"><span>			<span style="color:#000080">&#34;num&#34;</span>: <span style="color:#099">9999</span>,
</span></span><span style="display:flex;"><span>			<span style="color:#000080">&#34;price&#34;</span>: <span style="color:#d14">&#34;1000&#34;</span>,
</span></span><span style="display:flex;"><span>			<span style="color:#000080">&#34;spec&#34;</span>: <span style="color:#d14">&#34;{\&#34;æœºèº«å†…å­˜\&#34;:\&#34;16G\&#34;,\&#34;ç½‘ç»œ\&#34;:\&#34;ç§»åŠ¨3G\&#34;}&#34;</span>,
</span></span><span style="display:flex;"><span>			<span style="color:#000080">&#34;status&#34;</span>: <span style="color:#d14">&#34;1&#34;</span>
</span></span><span style="display:flex;"><span>		},
</span></span><span style="display:flex;"><span>		{
</span></span><span style="display:flex;"><span>			<span style="color:#000080">&#34;isDefault&#34;</span>: <span style="color:#d14">&#34;0&#34;</span>,
</span></span><span style="display:flex;"><span>			<span style="color:#000080">&#34;num&#34;</span>: <span style="color:#099">9999</span>,
</span></span><span style="display:flex;"><span>			<span style="color:#000080">&#34;price&#34;</span>: <span style="color:#d14">&#34;2000&#34;</span>,
</span></span><span style="display:flex;"><span>			<span style="color:#000080">&#34;spec&#34;</span>: <span style="color:#d14">&#34;{\&#34;æœºèº«å†…å­˜\&#34;:\&#34;16G\&#34;,\&#34;ç½‘ç»œ\&#34;:\&#34;ç§»åŠ¨4G\&#34;}&#34;</span>,
</span></span><span style="display:flex;"><span>			<span style="color:#000080">&#34;status&#34;</span>: <span style="color:#d14">&#34;1&#34;</span>
</span></span><span style="display:flex;"><span>		},
</span></span><span style="display:flex;"><span>		{
</span></span><span style="display:flex;"><span>			<span style="color:#000080">&#34;isDefault&#34;</span>: <span style="color:#d14">&#34;0&#34;</span>,
</span></span><span style="display:flex;"><span>			<span style="color:#000080">&#34;num&#34;</span>: <span style="color:#099">9999</span>,
</span></span><span style="display:flex;"><span>			<span style="color:#000080">&#34;price&#34;</span>: <span style="color:#d14">&#34;2001&#34;</span>,
</span></span><span style="display:flex;"><span>			<span style="color:#000080">&#34;spec&#34;</span>: <span style="color:#d14">&#34;{\&#34;æœºèº«å†…å­˜\&#34;:\&#34;24G\&#34;,\&#34;ç½‘ç»œ\&#34;:\&#34;ç§»åŠ¨3G\&#34;}&#34;</span>,
</span></span><span style="display:flex;"><span>			<span style="color:#000080">&#34;status&#34;</span>: <span style="color:#d14">&#34;1&#34;</span>
</span></span><span style="display:flex;"><span>		},
</span></span><span style="display:flex;"><span>		{
</span></span><span style="display:flex;"><span>			<span style="color:#000080">&#34;isDefault&#34;</span>: <span style="color:#d14">&#34;0&#34;</span>,
</span></span><span style="display:flex;"><span>			<span style="color:#000080">&#34;num&#34;</span>: <span style="color:#099">9999</span>,
</span></span><span style="display:flex;"><span>			<span style="color:#000080">&#34;price&#34;</span>: <span style="color:#d14">&#34;2002&#34;</span>,
</span></span><span style="display:flex;"><span>			<span style="color:#000080">&#34;spec&#34;</span>: <span style="color:#d14">&#34;{\&#34;æœºèº«å†…å­˜\&#34;:\&#34;24G\&#34;,\&#34;ç½‘ç»œ\&#34;:\&#34;ç§»åŠ¨4G\&#34;}&#34;</span>,
</span></span><span style="display:flex;"><span>			<span style="color:#000080">&#34;status&#34;</span>: <span style="color:#d14">&#34;1&#34;</span>
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>	]
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="7-æ ¹æ®idæŸ¥è¯¢å•†å“">7 æ ¹æ®IDæŸ¥è¯¢å•†å“</h2>
<h3 id="71-éœ€æ±‚åˆ†æ">7.1 éœ€æ±‚åˆ†æ</h3>
<p>éœ€æ±‚ï¼šæ ¹æ®id æŸ¥è¯¢SPUå’ŒSKUåˆ—è¡¨ ï¼Œæ˜¾ç¤ºæ•ˆæœå¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span> <span style="color:#d14">&#34;goods&#34;</span><span style="color:#a61717;background-color:#e3d2d2">:</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#000080">&#34;id&#34;</span>: <span style="color:#099">149187842867985</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#000080">&#34;sellerId&#34;</span>: <span style="color:#d14">&#34;1&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#000080">&#34;goodsName&#34;</span>: <span style="color:#d14">&#34;æµ‹è¯•å•†å“01&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#000080">&#34;defaultItemId&#34;</span>: <span style="color:#000;font-weight:bold">null</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#000080">&#34;auditStatus&#34;</span>: <span style="color:#d14">&#34;1&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#000080">&#34;isMarketable&#34;</span>: <span style="color:#000;font-weight:bold">null</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#000080">&#34;brandId&#34;</span>: <span style="color:#099">1</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#000080">&#34;caption&#34;</span>: <span style="color:#d14">&#34;æµ‹è¯•å•†å“01&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#000080">&#34;category1Id&#34;</span>: <span style="color:#099">558</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#000080">&#34;category2Id&#34;</span>: <span style="color:#099">559</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#000080">&#34;category3Id&#34;</span>: <span style="color:#099">560</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#000080">&#34;smallPic&#34;</span>: <span style="color:#000;font-weight:bold">null</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#000080">&#34;price&#34;</span>: <span style="color:#d14">&#34;2000.00&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#000080">&#34;typeTemplateId&#34;</span>: <span style="color:#099">35</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#000080">&#34;isEnableSpec&#34;</span>: <span style="color:#d14">&#34;1&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#000080">&#34;isDelete&#34;</span>: <span style="color:#d14">&#34;1&#34;</span>
</span></span><span style="display:flex;"><span>    }<span style="color:#a61717;background-color:#e3d2d2">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#d14">&#34;goodsDesc&#34;</span><span style="color:#a61717;background-color:#e3d2d2">:</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#000080">&#34;goodsId&#34;</span>: <span style="color:#099">149187842867985</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#000080">&#34;introduction&#34;</span>: <span style="color:#d14">&#34;&lt;span style=\&#34;color:#666666;font-family:tahoma, arial, &amp;quot;font-size:14px;background-color:#FFFFFF;\&#34;&gt;è¯»è€…è¯„è®º&lt;/span&gt;&lt;br /&gt;&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#000080">&#34;specificationItems&#34;</span>: <span style="color:#d14">&#34;[{\&#34;attributeValue\&#34;:[\&#34;ç§»åŠ¨3G\&#34;,\&#34;ç§»åŠ¨4G\&#34;],\&#34;attributeName\&#34;:\&#34;ç½‘ç»œ\&#34;},{\&#34;attributeValue\&#34;:[\&#34;16G\&#34;,\&#34;32G\&#34;],\&#34;attributeName\&#34;:\&#34;æœºèº«å†…å­˜\&#34;}]&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#000080">&#34;customAttributeItems&#34;</span>: <span style="color:#d14">&#34;[{\&#34;text\&#34;:\&#34;å†…å­˜å¤§å°\&#34;,\&#34;value\&#34;:\&#34;16G\&#34;},{\&#34;text\&#34;:\&#34;é¢œè‰²\&#34;,\&#34;value\&#34;:\&#34;ç»¿è‰²\&#34;}]&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#000080">&#34;itemImages&#34;</span>: <span style="color:#d14">&#34;[{\&#34;color\&#34;:\&#34;çº¢è‰²\&#34;,\&#34;url\&#34;:\&#34;http://192.168.188.146/group1/M00/00/00/wKi8kly5gXGAZ9X_AAQQPbR_emI045.png\&#34;},{\&#34;color\&#34;:\&#34;ç»¿è‰²\&#34;,\&#34;url\&#34;:\&#34;http://192.168.188.146/group1/M00/00/00/wKi8kly5gXmANvndAAI1bFuIUJE180.jpg\&#34;}]&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#000080">&#34;packageList&#34;</span>: <span style="color:#d14">&#34;æµ‹è¯•åŒ…è£…&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#000080">&#34;saleService&#34;</span>: <span style="color:#d14">&#34;æµ‹è¯•å”®åæœåŠ¡&#34;</span>
</span></span><span style="display:flex;"><span>    }<span style="color:#a61717;background-color:#e3d2d2">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#d14">&#34;itemList&#34;</span><span style="color:#a61717;background-color:#e3d2d2">:</span> [
</span></span><span style="display:flex;"><span>      {
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&#34;id&#34;</span>: <span style="color:#099">1369283</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&#34;title&#34;</span>: <span style="color:#d14">&#34;æµ‹è¯•å•†å“01ç§»åŠ¨3G 16G &#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&#34;sellPoint&#34;</span>: <span style="color:#000;font-weight:bold">null</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&#34;price&#34;</span>: <span style="color:#d14">&#34;2001.00&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&#34;stockCount&#34;</span>: <span style="color:#000;font-weight:bold">null</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&#34;num&#34;</span>: <span style="color:#099">9999</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&#34;barcode&#34;</span>: <span style="color:#000;font-weight:bold">null</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&#34;image&#34;</span>: <span style="color:#d14">&#34;http://192.168.188.146/group1/M00/00/00/wKi8kly5gXGAZ9X_AAQQPbR_emI045.png&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&#34;categoryId&#34;</span>: <span style="color:#099">560</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&#34;status&#34;</span>: <span style="color:#d14">&#34;1&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&#34;createTime&#34;</span>: <span style="color:#d14">&#34;2021-02-08T12:17:45.000+0000&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&#34;updateTime&#34;</span>: <span style="color:#d14">&#34;2021-02-08T12:17:45.000+0000&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&#34;itemSn&#34;</span>: <span style="color:#000;font-weight:bold">null</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&#34;costPirce&#34;</span>: <span style="color:#000;font-weight:bold">null</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&#34;marketPrice&#34;</span>: <span style="color:#000;font-weight:bold">null</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&#34;isDefault&#34;</span>: <span style="color:#d14">&#34;1&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&#34;goodsId&#34;</span>: <span style="color:#099">149187842867985</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&#34;sellerId&#34;</span>: <span style="color:#d14">&#34;1&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&#34;cartThumbnail&#34;</span>: <span style="color:#000;font-weight:bold">null</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&#34;category&#34;</span>: <span style="color:#d14">&#34;æ‰‹æœº&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&#34;brand&#34;</span>: <span style="color:#d14">&#34;è”æƒ³&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&#34;spec&#34;</span>: <span style="color:#d14">&#34;{\&#34;æœºèº«å†…å­˜\&#34;:\&#34;16G\&#34;,\&#34;ç½‘ç»œ\&#34;:\&#34;ç§»åŠ¨3G\&#34;}&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&#34;seller&#34;</span>: <span style="color:#000;font-weight:bold">null</span>
</span></span><span style="display:flex;"><span>      },
</span></span><span style="display:flex;"><span>      {
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&#34;id&#34;</span>: <span style="color:#099">1369284</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&#34;title&#34;</span>: <span style="color:#d14">&#34;æµ‹è¯•å•†å“01ç§»åŠ¨4G 16G &#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&#34;sellPoint&#34;</span>: <span style="color:#000;font-weight:bold">null</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&#34;price&#34;</span>: <span style="color:#d14">&#34;2001.00&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&#34;stockCount&#34;</span>: <span style="color:#000;font-weight:bold">null</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&#34;num&#34;</span>: <span style="color:#099">9999</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&#34;barcode&#34;</span>: <span style="color:#000;font-weight:bold">null</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&#34;image&#34;</span>: <span style="color:#d14">&#34;http://192.168.188.146/group1/M00/00/00/wKi8kly5gXGAZ9X_AAQQPbR_emI045.png&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&#34;categoryId&#34;</span>: <span style="color:#099">560</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&#34;status&#34;</span>: <span style="color:#d14">&#34;1&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&#34;createTime&#34;</span>: <span style="color:#d14">&#34;2021-02-08T12:17:45.000+0000&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&#34;updateTime&#34;</span>: <span style="color:#d14">&#34;2021-02-08T12:17:45.000+0000&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&#34;itemSn&#34;</span>: <span style="color:#000;font-weight:bold">null</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&#34;costPirce&#34;</span>: <span style="color:#000;font-weight:bold">null</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&#34;marketPrice&#34;</span>: <span style="color:#000;font-weight:bold">null</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&#34;isDefault&#34;</span>: <span style="color:#d14">&#34;1&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&#34;goodsId&#34;</span>: <span style="color:#099">149187842867985</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&#34;sellerId&#34;</span>: <span style="color:#d14">&#34;1&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&#34;cartThumbnail&#34;</span>: <span style="color:#000;font-weight:bold">null</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&#34;category&#34;</span>: <span style="color:#d14">&#34;æ‰‹æœº&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&#34;brand&#34;</span>: <span style="color:#d14">&#34;è”æƒ³&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&#34;spec&#34;</span>: <span style="color:#d14">&#34;{\&#34;æœºèº«å†…å­˜\&#34;:\&#34;16G\&#34;,\&#34;ç½‘ç»œ\&#34;:\&#34;ç§»åŠ¨4G\&#34;}&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&#34;seller&#34;</span>: <span style="color:#000;font-weight:bold">null</span>
</span></span><span style="display:flex;"><span>      }]
</span></span></code></pre></div><h3 id="72-ä»£ç å®ç°">7.2 ä»£ç å®ç°</h3>
<p>(1)ä¸šåŠ¡å±‚</p>
<p>ä¿®æ”¹<code>dongyimai-sellergoods-service</code>å·¥ç¨‹,ä¿®æ”¹com.offcn.sellergoods.service.GoodsServiceæ¥å£,æ·»åŠ æ ¹æ®IDæŸ¥æ‰¾æ–¹æ³•findByIdä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#998;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * æ ¹æ®IDæŸ¥è¯¢Goods
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * @param id
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * @return
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> */</span>
</span></span><span style="display:flex;"><span> GoodsEntity <span style="color:#900;font-weight:bold">findById</span><span style="color:#000;font-weight:bold">(</span>Long id<span style="color:#000;font-weight:bold">);</span>
</span></span></code></pre></div><p>ä¿®æ”¹<code>dongyimai-sellergoods-service</code>å·¥ç¨‹ï¼Œä¿®æ”¹com.offcn.sellergoods.service.impl.GoodsServiceImplç±»ï¼Œä¿®æ”¹æ ¹æ®IDæŸ¥æ‰¾findByIdæ–¹æ³•ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#998;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * æ ¹æ®IDæŸ¥è¯¢Goods
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> *
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * @param id
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * @return
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> GoodsEntity <span style="color:#900;font-weight:bold">findById</span><span style="color:#000;font-weight:bold">(</span>Long id<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//1.æ ¹æ®IDæŸ¥è¯¢SPUä¿¡æ¯
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    Goods goods <span style="color:#000;font-weight:bold">=</span> goodsMapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">selectById</span><span style="color:#000;font-weight:bold">(</span>id<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//2.æ ¹æ®IDæŸ¥è¯¢å•†å“æ‰©å±•ä¿¡æ¯
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    GoodsDesc goodsDesc <span style="color:#000;font-weight:bold">=</span> goodsDescMapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">selectById</span><span style="color:#000;font-weight:bold">(</span>id<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//3.æ ¹æ®IDæŸ¥è¯¢SKUåˆ—è¡¨
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    QueryWrapper<span style="color:#000;font-weight:bold">&lt;</span>Item<span style="color:#000;font-weight:bold">&gt;</span> queryWrapper <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> QueryWrapper<span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    queryWrapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">eq</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;goods_id&#34;</span><span style="color:#000;font-weight:bold">,</span> id<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    List<span style="color:#000;font-weight:bold">&lt;</span>Item<span style="color:#000;font-weight:bold">&gt;</span> itemList <span style="color:#000;font-weight:bold">=</span> itemMapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">selectList</span><span style="color:#000;font-weight:bold">(</span>queryWrapper<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//4.è®¾ç½®å¤åˆå®ä½“å¯¹è±¡
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    GoodsEntity goodsEntity <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> GoodsEntity<span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>    goodsEntity<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setGoods</span><span style="color:#000;font-weight:bold">(</span>goods<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    goodsEntity<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setGoodsDesc</span><span style="color:#000;font-weight:bold">(</span>goodsDesc<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    goodsEntity<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setItemList</span><span style="color:#000;font-weight:bold">(</span>itemList<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> goodsEntity<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>(2)Controllerå±‚</p>
<p>ä¿®æ”¹com.offcn.sellergoods.controller.GoodsControllerï¼Œä¿®æ”¹findByIdæ–¹æ³•ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#998;font-style:italic">/***
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * æ ¹æ®IDæŸ¥è¯¢Goodsæ•°æ®
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * @param id
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * @return
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@ApiOperation</span><span style="color:#000;font-weight:bold">(</span>value <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;Goodsæ ¹æ®IDæŸ¥è¯¢&#34;</span><span style="color:#000;font-weight:bold">,</span>notes <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;æ ¹æ®IDæŸ¥è¯¢Goodsæ–¹æ³•è¯¦æƒ…&#34;</span><span style="color:#000;font-weight:bold">,</span>tags <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">{</span><span style="color:#d14">&#34;GoodsController&#34;</span><span style="color:#000;font-weight:bold">})</span>
</span></span><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@ApiImplicitParam</span><span style="color:#000;font-weight:bold">(</span>paramType <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;path&#34;</span><span style="color:#000;font-weight:bold">,</span> name <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;id&#34;</span><span style="color:#000;font-weight:bold">,</span> value <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;ä¸»é”®ID&#34;</span><span style="color:#000;font-weight:bold">,</span> required <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">true</span><span style="color:#000;font-weight:bold">,</span> dataType <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;Long&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@GetMapping</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;/{id}&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> Result<span style="color:#000;font-weight:bold">&lt;</span>GoodsEntity<span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#900;font-weight:bold">findById</span><span style="color:#000;font-weight:bold">(</span><span style="color:#3c5d5d;font-weight:bold">@PathVariable</span> Long id<span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//è°ƒç”¨GoodsServiceå®ç°æ ¹æ®ä¸»é”®æŸ¥è¯¢Goods
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    GoodsEntity goodsEntity <span style="color:#000;font-weight:bold">=</span> goodsService<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">findById</span><span style="color:#000;font-weight:bold">(</span>id<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">new</span> Result<span style="color:#000;font-weight:bold">&lt;</span>GoodsEntity<span style="color:#000;font-weight:bold">&gt;(</span><span style="color:#000;font-weight:bold">true</span><span style="color:#000;font-weight:bold">,</span>StatusCode<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">OK</span><span style="color:#000;font-weight:bold">,</span><span style="color:#d14">&#34;æŸ¥è¯¢æˆåŠŸ&#34;</span><span style="color:#000;font-weight:bold">,</span>goodsEntity<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h2 id="8-ä¿å­˜ä¿®æ”¹">8 ä¿å­˜ä¿®æ”¹</h2>
<p>(1)ä¸šåŠ¡å±‚</p>
<p>ä¿®æ”¹<code>dongyimai-sellergoods-service</code>çš„GoodsServiceçš„updateæ–¹æ³•ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#998;font-style:italic">/***
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * ä¿®æ”¹Goodsæ•°æ®
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * @param goods
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">update</span><span style="color:#000;font-weight:bold">(</span>GoodsEntity goodsEntity<span style="color:#000;font-weight:bold">);</span>
</span></span></code></pre></div><p>ä¿®æ”¹<code>dongyimai-sellergoods-service</code>çš„GoodsServiceImpl ,å°†SKUåˆ—è¡¨æ’å…¥çš„ä»£ç æå–å‡ºæ¥ï¼Œå°è£…åˆ°ç§æœ‰æ–¹æ³•ä¸­ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">private</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">setItemValue</span><span style="color:#000;font-weight:bold">(</span>GoodsEntity goodsEntity<span style="color:#000;font-weight:bold">,</span> Item item<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        item<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setCategoryId</span><span style="color:#000;font-weight:bold">(</span>goodsEntity<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getGoods</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">getCategory3Id</span><span style="color:#000;font-weight:bold">());</span>     <span style="color:#998;font-style:italic">//å•†å“åˆ†ç±» ä¸‰çº§
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        item<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setCreateTime</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">new</span> Date<span style="color:#000;font-weight:bold">());</span>                             <span style="color:#998;font-style:italic">//åˆ›å»ºæ—¶é—´
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        item<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setUpdateTime</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">new</span> Date<span style="color:#000;font-weight:bold">());</span>                             <span style="color:#998;font-style:italic">//æ›´æ–°æ—¶é—´
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        item<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setGoodsId</span><span style="color:#000;font-weight:bold">(</span>goodsEntity<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getGoods</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">getId</span><span style="color:#000;font-weight:bold">());</span>                   <span style="color:#998;font-style:italic">//SPU ID
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        item<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setSellerId</span><span style="color:#000;font-weight:bold">(</span>goodsEntity<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getGoods</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">getSellerId</span><span style="color:#000;font-weight:bold">());</span>           <span style="color:#998;font-style:italic">//å•†å®¶ID
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        <span style="color:#998;font-style:italic">//æŸ¥è¯¢åˆ†ç±»å¯¹è±¡
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        ItemCat itemCat <span style="color:#000;font-weight:bold">=</span> itemCatMapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">selectById</span><span style="color:#000;font-weight:bold">(</span>goodsEntity<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getGoods</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">getCategory3Id</span><span style="color:#000;font-weight:bold">());</span>
</span></span><span style="display:flex;"><span>        item<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setCategory</span><span style="color:#000;font-weight:bold">(</span>itemCat<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getName</span><span style="color:#000;font-weight:bold">());</span>                            <span style="color:#998;font-style:italic">//åˆ†ç±»åç§°
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        <span style="color:#998;font-style:italic">//æŸ¥è¯¢å“ç‰Œå¯¹è±¡
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        Brand tbBrand <span style="color:#000;font-weight:bold">=</span> brandMapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">selectById</span><span style="color:#000;font-weight:bold">(</span>goodsEntity<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getGoods</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">getBrandId</span><span style="color:#000;font-weight:bold">());</span>
</span></span><span style="display:flex;"><span>        item<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setBrand</span><span style="color:#000;font-weight:bold">(</span>tbBrand<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getName</span><span style="color:#000;font-weight:bold">());</span>                               <span style="color:#998;font-style:italic">//å“ç‰Œåç§°
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        List<span style="color:#000;font-weight:bold">&lt;</span>Map<span style="color:#000;font-weight:bold">&gt;</span> imageList <span style="color:#000;font-weight:bold">=</span> JSON<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">parseArray</span><span style="color:#000;font-weight:bold">(</span>goodsEntity<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getGoodsDesc</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">getItemImages</span><span style="color:#000;font-weight:bold">(),</span> Map<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">class</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span>imageList<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">size</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">&gt;</span> 0<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>            item<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setImage</span><span style="color:#000;font-weight:bold">((</span>String<span style="color:#000;font-weight:bold">)</span> imageList<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">get</span><span style="color:#000;font-weight:bold">(</span>0<span style="color:#000;font-weight:bold">).</span><span style="color:#008080">get</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;url&#34;</span><span style="color:#000;font-weight:bold">));</span>           <span style="color:#998;font-style:italic">//å•†å“å›¾ç‰‡
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">//ä¿å­˜SKUä¿¡æ¯
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">private</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">saveItemList</span><span style="color:#000;font-weight:bold">(</span>GoodsEntity goodsEntity<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;1&#34;</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">equals</span><span style="color:#000;font-weight:bold">(</span>goodsEntity<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getGoods</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">getIsEnableSpec</span><span style="color:#000;font-weight:bold">()))</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#998;font-style:italic">//5.ä¿å­˜SKU å•†å“è¯¦æƒ…ä¿¡æ¯
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            <span style="color:#000;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(!</span>CollectionUtils<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">isEmpty</span><span style="color:#000;font-weight:bold">(</span>goodsEntity<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getItemList</span><span style="color:#000;font-weight:bold">()))</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span>Item item <span style="color:#000;font-weight:bold">:</span> goodsEntity<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getItemList</span><span style="color:#000;font-weight:bold">())</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>                    String title <span style="color:#000;font-weight:bold">=</span> goodsEntity<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getGoods</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">getGoodsName</span><span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#998;font-style:italic">//è®¾ç½®SKUçš„åç§°  å•†å“å+è§„æ ¼é€‰é¡¹
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>                    Map<span style="color:#000;font-weight:bold">&lt;</span>String<span style="color:#000;font-weight:bold">,</span> String<span style="color:#000;font-weight:bold">&gt;</span> specMap <span style="color:#000;font-weight:bold">=</span> JSON<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">parseObject</span><span style="color:#000;font-weight:bold">(</span>item<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getSpec</span><span style="color:#000;font-weight:bold">(),</span> Map<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">class</span><span style="color:#000;font-weight:bold">);</span>    <span style="color:#998;font-style:italic">//å–å¾—SKUçš„è§„æ ¼é€‰é¡¹ï¼Œå¹¶åšJSONç±»å‹è½¬æ¢
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>                    <span style="color:#000;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span>String key <span style="color:#000;font-weight:bold">:</span> specMap<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">keySet</span><span style="color:#000;font-weight:bold">())</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>                        title <span style="color:#000;font-weight:bold">+=</span> specMap<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">get</span><span style="color:#000;font-weight:bold">(</span>key<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">+</span> <span style="color:#d14">&#34; &#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>                    item<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setTitle</span><span style="color:#000;font-weight:bold">(</span>title<span style="color:#000;font-weight:bold">);</span>                                       <span style="color:#998;font-style:italic">//SKUåç§°
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>                    <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setItemValue</span><span style="color:#000;font-weight:bold">(</span>goodsEntity<span style="color:#000;font-weight:bold">,</span> item<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#998;font-style:italic">//ä¿å­˜SKUä¿¡æ¯
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>                    itemMapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">insert</span><span style="color:#000;font-weight:bold">(</span>item<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">}</span> <span style="color:#000;font-weight:bold">else</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#998;font-style:italic">//ä¸å¯ç”¨è§„æ ¼  SKUä¿¡æ¯ä¸ºé»˜è®¤å€¼
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            Item item <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> Item<span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>            item<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setTitle</span><span style="color:#000;font-weight:bold">(</span>goodsEntity<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getGoods</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">getGoodsName</span><span style="color:#000;font-weight:bold">());</span>     <span style="color:#998;font-style:italic">//å•†å“åç§°
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            item<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setPrice</span><span style="color:#000;font-weight:bold">(</span>goodsEntity<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getGoods</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">getPrice</span><span style="color:#000;font-weight:bold">());</span>      <span style="color:#998;font-style:italic">//é»˜è®¤ä½¿ç”¨SPUçš„ä»·æ ¼
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            item<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setNum</span><span style="color:#000;font-weight:bold">(</span>9999<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>            item<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setStatus</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;1&#34;</span><span style="color:#000;font-weight:bold">);</span>            <span style="color:#998;font-style:italic">//æ˜¯å¦å¯ç”¨
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            item<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setIsDefault</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;1&#34;</span><span style="color:#000;font-weight:bold">);</span>         <span style="color:#998;font-style:italic">//æ˜¯å¦é»˜è®¤
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            item<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setSpec</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;{}&#34;</span><span style="color:#000;font-weight:bold">);</span>             <span style="color:#998;font-style:italic">//æ²¡æœ‰é€‰æ‹©è§„æ ¼ï¼Œåˆ™æ”¾ç½®ç©ºJSONç»“æ„
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setItemValue</span><span style="color:#000;font-weight:bold">(</span>goodsEntity<span style="color:#000;font-weight:bold">,</span> item<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>            itemMapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">insert</span><span style="color:#000;font-weight:bold">(</span>item<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>åœ¨addæ–¹æ³•ä¸­è°ƒç”¨ æ­¤æ–¹æ³•ï¼Œä¿®æ”¹å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#998;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * å¢åŠ Goods
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * @param goods
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">add</span><span style="color:#000;font-weight:bold">(</span>GoodsEntity goodsEntity<span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    goodsEntity<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getGoods</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">setAuditStatus</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;0&#34;</span><span style="color:#000;font-weight:bold">);</span>  <span style="color:#998;font-style:italic">//å®¡æ ¸çŠ¶æ€ æœªå®¡æ ¸
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#998;font-style:italic">//1.ä¿å­˜SPU å•†å“ä¿¡æ¯å¯¹è±¡
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    goodsMapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">insert</span><span style="color:#000;font-weight:bold">(</span>goodsEntity<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getGoods</span><span style="color:#000;font-weight:bold">());</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//2.è·å–å•†å“ä¿¡æ¯å¯¹è±¡ä¸»é”®ID ,å‘å•†å“æ‰©å±•ä¿¡æ¯å¯¹è±¡ä¸­è®¾ç½®ä¸»é”®
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    goodsEntity<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getGoodsDesc</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">setGoodsId</span><span style="color:#000;font-weight:bold">(</span>goodsEntity<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getGoods</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">getId</span><span style="color:#000;font-weight:bold">());</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//3.ä¿å­˜å•†å“æ‰©å±•ä¿¡æ¯
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    goodsDescMapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">insert</span><span style="color:#000;font-weight:bold">(</span>goodsEntity<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getGoodsDesc</span><span style="color:#000;font-weight:bold">());</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//4.ä¿å­˜å•†å“SKUä¿¡æ¯
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">saveItemList</span><span style="color:#000;font-weight:bold">(</span>goodsEntity<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>æ€ä¹ˆæ ·ï¼Œæ˜¯ä¸æ˜¯æ¯”åŸæ¥æ›´åŠ æ¸…çˆ½äº†å‘¢ï¼Ÿ</p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä¿®æ”¹updateæ–¹æ³•ï¼Œå®ç°ä¿®æ”¹</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#998;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * ä¿®æ”¹Goods
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * @param goods
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">update</span><span style="color:#000;font-weight:bold">(</span>GoodsEntity goodsEntity<span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//å°†å®¡æ ¸çŠ¶æ€é‡æ–°è®¾ç½®ä¸º æœªå®¡æ ¸
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    goodsEntity<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getGoods</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">setAuditStatus</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;0&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//1.ä¿®æ”¹SPUçš„ä¿¡æ¯
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    goodsMapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">updateById</span><span style="color:#000;font-weight:bold">(</span>goodsEntity<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getGoods</span><span style="color:#000;font-weight:bold">());</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//2.ä¿®æ”¹å•†å“æ‰©å±•ä¿¡æ¯
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    goodsDescMapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">updateById</span><span style="color:#000;font-weight:bold">(</span>goodsEntity<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getGoodsDesc</span><span style="color:#000;font-weight:bold">());</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//3.å…ˆæ ¹æ®å•†å“IDåˆ é™¤SKUä¿¡æ¯
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    QueryWrapper<span style="color:#000;font-weight:bold">&lt;</span>Item<span style="color:#000;font-weight:bold">&gt;</span> queryWrapper <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> QueryWrapper<span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    queryWrapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">eq</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;goods_id&#34;</span><span style="color:#000;font-weight:bold">,</span> goodsEntity<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getGoods</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">getId</span><span style="color:#000;font-weight:bold">());</span>
</span></span><span style="display:flex;"><span>    itemMapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">delete</span><span style="color:#000;font-weight:bold">(</span>queryWrapper<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//4.é‡æ–°æ·»åŠ SKUä¿¡æ¯
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">saveItemList</span><span style="color:#000;font-weight:bold">(</span>goodsEntity<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>(2)æ§åˆ¶å±‚</p>
<p>ä¿®æ”¹com.offcn.sellergoods.controller.GoodsControllerï¼Œä¿®æ”¹updateæ–¹æ³•ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#998;font-style:italic">/***
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * ä¿®æ”¹Goodsæ•°æ®
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * @param goods
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * @param id
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * @return
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@ApiOperation</span><span style="color:#000;font-weight:bold">(</span>value <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;Goodsæ ¹æ®IDä¿®æ”¹&#34;</span><span style="color:#000;font-weight:bold">,</span>notes <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;æ ¹æ®IDä¿®æ”¹Goodsæ–¹æ³•è¯¦æƒ…&#34;</span><span style="color:#000;font-weight:bold">,</span>tags <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">{</span><span style="color:#d14">&#34;GoodsController&#34;</span><span style="color:#000;font-weight:bold">})</span>
</span></span><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@ApiImplicitParam</span><span style="color:#000;font-weight:bold">(</span>paramType <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;path&#34;</span><span style="color:#000;font-weight:bold">,</span> name <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;id&#34;</span><span style="color:#000;font-weight:bold">,</span> value <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;ä¸»é”®ID&#34;</span><span style="color:#000;font-weight:bold">,</span> required <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">true</span><span style="color:#000;font-weight:bold">,</span> dataType <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;Long&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@PutMapping</span><span style="color:#000;font-weight:bold">(</span>value<span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;/{id}&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> Result <span style="color:#900;font-weight:bold">update</span><span style="color:#000;font-weight:bold">(</span><span style="color:#3c5d5d;font-weight:bold">@RequestBody</span> <span style="color:#3c5d5d;font-weight:bold">@ApiParam</span><span style="color:#000;font-weight:bold">(</span>name <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;Goodså¤åˆå®ä½“å¯¹è±¡&#34;</span><span style="color:#000;font-weight:bold">,</span>value <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;ä¼ å…¥JSONæ•°æ®&#34;</span><span style="color:#000;font-weight:bold">,</span>required <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">false</span><span style="color:#000;font-weight:bold">)</span> GoodsEntity goodsEntity<span style="color:#000;font-weight:bold">,</span><span style="color:#3c5d5d;font-weight:bold">@PathVariable</span> Long id<span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//è®¾ç½®ä¸»é”®å€¼
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    goodsEntity<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getGoods</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">setId</span><span style="color:#000;font-weight:bold">(</span>id<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//è°ƒç”¨GoodsServiceå®ç°ä¿®æ”¹Goods
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    goodsService<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">update</span><span style="color:#000;font-weight:bold">(</span>goodsEntity<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">new</span> Result<span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">true</span><span style="color:#000;font-weight:bold">,</span>StatusCode<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">OK</span><span style="color:#000;font-weight:bold">,</span><span style="color:#d14">&#34;ä¿®æ”¹æˆåŠŸ&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h1 id="å…«-å•†å“å®¡æ ¸ä¸ä¸Šä¸‹æ¶å­¦å‘˜å®ç°">å…« å•†å“å®¡æ ¸ä¸ä¸Šä¸‹æ¶ï¼ˆå­¦å‘˜å®ç°ï¼‰</h1>
<h2 id="1-éœ€æ±‚åˆ†æ-4">1 éœ€æ±‚åˆ†æ</h2>
<p>å•†å“æ–°å¢åï¼Œå®¡æ ¸çŠ¶æ€ä¸º0ï¼ˆæœªå®¡æ ¸ï¼‰ï¼Œé»˜è®¤ä¸ºä¸‹æ¶çŠ¶æ€ã€‚</p>
<p>å®¡æ ¸å•†å“ï¼Œéœ€è¦æ ¡éªŒæ˜¯å¦æ˜¯è¢«åˆ é™¤çš„å•†å“ï¼Œå¦‚æœæœªåˆ é™¤åˆ™ä¿®æ”¹å®¡æ ¸çŠ¶æ€ä¸º1ï¼Œå¹¶è‡ªåŠ¨ä¸Šæ¶</p>
<p>ä¸‹æ¶å•†å“ï¼Œéœ€è¦æ ¡éªŒæ˜¯å¦æ˜¯è¢«åˆ é™¤çš„å•†å“ï¼Œå¦‚æœæœªåˆ é™¤åˆ™ä¿®æ”¹ä¸Šæ¶çŠ¶æ€ä¸º0</p>
<p>ä¸Šæ¶å•†å“ï¼Œéœ€è¦å®¡æ ¸é€šè¿‡çš„å•†å“</p>
<h2 id="2-å®ç°æ€è·¯-1">2 å®ç°æ€è·¯</h2>
<p>ï¼ˆ1ï¼‰æŒ‰ç…§IDæŸ¥è¯¢SPUä¿¡æ¯</p>
<p>ï¼ˆ2ï¼‰åˆ¤æ–­ä¿®æ”¹å®¡æ ¸ã€ä¸Šæ¶å’Œä¸‹æ¶çŠ¶æ€</p>
<p>ï¼ˆ3ï¼‰ä¿å­˜SPU</p>
<h2 id="3-ä»£ç å®ç°-1">3 ä»£ç å®ç°</h2>
<h3 id="31-å•†å“å®¡æ ¸">3.1 å•†å“å®¡æ ¸</h3>
<p>å®ç°å®¡æ ¸é€šè¿‡ï¼Œè‡ªåŠ¨ä¸Šæ¶ã€‚</p>
<p>(1)ä¸šåŠ¡å±‚</p>
<p>ä¿®æ”¹<code>dongyimai-sellergoods-service</code>å·¥ç¨‹çš„com.offcn.sellergoods.service.GoodsServiceæ¥å£ï¼Œæ·»åŠ å®¡æ ¸æ–¹æ³•ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#998;font-style:italic">/***
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * å•†å“å®¡æ ¸
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * @param goodsId
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">audit</span><span style="color:#000;font-weight:bold">(</span>Long goodsId<span style="color:#000;font-weight:bold">);</span>
</span></span></code></pre></div><p>ä¿®æ”¹<code>dongyimai-sellergoods-service</code>å·¥ç¨‹çš„com.offcn.sellergoods.service.impl.GoodsServiceImplç±»ï¼Œæ·»åŠ auditæ–¹æ³•ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#998;font-style:italic">/***
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * å•†å“å®¡æ ¸
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * @param goodsId
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">audit</span><span style="color:#000;font-weight:bold">(</span>Long goodsId<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//æŸ¥è¯¢å•†å“
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    Goods goods <span style="color:#000;font-weight:bold">=</span> goodsMapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">selectById</span><span style="color:#000;font-weight:bold">(</span>goodsId<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//åˆ¤æ–­å•†å“æ˜¯å¦å·²ç»åˆ é™¤
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">if</span><span style="color:#000;font-weight:bold">(</span>goods<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getIsDelete</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">equals</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;1&#34;</span><span style="color:#000;font-weight:bold">)){</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">throw</span> <span style="color:#000;font-weight:bold">new</span> RuntimeException<span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;è¯¥å•†å“å·²ç»åˆ é™¤ï¼&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//å®ç°ä¸Šæ¶å’Œå®¡æ ¸
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    goods<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setAuditStatus</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;1&#34;</span><span style="color:#000;font-weight:bold">);</span> <span style="color:#998;font-style:italic">//å®¡æ ¸é€šè¿‡
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    goods<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setIsMarketable</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;1&#34;</span><span style="color:#000;font-weight:bold">);</span> <span style="color:#998;font-style:italic">//ä¸Šæ¶
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    goodsMapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">updateById</span><span style="color:#000;font-weight:bold">(</span>goods<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>(2)æ§åˆ¶å±‚</p>
<p>ä¿®æ”¹com.offcn.sellergoods.controller.GoodsControllerï¼Œæ–°å¢auditæ–¹æ³•ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#998;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * å®¡æ ¸
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * @param id
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * @return
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@PutMapping</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;/audit/{id}&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> Result <span style="color:#900;font-weight:bold">audit</span><span style="color:#000;font-weight:bold">(</span><span style="color:#3c5d5d;font-weight:bold">@PathVariable</span> Long id<span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    goodsService<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">audit</span><span style="color:#000;font-weight:bold">(</span>id<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">new</span> Result<span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">true</span><span style="color:#000;font-weight:bold">,</span>StatusCode<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">OK</span><span style="color:#000;font-weight:bold">,</span><span style="color:#d14">&#34;å®¡æ ¸æˆåŠŸ&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h3 id="32-ä¸‹æ¶å•†å“">3.2 ä¸‹æ¶å•†å“</h3>
<p>(1)ä¸šåŠ¡å±‚</p>
<p>ä¿®æ”¹com.offcn.sellergoods.service.GoodsServiceæ¥å£ï¼Œæ·»åŠ pullæ–¹æ³•ï¼Œç”¨äºå•†å“ä¸‹æ¶ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#998;font-style:italic">/***
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * å•†å“ä¸‹æ¶
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * @param goodsId
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">pull</span><span style="color:#000;font-weight:bold">(</span>Long goodsId<span style="color:#000;font-weight:bold">);</span>
</span></span></code></pre></div><p>ä¿®æ”¹com.offcn.sellergoods.impl.GoodsServiceImplï¼Œæ·»åŠ å¦‚ä¸‹æ–¹æ³•ï¼š</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#998;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * å•†å“ä¸‹æ¶
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * @param goodsId
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">pull</span><span style="color:#000;font-weight:bold">(</span>Long goodsId<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    Goods goods <span style="color:#000;font-weight:bold">=</span> goodsMapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">selectById</span><span style="color:#000;font-weight:bold">(</span>goodsId<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">if</span><span style="color:#000;font-weight:bold">(</span>goods<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getIsDelete</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">equals</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;1&#34;</span><span style="color:#000;font-weight:bold">)){</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">throw</span> <span style="color:#000;font-weight:bold">new</span> RuntimeException<span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;æ­¤å•†å“å·²åˆ é™¤ï¼&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    goods<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setIsMarketable</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;0&#34;</span><span style="color:#000;font-weight:bold">);</span><span style="color:#998;font-style:italic">//ä¸‹æ¶çŠ¶æ€
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    goodsMapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">updateById</span><span style="color:#000;font-weight:bold">(</span>goods<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>(2)æ§åˆ¶å±‚</p>
<p>ä¿®æ”¹com.offcn.sellergoods.controller.GoodsControllerï¼Œæ·»åŠ pullæ–¹æ³•ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#998;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * ä¸‹æ¶
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * @param id
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * @return
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@PutMapping</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;/pull/{id}&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> Result <span style="color:#900;font-weight:bold">pull</span><span style="color:#000;font-weight:bold">(</span><span style="color:#3c5d5d;font-weight:bold">@PathVariable</span> Long id<span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    goodsService<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">pull</span><span style="color:#000;font-weight:bold">(</span>id<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">new</span> Result<span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">true</span><span style="color:#000;font-weight:bold">,</span>StatusCode<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">OK</span><span style="color:#000;font-weight:bold">,</span><span style="color:#d14">&#34;ä¸‹æ¶æˆåŠŸ&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h3 id="33-ä¸Šæ¶å•†å“">3.3 ä¸Šæ¶å•†å“</h3>
<p>å¿…é¡»æ˜¯é€šè¿‡å®¡æ ¸çš„å•†å“æ‰èƒ½ä¸Šæ¶</p>
<p>(1)ä¸šåŠ¡å±‚</p>
<p>ä¿®æ”¹com.offcn.sellergoods.service.GoodsServiceï¼Œæ·»åŠ putæ–¹æ³•ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#998;font-style:italic">/***
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * å•†å“ä¸Šæ¶
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * @param goodsId
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">put</span><span style="color:#000;font-weight:bold">(</span>Long goodsId<span style="color:#000;font-weight:bold">);</span>
</span></span></code></pre></div><p>ä¿®æ”¹com.offcn.sellergoods.service.impl.GoodsServiceImplï¼Œæ·»åŠ putæ–¹æ³•å®ç°ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#998;font-style:italic">/***
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * å•†å“ä¸Šæ¶
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * @param goodsId
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">put</span><span style="color:#000;font-weight:bold">(</span>Long goodsId<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    Goods goods <span style="color:#000;font-weight:bold">=</span> goodsMapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">selectById</span><span style="color:#000;font-weight:bold">(</span>goodsId<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//æ£€æŸ¥æ˜¯å¦åˆ é™¤çš„å•†å“
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">if</span><span style="color:#000;font-weight:bold">(</span>goods<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getIsDelete</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">equals</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;1&#34;</span><span style="color:#000;font-weight:bold">)){</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">throw</span> <span style="color:#000;font-weight:bold">new</span> RuntimeException<span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;æ­¤å•†å“å·²åˆ é™¤ï¼&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">if</span><span style="color:#000;font-weight:bold">(!</span>goods<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getAuditStatus</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">equals</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;1&#34;</span><span style="color:#000;font-weight:bold">)){</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">throw</span> <span style="color:#000;font-weight:bold">new</span> RuntimeException<span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;æœªé€šè¿‡å®¡æ ¸çš„å•†å“ä¸èƒ½ï¼&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//ä¸Šæ¶çŠ¶æ€
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    goods<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setIsMarketable</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;1&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    goodsMapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">updateById</span><span style="color:#000;font-weight:bold">(</span>goods<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>(2)æ§åˆ¶å±‚</p>
<p>ä¿®æ”¹com.offcn.sellergoods.controller.GoodsControllerï¼Œæ·»åŠ putæ–¹æ³•ä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#998;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * å•†å“ä¸Šæ¶
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * @param id
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * @return
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@PutMapping</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;/put/{id}&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> Result <span style="color:#900;font-weight:bold">put</span><span style="color:#000;font-weight:bold">(</span><span style="color:#3c5d5d;font-weight:bold">@PathVariable</span> Long id<span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    goodsService<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">put</span><span style="color:#000;font-weight:bold">(</span>id<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">new</span> Result<span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">true</span><span style="color:#000;font-weight:bold">,</span>StatusCode<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">OK</span><span style="color:#000;font-weight:bold">,</span><span style="color:#d14">&#34;ä¸Šæ¶æˆåŠŸ&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h3 id="34-æ‰¹é‡ä¸Šæ¶">3.4 æ‰¹é‡ä¸Šæ¶</h3>
<p>å‰ç«¯ä¼ é€’ä¸€ç»„å•†å“IDï¼Œåç«¯è¿›è¡Œæ‰¹é‡ä¸Šä¸‹æ¶å¤„ç†</p>
<p>(1)ä¸šåŠ¡å±‚</p>
<p>ä¿®æ”¹com.offcn.sellergoods.service.GoodsServiceæ¥å£ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> <span style="color:#900;font-weight:bold">putMany</span><span style="color:#000;font-weight:bold">(</span>Long<span style="color:#000;font-weight:bold">[]</span> ids<span style="color:#000;font-weight:bold">);</span>
</span></span></code></pre></div><p>ä¿®æ”¹com.offcn.sellergoods.service.impl.GoodsServiceImplï¼Œæ·»åŠ æ‰¹é‡ä¸Šæ¶æ–¹æ³•å®ç°ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#998;font-style:italic">/***
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * æ‰¹é‡ä¸Šæ¶
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * @param ids:éœ€è¦ä¸Šæ¶çš„å•†å“IDé›†åˆ
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * @return
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">int</span> <span style="color:#900;font-weight:bold">putMany</span><span style="color:#000;font-weight:bold">(</span>Long<span style="color:#000;font-weight:bold">[]</span> ids<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    Goods goods<span style="color:#000;font-weight:bold">=</span><span style="color:#000;font-weight:bold">new</span> Goods<span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>    goods<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setIsMarketable</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;1&#34;</span><span style="color:#000;font-weight:bold">);</span><span style="color:#998;font-style:italic">//ä¸Šæ¶
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#998;font-style:italic">//æ‰¹é‡ä¿®æ”¹
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    QueryWrapper<span style="color:#000;font-weight:bold">&lt;</span>Goods<span style="color:#000;font-weight:bold">&gt;</span> queryWrapper <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> QueryWrapper<span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    queryWrapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">in</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;id&#34;</span><span style="color:#000;font-weight:bold">,</span> Arrays<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">asList</span><span style="color:#000;font-weight:bold">(</span>ids<span style="color:#000;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//ä¸‹æ¶
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    queryWrapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">eq</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;is_marketable&#34;</span><span style="color:#000;font-weight:bold">,</span><span style="color:#d14">&#34;0&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//å®¡æ ¸é€šè¿‡çš„
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    queryWrapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">eq</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;audit_status&#34;</span><span style="color:#000;font-weight:bold">,</span><span style="color:#d14">&#34;1&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//éåˆ é™¤çš„
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    queryWrapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">eq</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;is_delete&#34;</span><span style="color:#000;font-weight:bold">,</span><span style="color:#d14">&#34;0&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> goodsMapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">update</span><span style="color:#000;font-weight:bold">(</span>goods<span style="color:#000;font-weight:bold">,</span> queryWrapper<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>(2)æ§åˆ¶å±‚</p>
<p>ä¿®æ”¹com.offcn.sellergoods.controller.GoodsControllerï¼Œæ·»åŠ æ‰¹é‡ä¸Šæ¶æ–¹æ³•ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">     *  æ‰¹é‡ä¸Šæ¶
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">     * @param ids
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">     * @return
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#3c5d5d;font-weight:bold">@PutMapping</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;/put/many&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">public</span> Result <span style="color:#900;font-weight:bold">putMany</span><span style="color:#000;font-weight:bold">(</span><span style="color:#3c5d5d;font-weight:bold">@RequestBody</span> Long<span style="color:#000;font-weight:bold">[]</span> ids<span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>        <span style="color:#458;font-weight:bold">int</span> count <span style="color:#000;font-weight:bold">=</span> goodsService<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">putMany</span><span style="color:#000;font-weight:bold">(</span>ids<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">new</span> Result<span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">true</span><span style="color:#000;font-weight:bold">,</span>StatusCode<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">OK</span><span style="color:#000;font-weight:bold">,</span><span style="color:#d14">&#34;ä¸Šæ¶&#34;</span><span style="color:#000;font-weight:bold">+</span>count<span style="color:#000;font-weight:bold">+</span><span style="color:#d14">&#34;ä¸ªå•†å“&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h3 id="35-æ‰¹é‡ä¸‹æ¶">3.5 æ‰¹é‡ä¸‹æ¶</h3>
<p>å­¦å‘˜å®ç°</p>
<h1 id="ä¹-åˆ é™¤ä¸è¿˜åŸå•†å“">ä¹ åˆ é™¤ä¸è¿˜åŸå•†å“</h1>
<h2 id="1-éœ€æ±‚åˆ†æ-5">1 éœ€æ±‚åˆ†æ</h2>
<p>è¯·çœ‹ç®¡ç†åå°çš„é™æ€åŸå‹</p>
<p>æˆ‘ä»¬ä¸ºå•†å“ç®¡ç†æä¾›å•†å“åˆ é™¤åŠŸèƒ½ï¼Œç”¨æˆ·é€‰ä¸­éƒ¨åˆ†å•†å“ï¼Œç‚¹å‡»åˆ é™¤æŒ‰é’®å³å¯å®ç°å•†å“åˆ é™¤ã€‚æ³¨æ„ï¼Œè¿™é‡Œçš„åˆ é™¤å¹¶éæ˜¯ç‰©ç†åˆ é™¤ï¼Œè€Œæ˜¯ä¿®æ”¹tb_goodsè¡¨çš„is_deleteå­—æ®µä¸º1 ï¼Œæˆ‘ä»¬å¯ä»¥ç§°ä¹‹ä¸ºâ€œé€»è¾‘åˆ é™¤â€</p>
<h2 id="2-å®ç°æ€è·¯-2">2 å®ç°æ€è·¯</h2>
<p>é€»è¾‘åˆ é™¤å•†å“ï¼Œä¿®æ”¹spuè¡¨is_deleteå­—æ®µä¸º1</p>
<h2 id="3-ä»£ç å®ç°-2">3 ä»£ç å®ç°</h2>
<h3 id="31-é€»è¾‘åˆ é™¤å•†å“">3.1 é€»è¾‘åˆ é™¤å•†å“</h3>
<p>(1)ä¸šåŠ¡å±‚</p>
<p>ä¿®æ”¹com.offcn.sellergoods.service.impl.GoodsServiceImplæ¥å£ï¼Œä¿®æ”¹deleteæ–¹æ³•ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span> <span style="color:#998;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">  * åˆ é™¤
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">  *
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">  * @param id
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">  */</span>
</span></span><span style="display:flex;"><span> <span style="color:#3c5d5d;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span> <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">delete</span><span style="color:#000;font-weight:bold">(</span>Long id<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>     <span style="color:#998;font-style:italic">// é€»è¾‘åˆ é™¤
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>     Goods goods <span style="color:#000;font-weight:bold">=</span> goodsMapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">selectById</span><span style="color:#000;font-weight:bold">(</span>id<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>     <span style="color:#998;font-style:italic">//æ£€æŸ¥æ˜¯å¦ä¸‹æ¶çš„å•†å“
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>     <span style="color:#000;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(!</span>goods<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getIsMarketable</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">equals</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;0&#34;</span><span style="color:#000;font-weight:bold">))</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>         <span style="color:#000;font-weight:bold">throw</span> <span style="color:#000;font-weight:bold">new</span> RuntimeException<span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;å¿…é¡»å…ˆä¸‹æ¶å†åˆ é™¤ï¼&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>     <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>     goods<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setIsDelete</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;1&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>     <span style="color:#998;font-style:italic">//æœªå®¡æ ¸
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>     goods<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setAuditStatus</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;0&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>     goodsMapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">updateById</span><span style="color:#000;font-weight:bold">(</span>goods<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span> <span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>(2)æ§åˆ¶å±‚</p>
<p>ä¿®æ”¹com.offcn.sellergoods.controller.GoodsControllerï¼Œæ·»åŠ deleteæ–¹æ³•ï¼Œå¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#998;font-style:italic">/***
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * æ ¹æ®IDåˆ é™¤å“ç‰Œæ•°æ®
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * @param id
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * @return
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@ApiOperation</span><span style="color:#000;font-weight:bold">(</span>value <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;Goodsæ ¹æ®IDåˆ é™¤&#34;</span><span style="color:#000;font-weight:bold">,</span>notes <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;æ ¹æ®IDåˆ é™¤Goodsæ–¹æ³•è¯¦æƒ…&#34;</span><span style="color:#000;font-weight:bold">,</span>tags <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">{</span><span style="color:#d14">&#34;GoodsController&#34;</span><span style="color:#000;font-weight:bold">})</span>
</span></span><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@ApiImplicitParam</span><span style="color:#000;font-weight:bold">(</span>paramType <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;path&#34;</span><span style="color:#000;font-weight:bold">,</span> name <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;id&#34;</span><span style="color:#000;font-weight:bold">,</span> value <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;ä¸»é”®IDé›†åˆ&#34;</span><span style="color:#000;font-weight:bold">,</span> required <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">true</span><span style="color:#000;font-weight:bold">,</span> dataType <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;Long&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@DeleteMapping</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;/{id}&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> Result <span style="color:#900;font-weight:bold">delete</span><span style="color:#000;font-weight:bold">(</span><span style="color:#3c5d5d;font-weight:bold">@PathVariable</span> Long id<span style="color:#000;font-weight:bold">){</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//è°ƒç”¨GoodsServiceå®ç°æ ¹æ®ä¸»é”®åˆ é™¤
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    goodsService<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">delete</span><span style="color:#000;font-weight:bold">(</span>id<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">new</span> Result<span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">true</span><span style="color:#000;font-weight:bold">,</span>StatusCode<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">OK</span><span style="color:#000;font-weight:bold">,</span><span style="color:#d14">&#34;åˆ é™¤æˆåŠŸ&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h1 id="å-æ³¨è§£å¼äº‹åŠ¡é…ç½®">å æ³¨è§£å¼äº‹åŠ¡é…ç½®</h1>
<h2 id="1-äº‹åŠ¡å¼‚å¸¸æµ‹è¯•">1 äº‹åŠ¡å¼‚å¸¸æµ‹è¯•</h2>
<p>æˆ‘ä»¬ä¿®æ”¹dongyimai-sellergoods-serviceå·¥ç¨‹GoodsServiceImpl.javaçš„addæ–¹æ³•</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#998;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * å¢åŠ Goods
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> *
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> * @param goods
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@Override</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">add</span><span style="color:#000;font-weight:bold">(</span>GoodsEntity goodsEntity<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    goodsEntity<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getGoods</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">setAuditStatus</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;0&#34;</span><span style="color:#000;font-weight:bold">);</span>  <span style="color:#998;font-style:italic">//å®¡æ ¸çŠ¶æ€ æœªå®¡æ ¸
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#998;font-style:italic">//1.ä¿å­˜SPU å•†å“ä¿¡æ¯å¯¹è±¡
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    goodsMapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">insert</span><span style="color:#000;font-weight:bold">(</span>goodsEntity<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getGoods</span><span style="color:#000;font-weight:bold">());</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//2.è·å–å•†å“ä¿¡æ¯å¯¹è±¡ä¸»é”®ID ,å‘å•†å“æ‰©å±•ä¿¡æ¯å¯¹è±¡ä¸­è®¾ç½®ä¸»é”®
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    goodsEntity<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getGoodsDesc</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">setGoodsId</span><span style="color:#000;font-weight:bold">(</span>goodsEntity<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getGoods</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">getId</span><span style="color:#000;font-weight:bold">());</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//3.ä¿å­˜å•†å“æ‰©å±•ä¿¡æ¯
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    goodsDescMapper<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">insert</span><span style="color:#000;font-weight:bold">(</span>goodsEntity<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getGoodsDesc</span><span style="color:#000;font-weight:bold">());</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#458;font-weight:bold">int</span> i <span style="color:#000;font-weight:bold">=</span> 1 <span style="color:#000;font-weight:bold">/</span> 0<span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//4.ä¿å­˜å•†å“SKUä¿¡æ¯
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">saveItemList</span><span style="color:#000;font-weight:bold">(</span>goodsEntity<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>åœ¨æ’å…¥å•†å“è¡¨å’Œæ‰©å±•è¡¨åï¼Œäººä¸ºåˆ¶é€ ä¸€ä¸ªå¼‚å¸¸ã€‚æˆ‘ä»¬è¿è¡Œç¨‹åºï¼Œæ–°å¢å•†å“æ•°æ®ï¼Œè§‚å¯Ÿè¿è¡Œç»“æœã€‚</p>
<p>é€šè¿‡è§‚å¯Ÿï¼Œæˆ‘ä»¬å‘ç°ï¼Œç¨‹åºå‘ç”Ÿå¼‚å¸¸ ï¼Œå•†å“è¡¨ä»ç„¶ä¼šå­˜å‚¨è®°å½•ï¼Œè¿™æ˜¯ä¸ç¬¦åˆæˆ‘ä»¬è¦æ±‚çš„ã€‚è¿™æ˜¯å› ä¸ºæˆ‘ä»¬ç›®å‰çš„ç³»ç»Ÿè¿˜æ²¡æœ‰é…ç½®äº‹åŠ¡ã€‚</p>
<h2 id="2-æ³¨è§£å¼äº‹åŠ¡è§£å†³æ–¹æ¡ˆ">2 æ³¨è§£å¼äº‹åŠ¡è§£å†³æ–¹æ¡ˆ</h2>
<p>åœ¨é¡¹ç›®<code>pom.xml</code>æ–‡ä»¶ä¸­ï¼Œå› ä¸ºå¼•å…¥äº†spring-boot-starter-jdbcï¼Œä¼šæ³¨å…¥ä¸€ä¸ª<code>DataSourceTransactionManager</code>çš„ beanï¼Œæä¾›äº†äº‹åŠ¡æ”¯æŒ
<img src="/posts/project-0/20220527221560/image-20220527222229803.png"
    
    
    
    loading="lazy"
    
    
></p>
<p><strong>@Transactional</strong></p>
<p>è¿™ä¸ªæ³¨è§£å¯ä»¥æ”¾åœ¨ç±»ä¸Šï¼Œä¹Ÿå¯ä»¥æ”¾åœ¨æ–¹æ³•ä¸Šï¼›å¦‚æœæ˜¯æ ‡æ³¨åœ¨ç±»ä¸Šï¼Œåˆ™è¿™ä¸ªç±»çš„æ‰€æœ‰å…¬å…±æ–¹æ³•ï¼Œéƒ½æ”¯æŒäº‹åŠ¡ï¼›</p>
<p>å¦‚æœç±»å’Œæ–¹æ³•ä¸Šéƒ½æœ‰ï¼Œåˆ™æ–¹æ³•ä¸Šçš„æ³¨è§£ç›¸å…³é…ç½®ï¼Œè¦†ç›–ç±»ä¸Šçš„æ³¨è§£</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@Service</span>
</span></span><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@Transactional</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">class</span> <span style="color:#458;font-weight:bold">GoodsServiceImpl</span> <span style="color:#000;font-weight:bold">extends</span> ServiceImpl<span style="color:#000;font-weight:bold">&lt;</span>GoodsMapper<span style="color:#000;font-weight:bold">,</span> Goods<span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#000;font-weight:bold">implements</span> GoodsService <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>	<span style="color:#998;font-style:italic">//æ­¤å¤„ç•¥
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>ç»è¿‡æµ‹è¯•ï¼Œæˆ‘ä»¬å‘ç°ï¼Œç³»ç»Ÿå‘ç”Ÿå¼‚å¸¸ï¼Œå•†å“è¡¨ä¸ä¼šæ–°å¢è®°å½•ï¼Œäº‹åŠ¡é…ç½®æˆåŠŸã€‚</p>
<p>åˆ é™¤æ‰æµ‹è¯•ä»£ç int x=1/0</p>
<p>æˆ‘ä»¬éœ€è¦å°†æ‰€æœ‰æ¶‰åŠå¤šè¡¨æ“ä½œçš„æœåŠ¡ç±»æ·»åŠ äº‹åŠ¡æ³¨è§£ï¼Œä¾‹å¦‚SpecificationServiceImplç±»</p>

    </div>

    

    


    <div class="container-prevnext">
    <div><a href="https://lovemjh.github.io/posts/project-0/20220527233134/">â† æ¶ˆæ¯é˜Ÿåˆ—åŠçŸ­ä¿¡å‘é€å¹³å°</a></div>
    <div><a href="https://lovemjh.github.io/posts/tool/20220526204447/">Dubbo  â†’</a></div>
</div>
</div>

        </div>
        <div id="footer"><div class="container-footer">
    
    <a href="//beian.miit.gov.cn" target="_blank">
        
        è±«ICPå¤‡2022002918å·
        
    </a>
    <a id="s" href="/secrets">&nbsp;</a>
</div></div>
    </body>
</html>
